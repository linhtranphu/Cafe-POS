(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Hr(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Oe={},bn=[],mt=()=>{},Ii=()=>!1,Is=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),qr=e=>e.startsWith("onUpdate:"),Ke=Object.assign,Kr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Pa=Object.prototype.hasOwnProperty,ke=(e,t)=>Pa.call(e,t),ce=Array.isArray,xn=e=>es(e)==="[object Map]",Tn=e=>es(e)==="[object Set]",xo=e=>es(e)==="[object Date]",pe=e=>typeof e=="function",Be=e=>typeof e=="string",At=e=>typeof e=="symbol",Ne=e=>e!==null&&typeof e=="object",Pi=e=>(Ne(e)||pe(e))&&pe(e.then)&&pe(e.catch),Di=Object.prototype.toString,es=e=>Di.call(e),Da=e=>es(e).slice(8,-1),Mi=e=>es(e)==="[object Object]",Ps=e=>Be(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Vn=Hr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ds=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ma=/-\w/g,pt=Ds(e=>e.replace(Ma,t=>t.slice(1).toUpperCase())),La=/\B([A-Z])/g,pn=Ds(e=>e.replace(La,"-$1").toLowerCase()),Ms=Ds(e=>e.charAt(0).toUpperCase()+e.slice(1)),sr=Ds(e=>e?`on${Ms(e)}`:""),Xt=(e,t)=>!Object.is(e,t),fs=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Li=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Ls=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _o;const Us=()=>_o||(_o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Gr(e){if(ce(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=Be(s)?ja(s):Gr(s);if(o)for(const i in o)t[i]=o[i]}return t}else if(Be(e)||Ne(e))return e}const Ua=/;(?![^(]*\))/g,Va=/:([^]+)/,Fa=/\/\*[^]*?\*\//g;function ja(e){const t={};return e.replace(Fa,"").split(Ua).forEach(n=>{if(n){const s=n.split(Va);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function ve(e){let t="";if(Be(e))t=e;else if(ce(e))for(let n=0;n<e.length;n++){const s=ve(e[n]);s&&(t+=s+" ")}else if(Ne(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Ba="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ha=Hr(Ba);function Ui(e){return!!e||e===""}function qa(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=dn(e[s],t[s]);return n}function dn(e,t){if(e===t)return!0;let n=xo(e),s=xo(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=At(e),s=At(t),n||s)return e===t;if(n=ce(e),s=ce(t),n||s)return n&&s?qa(e,t):!1;if(n=Ne(e),s=Ne(t),n||s){if(!n||!s)return!1;const o=Object.keys(e).length,i=Object.keys(t).length;if(o!==i)return!1;for(const l in e){const a=e.hasOwnProperty(l),u=t.hasOwnProperty(l);if(a&&!u||!a&&u||!dn(e[l],t[l]))return!1}}return String(e)===String(t)}function Wr(e,t){return e.findIndex(n=>dn(n,t))}const Vi=e=>!!(e&&e.__v_isRef===!0),v=e=>Be(e)?e:e==null?"":ce(e)||Ne(e)&&(e.toString===Di||!pe(e.toString))?Vi(e)?v(e.value):JSON.stringify(e,Fi,2):String(e),Fi=(e,t)=>Vi(t)?Fi(e,t.value):xn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],i)=>(n[rr(s,i)+" =>"]=o,n),{})}:Tn(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>rr(n))}:At(t)?rr(t):Ne(t)&&!ce(t)&&!Mi(t)?String(t):t,rr=(e,t="")=>{var n;return At(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let We;class ji{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=We,!t&&We&&(this.index=(We.scopes||(We.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=We;try{return We=this,t()}finally{We=n}}}on(){++this._on===1&&(this.prevScope=We,We=this)}off(){this._on>0&&--this._on===0&&(We=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Bi(e){return new ji(e)}function Hi(){return We}function Ka(e,t=!1){We&&We.cleanups.push(e)}let Pe;const or=new WeakSet;class qi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,We&&We.active&&We.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,or.has(this)&&(or.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Gi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wo(this),Wi(this);const t=Pe,n=gt;Pe=this,gt=!0;try{return this.fn()}finally{zi(this),Pe=t,gt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Jr(t);this.deps=this.depsTail=void 0,wo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?or.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){wr(this)&&this.run()}get dirty(){return wr(this)}}let Ki=0,Fn,jn;function Gi(e,t=!1){if(e.flags|=8,t){e.next=jn,jn=e;return}e.next=Fn,Fn=e}function zr(){Ki++}function Qr(){if(--Ki>0)return;if(jn){let t=jn;for(jn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Fn;){let t=Fn;for(Fn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Wi(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function zi(e){let t,n=e.depsTail,s=n;for(;s;){const o=s.prevDep;s.version===-1?(s===n&&(n=o),Jr(s),Ga(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=o}e.deps=t,e.depsTail=n}function wr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Qi(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Qi(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===zn)||(e.globalVersion=zn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!wr(e))))return;e.flags|=2;const t=e.dep,n=Pe,s=gt;Pe=e,gt=!0;try{Wi(e);const o=e.fn(e._value);(t.version===0||Xt(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Pe=n,gt=s,zi(e),e.flags&=-3}}function Jr(e,t=!1){const{dep:n,prevSub:s,nextSub:o}=e;if(s&&(s.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Jr(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ga(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let gt=!0;const Ji=[];function Ft(){Ji.push(gt),gt=!1}function jt(){const e=Ji.pop();gt=e===void 0?!0:e}function wo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Pe;Pe=void 0;try{t()}finally{Pe=n}}}let zn=0;class Wa{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Xr{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Pe||!gt||Pe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Pe)n=this.activeLink=new Wa(Pe,this),Pe.deps?(n.prevDep=Pe.depsTail,Pe.depsTail.nextDep=n,Pe.depsTail=n):Pe.deps=Pe.depsTail=n,Xi(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Pe.depsTail,n.nextDep=void 0,Pe.depsTail.nextDep=n,Pe.depsTail=n,Pe.deps===n&&(Pe.deps=s)}return n}trigger(t){this.version++,zn++,this.notify(t)}notify(t){zr();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Qr()}}}function Xi(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Xi(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const _s=new WeakMap,ln=Symbol(""),Cr=Symbol(""),Qn=Symbol("");function ze(e,t,n){if(gt&&Pe){let s=_s.get(e);s||_s.set(e,s=new Map);let o=s.get(n);o||(s.set(n,o=new Xr),o.map=s,o.key=n),o.track()}}function Mt(e,t,n,s,o,i){const l=_s.get(e);if(!l){zn++;return}const a=u=>{u&&u.trigger()};if(zr(),t==="clear")l.forEach(a);else{const u=ce(e),c=u&&Ps(n);if(u&&n==="length"){const d=Number(s);l.forEach((g,b)=>{(b==="length"||b===Qn||!At(b)&&b>=d)&&a(g)})}else switch((n!==void 0||l.has(void 0))&&a(l.get(n)),c&&a(l.get(Qn)),t){case"add":u?c&&a(l.get("length")):(a(l.get(ln)),xn(e)&&a(l.get(Cr)));break;case"delete":u||(a(l.get(ln)),xn(e)&&a(l.get(Cr)));break;case"set":xn(e)&&a(l.get(ln));break}}Qr()}function za(e,t){const n=_s.get(e);return n&&n.get(t)}function hn(e){const t=we(e);return t===e?t:(ze(t,"iterate",Qn),at(e)?t:t.map(bt))}function Vs(e){return ze(e=we(e),"iterate",Qn),e}function Wt(e,t){return Bt(e)?Cn(Vt(e)?bt(t):t):bt(t)}const Qa={__proto__:null,[Symbol.iterator](){return ir(this,Symbol.iterator,e=>Wt(this,e))},concat(...e){return hn(this).concat(...e.map(t=>ce(t)?hn(t):t))},entries(){return ir(this,"entries",e=>(e[1]=Wt(this,e[1]),e))},every(e,t){return Nt(this,"every",e,t,void 0,arguments)},filter(e,t){return Nt(this,"filter",e,t,n=>n.map(s=>Wt(this,s)),arguments)},find(e,t){return Nt(this,"find",e,t,n=>Wt(this,n),arguments)},findIndex(e,t){return Nt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Nt(this,"findLast",e,t,n=>Wt(this,n),arguments)},findLastIndex(e,t){return Nt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Nt(this,"forEach",e,t,void 0,arguments)},includes(...e){return lr(this,"includes",e)},indexOf(...e){return lr(this,"indexOf",e)},join(e){return hn(this).join(e)},lastIndexOf(...e){return lr(this,"lastIndexOf",e)},map(e,t){return Nt(this,"map",e,t,void 0,arguments)},pop(){return Pn(this,"pop")},push(...e){return Pn(this,"push",e)},reduce(e,...t){return Co(this,"reduce",e,t)},reduceRight(e,...t){return Co(this,"reduceRight",e,t)},shift(){return Pn(this,"shift")},some(e,t){return Nt(this,"some",e,t,void 0,arguments)},splice(...e){return Pn(this,"splice",e)},toReversed(){return hn(this).toReversed()},toSorted(e){return hn(this).toSorted(e)},toSpliced(...e){return hn(this).toSpliced(...e)},unshift(...e){return Pn(this,"unshift",e)},values(){return ir(this,"values",e=>Wt(this,e))}};function ir(e,t,n){const s=Vs(e),o=s[t]();return s!==e&&!at(e)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.done||(i.value=n(i.value)),i}),o}const Ja=Array.prototype;function Nt(e,t,n,s,o,i){const l=Vs(e),a=l!==e&&!at(e),u=l[t];if(u!==Ja[t]){const g=u.apply(e,i);return a?bt(g):g}let c=n;l!==e&&(a?c=function(g,b){return n.call(this,Wt(e,g),b,e)}:n.length>2&&(c=function(g,b){return n.call(this,g,b,e)}));const d=u.call(l,c,s);return a&&o?o(d):d}function Co(e,t,n,s){const o=Vs(e);let i=n;return o!==e&&(at(e)?n.length>3&&(i=function(l,a,u){return n.call(this,l,a,u,e)}):i=function(l,a,u){return n.call(this,l,Wt(e,a),u,e)}),o[t](i,...s)}function lr(e,t,n){const s=we(e);ze(s,"iterate",Qn);const o=s[t](...n);return(o===-1||o===!1)&&Fs(n[0])?(n[0]=we(n[0]),s[t](...n)):o}function Pn(e,t,n=[]){Ft(),zr();const s=we(e)[t].apply(e,n);return Qr(),jt(),s}const Xa=Hr("__proto__,__v_isRef,__isVue"),Yi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(At));function Ya(e){At(e)||(e=String(e));const t=we(this);return ze(t,"has",e),t.hasOwnProperty(e)}class Zi{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(o?i?au:sl:i?nl:tl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const l=ce(t);if(!o){let u;if(l&&(u=Qa[n]))return u;if(n==="hasOwnProperty")return Ya}const a=Reflect.get(t,n,Ue(t)?t:s);if((At(n)?Yi.has(n):Xa(n))||(o||ze(t,"get",n),i))return a;if(Ue(a)){const u=l&&Ps(n)?a:a.value;return o&&Ne(u)?kr(u):u}return Ne(a)?o?kr(a):ts(a):a}}class el extends Zi{constructor(t=!1){super(!1,t)}set(t,n,s,o){let i=t[n];const l=ce(t)&&Ps(n);if(!this._isShallow){const c=Bt(i);if(!at(s)&&!Bt(s)&&(i=we(i),s=we(s)),!l&&Ue(i)&&!Ue(s))return c||(i.value=s),!0}const a=l?Number(n)<t.length:ke(t,n),u=Reflect.set(t,n,s,Ue(t)?t:o);return t===we(o)&&(a?Xt(s,i)&&Mt(t,"set",n,s):Mt(t,"add",n,s)),u}deleteProperty(t,n){const s=ke(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&Mt(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!At(n)||!Yi.has(n))&&ze(t,"has",n),s}ownKeys(t){return ze(t,"iterate",ce(t)?"length":ln),Reflect.ownKeys(t)}}class Za extends Zi{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const eu=new el,tu=new Za,nu=new el(!0);const Sr=e=>e,ls=e=>Reflect.getPrototypeOf(e);function su(e,t,n){return function(...s){const o=this.__v_raw,i=we(o),l=xn(i),a=e==="entries"||e===Symbol.iterator&&l,u=e==="keys"&&l,c=o[e](...s),d=n?Sr:t?Cn:bt;return!t&&ze(i,"iterate",u?Cr:ln),Ke(Object.create(c),{next(){const{value:g,done:b}=c.next();return b?{value:g,done:b}:{value:a?[d(g[0]),d(g[1])]:d(g),done:b}}})}}function as(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ru(e,t){const n={get(o){const i=this.__v_raw,l=we(i),a=we(o);e||(Xt(o,a)&&ze(l,"get",o),ze(l,"get",a));const{has:u}=ls(l),c=t?Sr:e?Cn:bt;if(u.call(l,o))return c(i.get(o));if(u.call(l,a))return c(i.get(a));i!==l&&i.get(o)},get size(){const o=this.__v_raw;return!e&&ze(we(o),"iterate",ln),o.size},has(o){const i=this.__v_raw,l=we(i),a=we(o);return e||(Xt(o,a)&&ze(l,"has",o),ze(l,"has",a)),o===a?i.has(o):i.has(o)||i.has(a)},forEach(o,i){const l=this,a=l.__v_raw,u=we(a),c=t?Sr:e?Cn:bt;return!e&&ze(u,"iterate",ln),a.forEach((d,g)=>o.call(i,c(d),c(g),l))}};return Ke(n,e?{add:as("add"),set:as("set"),delete:as("delete"),clear:as("clear")}:{add(o){!t&&!at(o)&&!Bt(o)&&(o=we(o));const i=we(this);return ls(i).has.call(i,o)||(i.add(o),Mt(i,"add",o,o)),this},set(o,i){!t&&!at(i)&&!Bt(i)&&(i=we(i));const l=we(this),{has:a,get:u}=ls(l);let c=a.call(l,o);c||(o=we(o),c=a.call(l,o));const d=u.call(l,o);return l.set(o,i),c?Xt(i,d)&&Mt(l,"set",o,i):Mt(l,"add",o,i),this},delete(o){const i=we(this),{has:l,get:a}=ls(i);let u=l.call(i,o);u||(o=we(o),u=l.call(i,o)),a&&a.call(i,o);const c=i.delete(o);return u&&Mt(i,"delete",o,void 0),c},clear(){const o=we(this),i=o.size!==0,l=o.clear();return i&&Mt(o,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=su(o,e,t)}),n}function Yr(e,t){const n=ru(e,t);return(s,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(ke(n,o)&&o in s?n:s,o,i)}const ou={get:Yr(!1,!1)},iu={get:Yr(!1,!0)},lu={get:Yr(!0,!1)};const tl=new WeakMap,nl=new WeakMap,sl=new WeakMap,au=new WeakMap;function uu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cu(e){return e.__v_skip||!Object.isExtensible(e)?0:uu(Da(e))}function ts(e){return Bt(e)?e:Zr(e,!1,eu,ou,tl)}function rl(e){return Zr(e,!1,nu,iu,nl)}function kr(e){return Zr(e,!0,tu,lu,sl)}function Zr(e,t,n,s,o){if(!Ne(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=cu(e);if(i===0)return e;const l=o.get(e);if(l)return l;const a=new Proxy(e,i===2?s:n);return o.set(e,a),a}function Vt(e){return Bt(e)?Vt(e.__v_raw):!!(e&&e.__v_isReactive)}function Bt(e){return!!(e&&e.__v_isReadonly)}function at(e){return!!(e&&e.__v_isShallow)}function Fs(e){return e?!!e.__v_raw:!1}function we(e){const t=e&&e.__v_raw;return t?we(t):e}function eo(e){return!ke(e,"__v_skip")&&Object.isExtensible(e)&&Li(e,"__v_skip",!0),e}const bt=e=>Ne(e)?ts(e):e,Cn=e=>Ne(e)?kr(e):e;function Ue(e){return e?e.__v_isRef===!0:!1}function H(e){return ol(e,!1)}function du(e){return ol(e,!0)}function ol(e,t){return Ue(e)?e:new fu(e,t)}class fu{constructor(t,n){this.dep=new Xr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:we(t),this._value=n?t:bt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||at(t)||Bt(t);t=s?t:we(t),Xt(t,n)&&(this._rawValue=t,this._value=s?t:bt(t),this.dep.trigger())}}function an(e){return Ue(e)?e.value:e}const pu={get:(e,t,n)=>t==="__v_raw"?e:an(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return Ue(o)&&!Ue(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function il(e){return Vt(e)?e:new Proxy(e,pu)}function hu(e){const t=ce(e)?new Array(e.length):{};for(const n in e)t[n]=gu(e,n);return t}class mu{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0,this._raw=we(t);let o=!0,i=t;if(!ce(t)||!Ps(String(n)))do o=!Fs(i)||at(i);while(o&&(i=i.__v_raw));this._shallow=o}get value(){let t=this._object[this._key];return this._shallow&&(t=an(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Ue(this._raw[this._key])){const n=this._object[this._key];if(Ue(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return za(this._raw,this._key)}}function gu(e,t,n){return new mu(e,t,n)}class yu{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Xr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=zn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Pe!==this)return Gi(this,!0),!0}get value(){const t=this.dep.track();return Qi(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function vu(e,t,n=!1){let s,o;return pe(e)?s=e:(s=e.get,o=e.set),new yu(s,o,n)}const us={},ws=new WeakMap;let sn;function bu(e,t=!1,n=sn){if(n){let s=ws.get(n);s||ws.set(n,s=[]),s.push(e)}}function xu(e,t,n=Oe){const{immediate:s,deep:o,once:i,scheduler:l,augmentJob:a,call:u}=n,c=j=>o?j:at(j)||o===!1||o===0?Lt(j,1):Lt(j);let d,g,b,w,E=!1,T=!1;if(Ue(e)?(g=()=>e.value,E=at(e)):Vt(e)?(g=()=>c(e),E=!0):ce(e)?(T=!0,E=e.some(j=>Vt(j)||at(j)),g=()=>e.map(j=>{if(Ue(j))return j.value;if(Vt(j))return c(j);if(pe(j))return u?u(j,2):j()})):pe(e)?t?g=u?()=>u(e,2):e:g=()=>{if(b){Ft();try{b()}finally{jt()}}const j=sn;sn=d;try{return u?u(e,3,[w]):e(w)}finally{sn=j}}:g=mt,t&&o){const j=g,B=o===!0?1/0:o;g=()=>Lt(j(),B)}const A=Hi(),z=()=>{d.stop(),A&&A.active&&Kr(A.effects,d)};if(i&&t){const j=t;t=(...B)=>{j(...B),z()}}let K=T?new Array(e.length).fill(us):us;const W=j=>{if(!(!(d.flags&1)||!d.dirty&&!j))if(t){const B=d.run();if(o||E||(T?B.some((D,Y)=>Xt(D,K[Y])):Xt(B,K))){b&&b();const D=sn;sn=d;try{const Y=[B,K===us?void 0:T&&K[0]===us?[]:K,w];K=B,u?u(t,3,Y):t(...Y)}finally{sn=D}}}else d.run()};return a&&a(W),d=new qi(g),d.scheduler=l?()=>l(W,!1):W,w=j=>bu(j,!1,d),b=d.onStop=()=>{const j=ws.get(d);if(j){if(u)u(j,4);else for(const B of j)B();ws.delete(d)}},t?s?W(!0):K=d.run():l?l(W.bind(null,!0),!0):d.run(),z.pause=d.pause.bind(d),z.resume=d.resume.bind(d),z.stop=z,z}function Lt(e,t=1/0,n){if(t<=0||!Ne(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Ue(e))Lt(e.value,t,n);else if(ce(e))for(let s=0;s<e.length;s++)Lt(e[s],t,n);else if(Tn(e)||xn(e))e.forEach(s=>{Lt(s,t,n)});else if(Mi(e)){for(const s in e)Lt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Lt(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ns(e,t,n,s){try{return s?e(...s):e()}catch(o){js(o,t,n)}}function Ot(e,t,n,s){if(pe(e)){const o=ns(e,t,n,s);return o&&Pi(o)&&o.catch(i=>{js(i,t,n)}),o}if(ce(e)){const o=[];for(let i=0;i<e.length;i++)o.push(Ot(e[i],t,n,s));return o}}function js(e,t,n,s=!0){const o=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||Oe;if(t){let a=t.parent;const u=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](e,u,c)===!1)return}a=a.parent}if(i){Ft(),ns(i,null,10,[e,u,c]),jt();return}}_u(e,n,o,s,l)}function _u(e,t,n,s=!0,o=!1){if(o)throw e;console.error(e)}const et=[];let Rt=-1;const _n=[];let zt=null,yn=0;const ll=Promise.resolve();let Cs=null;function Bs(e){const t=Cs||ll;return e?t.then(this?e.bind(this):e):t}function wu(e){let t=Rt+1,n=et.length;for(;t<n;){const s=t+n>>>1,o=et[s],i=Jn(o);i<e||i===e&&o.flags&2?t=s+1:n=s}return t}function to(e){if(!(e.flags&1)){const t=Jn(e),n=et[et.length-1];!n||!(e.flags&2)&&t>=Jn(n)?et.push(e):et.splice(wu(t),0,e),e.flags|=1,al()}}function al(){Cs||(Cs=ll.then(cl))}function Cu(e){ce(e)?_n.push(...e):zt&&e.id===-1?zt.splice(yn+1,0,e):e.flags&1||(_n.push(e),e.flags|=1),al()}function So(e,t,n=Rt+1){for(;n<et.length;n++){const s=et[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;et.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function ul(e){if(_n.length){const t=[...new Set(_n)].sort((n,s)=>Jn(n)-Jn(s));if(_n.length=0,zt){zt.push(...t);return}for(zt=t,yn=0;yn<zt.length;yn++){const n=zt[yn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}zt=null,yn=0}}const Jn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function cl(e){const t=mt;try{for(Rt=0;Rt<et.length;Rt++){const n=et[Rt];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),ns(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;Rt<et.length;Rt++){const n=et[Rt];n&&(n.flags&=-2)}Rt=-1,et.length=0,ul(),Cs=null,(et.length||_n.length)&&cl()}}let it=null,dl=null;function Ss(e){const t=it;return it=e,dl=e&&e.type.__scopeId||null,t}function ct(e,t=it,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&Es(-1);const i=Ss(t);let l;try{l=e(...o)}finally{Ss(i),s._d&&Es(1)}return l};return s._n=!0,s._c=!0,s._d=!0,s}function F(e,t){if(it===null)return e;const n=Gs(it),s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[i,l,a,u=Oe]=t[o];i&&(pe(i)&&(i={mounted:i,updated:i}),i.deep&&Lt(l),s.push({dir:i,instance:n,value:l,oldValue:void 0,arg:a,modifiers:u}))}return e}function tn(e,t,n,s){const o=e.dirs,i=t&&t.dirs;for(let l=0;l<o.length;l++){const a=o[l];i&&(a.oldValue=i[l].value);let u=a.dir[s];u&&(Ft(),Ot(u,n,8,[e.el,a,e,t]),jt())}}function ps(e,t){if(Qe){let n=Qe.provides;const s=Qe.parent&&Qe.parent.provides;s===n&&(n=Qe.provides=Object.create(s)),n[e]=t}}function yt(e,t,n=!1){const s=Ll();if(s||cn){let o=cn?cn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&pe(t)?t.call(s&&s.proxy):t}}function Su(){return!!(Ll()||cn)}const ku=Symbol.for("v-scx"),$u=()=>yt(ku);function un(e,t,n){return fl(e,t,n)}function fl(e,t,n=Oe){const{immediate:s,deep:o,flush:i,once:l}=n,a=Ke({},n),u=t&&s||!t&&i!=="post";let c;if(Yn){if(i==="sync"){const w=$u();c=w.__watcherHandles||(w.__watcherHandles=[])}else if(!u){const w=()=>{};return w.stop=mt,w.resume=mt,w.pause=mt,w}}const d=Qe;a.call=(w,E,T)=>Ot(w,d,E,T);let g=!1;i==="post"?a.scheduler=w=>{ot(w,d&&d.suspense)}:i!=="sync"&&(g=!0,a.scheduler=(w,E)=>{E?w():to(w)}),a.augmentJob=w=>{t&&(w.flags|=4),g&&(w.flags|=2,d&&(w.id=d.uid,w.i=d))};const b=xu(e,t,a);return Yn&&(c?c.push(b):u&&b()),b}function Eu(e,t,n){const s=this.proxy,o=Be(e)?e.includes(".")?pl(s,e):()=>s[e]:e.bind(s,s);let i;pe(t)?i=t:(i=t.handler,n=t);const l=ss(this),a=fl(o,i.bind(s),n);return l(),a}function pl(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}const Ru=Symbol("_vte"),Tu=e=>e.__isTeleport,Au=Symbol("_leaveCb");function no(e,t){e.shapeFlag&6&&e.component?(e.transition=t,no(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function hl(e,t){return pe(e)?(()=>Ke({name:e.name},t,{setup:e}))():e}function ml(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const ks=new WeakMap;function Bn(e,t,n,s,o=!1){if(ce(e)){e.forEach((E,T)=>Bn(E,t&&(ce(t)?t[T]:t),n,s,o));return}if(Hn(s)&&!o){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Bn(e,t,n,s.component.subTree);return}const i=s.shapeFlag&4?Gs(s.component):s.el,l=o?null:i,{i:a,r:u}=e,c=t&&t.r,d=a.refs===Oe?a.refs={}:a.refs,g=a.setupState,b=we(g),w=g===Oe?Ii:E=>ke(b,E);if(c!=null&&c!==u){if(ko(t),Be(c))d[c]=null,w(c)&&(g[c]=null);else if(Ue(c)){c.value=null;const E=t;E.k&&(d[E.k]=null)}}if(pe(u))ns(u,a,12,[l,d]);else{const E=Be(u),T=Ue(u);if(E||T){const A=()=>{if(e.f){const z=E?w(u)?g[u]:d[u]:u.value;if(o)ce(z)&&Kr(z,i);else if(ce(z))z.includes(i)||z.push(i);else if(E)d[u]=[i],w(u)&&(g[u]=d[u]);else{const K=[i];u.value=K,e.k&&(d[e.k]=K)}}else E?(d[u]=l,w(u)&&(g[u]=l)):T&&(u.value=l,e.k&&(d[e.k]=l))};if(l){const z=()=>{A(),ks.delete(e)};z.id=-1,ks.set(e,z),ot(z,n)}else ko(e),A()}}}function ko(e){const t=ks.get(e);t&&(t.flags|=8,ks.delete(e))}Us().requestIdleCallback;Us().cancelIdleCallback;const Hn=e=>!!e.type.__asyncLoader,gl=e=>e.type.__isKeepAlive;function Ou(e,t){yl(e,"a",t)}function Nu(e,t){yl(e,"da",t)}function yl(e,t,n=Qe){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Hs(t,s,n),n){let o=n.parent;for(;o&&o.parent;)gl(o.parent.vnode)&&Iu(s,t,n,o),o=o.parent}}function Iu(e,t,n,s){const o=Hs(t,e,s,!0);vl(()=>{Kr(s[t],o)},n)}function Hs(e,t,n=Qe,s=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...l)=>{Ft();const a=ss(n),u=Ot(t,n,e,l);return a(),jt(),u});return s?o.unshift(i):o.push(i),i}}const Ht=e=>(t,n=Qe)=>{(!Yn||e==="sp")&&Hs(e,(...s)=>t(...s),n)},Pu=Ht("bm"),_t=Ht("m"),Du=Ht("bu"),Mu=Ht("u"),Lu=Ht("bum"),vl=Ht("um"),Uu=Ht("sp"),Vu=Ht("rtg"),Fu=Ht("rtc");function ju(e,t=Qe){Hs("ec",e,t)}const bl="components";function wn(e,t){return Hu(bl,e,!0,t)||e}const Bu=Symbol.for("v-ndc");function Hu(e,t,n=!0,s=!1){const o=it||Qe;if(o){const i=o.type;if(e===bl){const a=Ec(i,!1);if(a&&(a===t||a===pt(t)||a===Ms(pt(t))))return i}const l=$o(o[e]||i[e],t)||$o(o.appContext[e],t);return!l&&s?i:l}}function $o(e,t){return e&&(e[t]||e[pt(t)]||e[Ms(pt(t))])}function ue(e,t,n,s){let o;const i=n&&n[s],l=ce(e);if(l||Be(e)){const a=l&&Vt(e);let u=!1,c=!1;a&&(u=!at(e),c=Bt(e),e=Vs(e)),o=new Array(e.length);for(let d=0,g=e.length;d<g;d++)o[d]=t(u?c?Cn(bt(e[d])):bt(e[d]):e[d],d,void 0,i&&i[d])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,i&&i[a])}else if(Ne(e))if(e[Symbol.iterator])o=Array.from(e,(a,u)=>t(a,u,void 0,i&&i[u]));else{const a=Object.keys(e);o=new Array(a.length);for(let u=0,c=a.length;u<c;u++){const d=a[u];o[u]=t(e[d],d,u,i&&i[u])}}else o=[];return n&&(n[s]=o),o}const $r=e=>e?Ul(e)?Gs(e):$r(e.parent):null,qn=Ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>$r(e.parent),$root:e=>$r(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>so(e),$forceUpdate:e=>e.f||(e.f=()=>{to(e.update)}),$nextTick:e=>e.n||(e.n=Bs.bind(e.proxy)),$watch:e=>Eu.bind(e)}),ar=(e,t)=>e!==Oe&&!e.__isScriptSetup&&ke(e,t),qu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:o,props:i,accessCache:l,type:a,appContext:u}=e;if(t[0]!=="$"){const b=l[t];if(b!==void 0)switch(b){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(ar(s,t))return l[t]=1,s[t];if(o!==Oe&&ke(o,t))return l[t]=2,o[t];if(ke(i,t))return l[t]=3,i[t];if(n!==Oe&&ke(n,t))return l[t]=4,n[t];Er&&(l[t]=0)}}const c=qn[t];let d,g;if(c)return t==="$attrs"&&ze(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==Oe&&ke(n,t))return l[t]=4,n[t];if(g=u.config.globalProperties,ke(g,t))return g[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:i}=e;return ar(o,t)?(o[t]=n,!0):s!==Oe&&ke(s,t)?(s[t]=n,!0):ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,props:i,type:l}},a){let u;return!!(n[a]||e!==Oe&&a[0]!=="$"&&ke(e,a)||ar(t,a)||ke(i,a)||ke(s,a)||ke(qn,a)||ke(o.config.globalProperties,a)||(u=l.__cssModules)&&u[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ke(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Eo(e){return ce(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Er=!0;function Ku(e){const t=so(e),n=e.proxy,s=e.ctx;Er=!1,t.beforeCreate&&Ro(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:l,watch:a,provide:u,inject:c,created:d,beforeMount:g,mounted:b,beforeUpdate:w,updated:E,activated:T,deactivated:A,beforeDestroy:z,beforeUnmount:K,destroyed:W,unmounted:j,render:B,renderTracked:D,renderTriggered:Y,errorCaptured:M,serverPrefetch:L,expose:G,inheritAttrs:U,components:N,directives:ae,filters:$e}=t;if(c&&Gu(c,s,null),l)for(const J in l){const re=l[J];pe(re)&&(s[J]=re.bind(n))}if(o){const J=o.call(n,n);Ne(J)&&(e.data=ts(J))}if(Er=!0,i)for(const J in i){const re=i[J],Ve=pe(re)?re.bind(n,n):pe(re.get)?re.get.bind(n,n):mt,Fe=!pe(re)&&pe(re.set)?re.set.bind(n):mt,he=ne({get:Ve,set:Fe});Object.defineProperty(s,J,{enumerable:!0,configurable:!0,get:()=>he.value,set:Ce=>he.value=Ce})}if(a)for(const J in a)xl(a[J],s,n,J);if(u){const J=pe(u)?u.call(n):u;Reflect.ownKeys(J).forEach(re=>{ps(re,J[re])})}d&&Ro(d,e,"c");function de(J,re){ce(re)?re.forEach(Ve=>J(Ve.bind(n))):re&&J(re.bind(n))}if(de(Pu,g),de(_t,b),de(Du,w),de(Mu,E),de(Ou,T),de(Nu,A),de(ju,M),de(Fu,D),de(Vu,Y),de(Lu,K),de(vl,j),de(Uu,L),ce(G))if(G.length){const J=e.exposed||(e.exposed={});G.forEach(re=>{Object.defineProperty(J,re,{get:()=>n[re],set:Ve=>n[re]=Ve,enumerable:!0})})}else e.exposed||(e.exposed={});B&&e.render===mt&&(e.render=B),U!=null&&(e.inheritAttrs=U),N&&(e.components=N),ae&&(e.directives=ae),L&&ml(e)}function Gu(e,t,n=mt){ce(e)&&(e=Rr(e));for(const s in e){const o=e[s];let i;Ne(o)?"default"in o?i=yt(o.from||s,o.default,!0):i=yt(o.from||s):i=yt(o),Ue(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:l=>i.value=l}):t[s]=i}}function Ro(e,t,n){Ot(ce(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function xl(e,t,n,s){let o=s.includes(".")?pl(n,s):()=>n[s];if(Be(e)){const i=t[e];pe(i)&&un(o,i)}else if(pe(e))un(o,e.bind(n));else if(Ne(e))if(ce(e))e.forEach(i=>xl(i,t,n,s));else{const i=pe(e.handler)?e.handler.bind(n):t[e.handler];pe(i)&&un(o,i,e)}}function so(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:l}}=e.appContext,a=i.get(t);let u;return a?u=a:!o.length&&!n&&!s?u=t:(u={},o.length&&o.forEach(c=>$s(u,c,l,!0)),$s(u,t,l)),Ne(t)&&i.set(t,u),u}function $s(e,t,n,s=!1){const{mixins:o,extends:i}=t;i&&$s(e,i,n,!0),o&&o.forEach(l=>$s(e,l,n,!0));for(const l in t)if(!(s&&l==="expose")){const a=Wu[l]||n&&n[l];e[l]=a?a(e[l],t[l]):t[l]}return e}const Wu={data:To,props:Ao,emits:Ao,methods:Un,computed:Un,beforeCreate:Ye,created:Ye,beforeMount:Ye,mounted:Ye,beforeUpdate:Ye,updated:Ye,beforeDestroy:Ye,beforeUnmount:Ye,destroyed:Ye,unmounted:Ye,activated:Ye,deactivated:Ye,errorCaptured:Ye,serverPrefetch:Ye,components:Un,directives:Un,watch:Qu,provide:To,inject:zu};function To(e,t){return t?e?function(){return Ke(pe(e)?e.call(this,this):e,pe(t)?t.call(this,this):t)}:t:e}function zu(e,t){return Un(Rr(e),Rr(t))}function Rr(e){if(ce(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ye(e,t){return e?[...new Set([].concat(e,t))]:t}function Un(e,t){return e?Ke(Object.create(null),e,t):t}function Ao(e,t){return e?ce(e)&&ce(t)?[...new Set([...e,...t])]:Ke(Object.create(null),Eo(e),Eo(t??{})):t}function Qu(e,t){if(!e)return t;if(!t)return e;const n=Ke(Object.create(null),e);for(const s in t)n[s]=Ye(e[s],t[s]);return n}function _l(){return{app:null,config:{isNativeTag:Ii,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ju=0;function Xu(e,t){return function(s,o=null){pe(s)||(s=Ke({},s)),o!=null&&!Ne(o)&&(o=null);const i=_l(),l=new WeakSet,a=[];let u=!1;const c=i.app={_uid:Ju++,_component:s,_props:o,_container:null,_context:i,_instance:null,version:Tc,get config(){return i.config},set config(d){},use(d,...g){return l.has(d)||(d&&pe(d.install)?(l.add(d),d.install(c,...g)):pe(d)&&(l.add(d),d(c,...g))),c},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),c},component(d,g){return g?(i.components[d]=g,c):i.components[d]},directive(d,g){return g?(i.directives[d]=g,c):i.directives[d]},mount(d,g,b){if(!u){const w=c._ceVNode||ye(s,o);return w.appContext=i,b===!0?b="svg":b===!1&&(b=void 0),g&&t?t(w,d):e(w,d,b),u=!0,c._container=d,d.__vue_app__=c,Gs(w.component)}},onUnmount(d){a.push(d)},unmount(){u&&(Ot(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(d,g){return i.provides[d]=g,c},runWithContext(d){const g=cn;cn=c;try{return d()}finally{cn=g}}};return c}}let cn=null;const Yu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${pt(t)}Modifiers`]||e[`${pn(t)}Modifiers`];function Zu(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Oe;let o=n;const i=t.startsWith("update:"),l=i&&Yu(s,t.slice(7));l&&(l.trim&&(o=n.map(d=>Be(d)?d.trim():d)),l.number&&(o=n.map(Ls)));let a,u=s[a=sr(t)]||s[a=sr(pt(t))];!u&&i&&(u=s[a=sr(pn(t))]),u&&Ot(u,e,6,o);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ot(c,e,6,o)}}const ec=new WeakMap;function wl(e,t,n=!1){const s=n?ec:t.emitsCache,o=s.get(e);if(o!==void 0)return o;const i=e.emits;let l={},a=!1;if(!pe(e)){const u=c=>{const d=wl(c,t,!0);d&&(a=!0,Ke(l,d))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!a?(Ne(e)&&s.set(e,null),null):(ce(i)?i.forEach(u=>l[u]=null):Ke(l,i),Ne(e)&&s.set(e,l),l)}function qs(e,t){return!e||!Is(t)?!1:(t=t.slice(2).replace(/Once$/,""),ke(e,t[0].toLowerCase()+t.slice(1))||ke(e,pn(t))||ke(e,t))}function ur(e){const{type:t,vnode:n,proxy:s,withProxy:o,propsOptions:[i],slots:l,attrs:a,emit:u,render:c,renderCache:d,props:g,data:b,setupState:w,ctx:E,inheritAttrs:T}=e,A=Ss(e);let z,K;try{if(n.shapeFlag&4){const j=o||s,B=j;z=Tt(c.call(B,j,d,g,w,b,E)),K=a}else{const j=t;z=Tt(j.length>1?j(g,{attrs:a,slots:l,emit:u}):j(g,null)),K=t.props?a:tc(a)}}catch(j){Kn.length=0,js(j,e,1),z=ye(Yt)}let W=z;if(K&&T!==!1){const j=Object.keys(K),{shapeFlag:B}=W;j.length&&B&7&&(i&&j.some(qr)&&(K=nc(K,i)),W=Sn(W,K,!1,!0))}return n.dirs&&(W=Sn(W,null,!1,!0),W.dirs=W.dirs?W.dirs.concat(n.dirs):n.dirs),n.transition&&no(W,n.transition),z=W,Ss(A),z}const tc=e=>{let t;for(const n in e)(n==="class"||n==="style"||Is(n))&&((t||(t={}))[n]=e[n]);return t},nc=(e,t)=>{const n={};for(const s in e)(!qr(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function sc(e,t,n){const{props:s,children:o,component:i}=e,{props:l,children:a,patchFlag:u}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?Oo(s,l,c):!!l;if(u&8){const d=t.dynamicProps;for(let g=0;g<d.length;g++){const b=d[g];if(l[b]!==s[b]&&!qs(c,b))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:s===l?!1:s?l?Oo(s,l,c):!0:!!l;return!1}function Oo(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const i=s[o];if(t[i]!==e[i]&&!qs(n,i))return!0}return!1}function rc({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Cl={},Sl=()=>Object.create(Cl),kl=e=>Object.getPrototypeOf(e)===Cl;function oc(e,t,n,s=!1){const o={},i=Sl();e.propsDefaults=Object.create(null),$l(e,t,o,i);for(const l in e.propsOptions[0])l in o||(o[l]=void 0);n?e.props=s?o:rl(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function ic(e,t,n,s){const{props:o,attrs:i,vnode:{patchFlag:l}}=e,a=we(o),[u]=e.propsOptions;let c=!1;if((s||l>0)&&!(l&16)){if(l&8){const d=e.vnode.dynamicProps;for(let g=0;g<d.length;g++){let b=d[g];if(qs(e.emitsOptions,b))continue;const w=t[b];if(u)if(ke(i,b))w!==i[b]&&(i[b]=w,c=!0);else{const E=pt(b);o[E]=Tr(u,a,E,w,e,!1)}else w!==i[b]&&(i[b]=w,c=!0)}}}else{$l(e,t,o,i)&&(c=!0);let d;for(const g in a)(!t||!ke(t,g)&&((d=pn(g))===g||!ke(t,d)))&&(u?n&&(n[g]!==void 0||n[d]!==void 0)&&(o[g]=Tr(u,a,g,void 0,e,!0)):delete o[g]);if(i!==a)for(const g in i)(!t||!ke(t,g))&&(delete i[g],c=!0)}c&&Mt(e.attrs,"set","")}function $l(e,t,n,s){const[o,i]=e.propsOptions;let l=!1,a;if(t)for(let u in t){if(Vn(u))continue;const c=t[u];let d;o&&ke(o,d=pt(u))?!i||!i.includes(d)?n[d]=c:(a||(a={}))[d]=c:qs(e.emitsOptions,u)||(!(u in s)||c!==s[u])&&(s[u]=c,l=!0)}if(i){const u=we(n),c=a||Oe;for(let d=0;d<i.length;d++){const g=i[d];n[g]=Tr(o,u,g,c[g],e,!ke(c,g))}}return l}function Tr(e,t,n,s,o,i){const l=e[n];if(l!=null){const a=ke(l,"default");if(a&&s===void 0){const u=l.default;if(l.type!==Function&&!l.skipFactory&&pe(u)){const{propsDefaults:c}=o;if(n in c)s=c[n];else{const d=ss(o);s=c[n]=u.call(null,t),d()}}else s=u;o.ce&&o.ce._setProp(n,s)}l[0]&&(i&&!a?s=!1:l[1]&&(s===""||s===pn(n))&&(s=!0))}return s}const lc=new WeakMap;function El(e,t,n=!1){const s=n?lc:t.propsCache,o=s.get(e);if(o)return o;const i=e.props,l={},a=[];let u=!1;if(!pe(e)){const d=g=>{u=!0;const[b,w]=El(g,t,!0);Ke(l,b),w&&a.push(...w)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!u)return Ne(e)&&s.set(e,bn),bn;if(ce(i))for(let d=0;d<i.length;d++){const g=pt(i[d]);No(g)&&(l[g]=Oe)}else if(i)for(const d in i){const g=pt(d);if(No(g)){const b=i[d],w=l[g]=ce(b)||pe(b)?{type:b}:Ke({},b),E=w.type;let T=!1,A=!0;if(ce(E))for(let z=0;z<E.length;++z){const K=E[z],W=pe(K)&&K.name;if(W==="Boolean"){T=!0;break}else W==="String"&&(A=!1)}else T=pe(E)&&E.name==="Boolean";w[0]=T,w[1]=A,(T||ke(w,"default"))&&a.push(g)}}const c=[l,a];return Ne(e)&&s.set(e,c),c}function No(e){return e[0]!=="$"&&!Vn(e)}const ro=e=>e==="_"||e==="_ctx"||e==="$stable",oo=e=>ce(e)?e.map(Tt):[Tt(e)],ac=(e,t,n)=>{if(t._n)return t;const s=ct((...o)=>oo(t(...o)),n);return s._c=!1,s},Rl=(e,t,n)=>{const s=e._ctx;for(const o in e){if(ro(o))continue;const i=e[o];if(pe(i))t[o]=ac(o,i,s);else if(i!=null){const l=oo(i);t[o]=()=>l}}},Tl=(e,t)=>{const n=oo(t);e.slots.default=()=>n},Al=(e,t,n)=>{for(const s in t)(n||!ro(s))&&(e[s]=t[s])},uc=(e,t,n)=>{const s=e.slots=Sl();if(e.vnode.shapeFlag&32){const o=t._;o?(Al(s,t,n),n&&Li(s,"_",o,!0)):Rl(t,s)}else t&&Tl(e,t)},cc=(e,t,n)=>{const{vnode:s,slots:o}=e;let i=!0,l=Oe;if(s.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:Al(o,t,n):(i=!t.$stable,Rl(t,o)),l=t}else t&&(Tl(e,t),l={default:1});if(i)for(const a in o)!ro(a)&&l[a]==null&&delete o[a]},ot=mc;function dc(e){return fc(e)}function fc(e,t){const n=Us();n.__VUE__=!0;const{insert:s,remove:o,patchProp:i,createElement:l,createText:a,createComment:u,setText:c,setElementText:d,parentNode:g,nextSibling:b,setScopeId:w=mt,insertStaticContent:E}=e,T=(y,S,C,p=null,f=null,k=null,h=void 0,$=null,Q=!!S.dynamicChildren)=>{if(y===S)return;y&&!Dn(y,S)&&(p=V(y),Ce(y,f,k,!0),y=null),S.patchFlag===-2&&(Q=!1,S.dynamicChildren=null);const{type:P,ref:ie,shapeFlag:te}=S;switch(P){case Ks:A(y,S,C,p);break;case Yt:z(y,S,C,p);break;case hs:y==null&&K(S,C,p,h);break;case oe:N(y,S,C,p,f,k,h,$,Q);break;default:te&1?B(y,S,C,p,f,k,h,$,Q):te&6?ae(y,S,C,p,f,k,h,$,Q):(te&64||te&128)&&P.process(y,S,C,p,f,k,h,$,Q,O)}ie!=null&&f?Bn(ie,y&&y.ref,k,S||y,!S):ie==null&&y&&y.ref!=null&&Bn(y.ref,null,k,y,!0)},A=(y,S,C,p)=>{if(y==null)s(S.el=a(S.children),C,p);else{const f=S.el=y.el;S.children!==y.children&&c(f,S.children)}},z=(y,S,C,p)=>{y==null?s(S.el=u(S.children||""),C,p):S.el=y.el},K=(y,S,C,p)=>{[y.el,y.anchor]=E(y.children,S,C,p,y.el,y.anchor)},W=({el:y,anchor:S},C,p)=>{let f;for(;y&&y!==S;)f=b(y),s(y,C,p),y=f;s(S,C,p)},j=({el:y,anchor:S})=>{let C;for(;y&&y!==S;)C=b(y),o(y),y=C;o(S)},B=(y,S,C,p,f,k,h,$,Q)=>{if(S.type==="svg"?h="svg":S.type==="math"&&(h="mathml"),y==null)D(S,C,p,f,k,h,$,Q);else{const P=y.el&&y.el._isVueCE?y.el:null;try{P&&P._beginPatch(),L(y,S,f,k,h,$,Q)}finally{P&&P._endPatch()}}},D=(y,S,C,p,f,k,h,$)=>{let Q,P;const{props:ie,shapeFlag:te,transition:le,dirs:fe}=y;if(Q=y.el=l(y.type,k,ie&&ie.is,ie),te&8?d(Q,y.children):te&16&&M(y.children,Q,null,p,f,cr(y,k),h,$),fe&&tn(y,null,p,"created"),Y(Q,y,y.scopeId,h,p),ie){for(const Ie in ie)Ie!=="value"&&!Vn(Ie)&&i(Q,Ie,null,ie[Ie],k,p);"value"in ie&&i(Q,"value",null,ie.value,k),(P=ie.onVnodeBeforeMount)&&kt(P,p,y)}fe&&tn(y,null,p,"beforeMount");const be=pc(f,le);be&&le.beforeEnter(Q),s(Q,S,C),((P=ie&&ie.onVnodeMounted)||be||fe)&&ot(()=>{P&&kt(P,p,y),be&&le.enter(Q),fe&&tn(y,null,p,"mounted")},f)},Y=(y,S,C,p,f)=>{if(C&&w(y,C),p)for(let k=0;k<p.length;k++)w(y,p[k]);if(f){let k=f.subTree;if(S===k||Pl(k.type)&&(k.ssContent===S||k.ssFallback===S)){const h=f.vnode;Y(y,h,h.scopeId,h.slotScopeIds,f.parent)}}},M=(y,S,C,p,f,k,h,$,Q=0)=>{for(let P=Q;P<y.length;P++){const ie=y[P]=$?Qt(y[P]):Tt(y[P]);T(null,ie,S,C,p,f,k,h,$)}},L=(y,S,C,p,f,k,h)=>{const $=S.el=y.el;let{patchFlag:Q,dynamicChildren:P,dirs:ie}=S;Q|=y.patchFlag&16;const te=y.props||Oe,le=S.props||Oe;let fe;if(C&&nn(C,!1),(fe=le.onVnodeBeforeUpdate)&&kt(fe,C,S,y),ie&&tn(S,y,C,"beforeUpdate"),C&&nn(C,!0),(te.innerHTML&&le.innerHTML==null||te.textContent&&le.textContent==null)&&d($,""),P?G(y.dynamicChildren,P,$,C,p,cr(S,f),k):h||re(y,S,$,null,C,p,cr(S,f),k,!1),Q>0){if(Q&16)U($,te,le,C,f);else if(Q&2&&te.class!==le.class&&i($,"class",null,le.class,f),Q&4&&i($,"style",te.style,le.style,f),Q&8){const be=S.dynamicProps;for(let Ie=0;Ie<be.length;Ie++){const Ee=be[Ie],tt=te[Ee],Ge=le[Ee];(Ge!==tt||Ee==="value")&&i($,Ee,tt,Ge,f,C)}}Q&1&&y.children!==S.children&&d($,S.children)}else!h&&P==null&&U($,te,le,C,f);((fe=le.onVnodeUpdated)||ie)&&ot(()=>{fe&&kt(fe,C,S,y),ie&&tn(S,y,C,"updated")},p)},G=(y,S,C,p,f,k,h)=>{for(let $=0;$<S.length;$++){const Q=y[$],P=S[$],ie=Q.el&&(Q.type===oe||!Dn(Q,P)||Q.shapeFlag&198)?g(Q.el):C;T(Q,P,ie,null,p,f,k,h,!0)}},U=(y,S,C,p,f)=>{if(S!==C){if(S!==Oe)for(const k in S)!Vn(k)&&!(k in C)&&i(y,k,S[k],null,f,p);for(const k in C){if(Vn(k))continue;const h=C[k],$=S[k];h!==$&&k!=="value"&&i(y,k,$,h,f,p)}"value"in C&&i(y,"value",S.value,C.value,f)}},N=(y,S,C,p,f,k,h,$,Q)=>{const P=S.el=y?y.el:a(""),ie=S.anchor=y?y.anchor:a("");let{patchFlag:te,dynamicChildren:le,slotScopeIds:fe}=S;fe&&($=$?$.concat(fe):fe),y==null?(s(P,C,p),s(ie,C,p),M(S.children||[],C,ie,f,k,h,$,Q)):te>0&&te&64&&le&&y.dynamicChildren&&y.dynamicChildren.length===le.length?(G(y.dynamicChildren,le,C,f,k,h,$),(S.key!=null||f&&S===f.subTree)&&Ol(y,S,!0)):re(y,S,C,ie,f,k,h,$,Q)},ae=(y,S,C,p,f,k,h,$,Q)=>{S.slotScopeIds=$,y==null?S.shapeFlag&512?f.ctx.activate(S,C,p,h,Q):$e(S,C,p,f,k,h,Q):se(y,S,Q)},$e=(y,S,C,p,f,k,h)=>{const $=y.component=wc(y,p,f);if(gl(y)&&($.ctx.renderer=O),Cc($,!1,h),$.asyncDep){if(f&&f.registerDep($,de,h),!y.el){const Q=$.subTree=ye(Yt);z(null,Q,S,C),y.placeholder=Q.el}}else de($,y,S,C,f,k,h)},se=(y,S,C)=>{const p=S.component=y.component;if(sc(y,S,C))if(p.asyncDep&&!p.asyncResolved){J(p,S,C);return}else p.next=S,p.update();else S.el=y.el,p.vnode=S},de=(y,S,C,p,f,k,h)=>{const $=()=>{if(y.isMounted){let{next:te,bu:le,u:fe,parent:be,vnode:Ie}=y;{const st=Nl(y);if(st){te&&(te.el=Ie.el,J(y,te,h)),st.asyncDep.then(()=>{y.isUnmounted||$()});return}}let Ee=te,tt;nn(y,!1),te?(te.el=Ie.el,J(y,te,h)):te=Ie,le&&fs(le),(tt=te.props&&te.props.onVnodeBeforeUpdate)&&kt(tt,be,te,Ie),nn(y,!0);const Ge=ur(y),ht=y.subTree;y.subTree=Ge,T(ht,Ge,g(ht.el),V(ht),y,f,k),te.el=Ge.el,Ee===null&&rc(y,Ge.el),fe&&ot(fe,f),(tt=te.props&&te.props.onVnodeUpdated)&&ot(()=>kt(tt,be,te,Ie),f)}else{let te;const{el:le,props:fe}=S,{bm:be,m:Ie,parent:Ee,root:tt,type:Ge}=y,ht=Hn(S);if(nn(y,!1),be&&fs(be),!ht&&(te=fe&&fe.onVnodeBeforeMount)&&kt(te,Ee,S),nn(y,!0),le&&ge){const st=()=>{y.subTree=ur(y),ge(le,y.subTree,y,f,null)};ht&&Ge.__asyncHydrate?Ge.__asyncHydrate(le,y,st):st()}else{tt.ce&&tt.ce._def.shadowRoot!==!1&&tt.ce._injectChildStyle(Ge);const st=y.subTree=ur(y);T(null,st,C,p,y,f,k),S.el=st.el}if(Ie&&ot(Ie,f),!ht&&(te=fe&&fe.onVnodeMounted)){const st=S;ot(()=>kt(te,Ee,st),f)}(S.shapeFlag&256||Ee&&Hn(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&y.a&&ot(y.a,f),y.isMounted=!0,S=C=p=null}};y.scope.on();const Q=y.effect=new qi($);y.scope.off();const P=y.update=Q.run.bind(Q),ie=y.job=Q.runIfDirty.bind(Q);ie.i=y,ie.id=y.uid,Q.scheduler=()=>to(ie),nn(y,!0),P()},J=(y,S,C)=>{S.component=y;const p=y.vnode.props;y.vnode=S,y.next=null,ic(y,S.props,p,C),cc(y,S.children,C),Ft(),So(y),jt()},re=(y,S,C,p,f,k,h,$,Q=!1)=>{const P=y&&y.children,ie=y?y.shapeFlag:0,te=S.children,{patchFlag:le,shapeFlag:fe}=S;if(le>0){if(le&128){Fe(P,te,C,p,f,k,h,$,Q);return}else if(le&256){Ve(P,te,C,p,f,k,h,$,Q);return}}fe&8?(ie&16&&_e(P,f,k),te!==P&&d(C,te)):ie&16?fe&16?Fe(P,te,C,p,f,k,h,$,Q):_e(P,f,k,!0):(ie&8&&d(C,""),fe&16&&M(te,C,p,f,k,h,$,Q))},Ve=(y,S,C,p,f,k,h,$,Q)=>{y=y||bn,S=S||bn;const P=y.length,ie=S.length,te=Math.min(P,ie);let le;for(le=0;le<te;le++){const fe=S[le]=Q?Qt(S[le]):Tt(S[le]);T(y[le],fe,C,null,f,k,h,$,Q)}P>ie?_e(y,f,k,!0,!1,te):M(S,C,p,f,k,h,$,Q,te)},Fe=(y,S,C,p,f,k,h,$,Q)=>{let P=0;const ie=S.length;let te=y.length-1,le=ie-1;for(;P<=te&&P<=le;){const fe=y[P],be=S[P]=Q?Qt(S[P]):Tt(S[P]);if(Dn(fe,be))T(fe,be,C,null,f,k,h,$,Q);else break;P++}for(;P<=te&&P<=le;){const fe=y[te],be=S[le]=Q?Qt(S[le]):Tt(S[le]);if(Dn(fe,be))T(fe,be,C,null,f,k,h,$,Q);else break;te--,le--}if(P>te){if(P<=le){const fe=le+1,be=fe<ie?S[fe].el:p;for(;P<=le;)T(null,S[P]=Q?Qt(S[P]):Tt(S[P]),C,be,f,k,h,$,Q),P++}}else if(P>le)for(;P<=te;)Ce(y[P],f,k,!0),P++;else{const fe=P,be=P,Ie=new Map;for(P=be;P<=le;P++){const rt=S[P]=Q?Qt(S[P]):Tt(S[P]);rt.key!=null&&Ie.set(rt.key,P)}let Ee,tt=0;const Ge=le-be+1;let ht=!1,st=0;const In=new Array(Ge);for(P=0;P<Ge;P++)In[P]=0;for(P=fe;P<=te;P++){const rt=y[P];if(tt>=Ge){Ce(rt,f,k,!0);continue}let St;if(rt.key!=null)St=Ie.get(rt.key);else for(Ee=be;Ee<=le;Ee++)if(In[Ee-be]===0&&Dn(rt,S[Ee])){St=Ee;break}St===void 0?Ce(rt,f,k,!0):(In[St-be]=P+1,St>=st?st=St:ht=!0,T(rt,S[St],C,null,f,k,h,$,Q),tt++)}const yo=ht?hc(In):bn;for(Ee=yo.length-1,P=Ge-1;P>=0;P--){const rt=be+P,St=S[rt],vo=S[rt+1],bo=rt+1<ie?vo.el||Il(vo):p;In[P]===0?T(null,St,C,bo,f,k,h,$,Q):ht&&(Ee<0||P!==yo[Ee]?he(St,C,bo,2):Ee--)}}},he=(y,S,C,p,f=null)=>{const{el:k,type:h,transition:$,children:Q,shapeFlag:P}=y;if(P&6){he(y.component.subTree,S,C,p);return}if(P&128){y.suspense.move(S,C,p);return}if(P&64){h.move(y,S,C,O);return}if(h===oe){s(k,S,C);for(let te=0;te<Q.length;te++)he(Q[te],S,C,p);s(y.anchor,S,C);return}if(h===hs){W(y,S,C);return}if(p!==2&&P&1&&$)if(p===0)$.beforeEnter(k),s(k,S,C),ot(()=>$.enter(k),f);else{const{leave:te,delayLeave:le,afterLeave:fe}=$,be=()=>{y.ctx.isUnmounted?o(k):s(k,S,C)},Ie=()=>{k._isLeaving&&k[Au](!0),te(k,()=>{be(),fe&&fe()})};le?le(k,be,Ie):Ie()}else s(k,S,C)},Ce=(y,S,C,p=!1,f=!1)=>{const{type:k,props:h,ref:$,children:Q,dynamicChildren:P,shapeFlag:ie,patchFlag:te,dirs:le,cacheIndex:fe}=y;if(te===-2&&(f=!1),$!=null&&(Ft(),Bn($,null,C,y,!0),jt()),fe!=null&&(S.renderCache[fe]=void 0),ie&256){S.ctx.deactivate(y);return}const be=ie&1&&le,Ie=!Hn(y);let Ee;if(Ie&&(Ee=h&&h.onVnodeBeforeUnmount)&&kt(Ee,S,y),ie&6)je(y.component,C,p);else{if(ie&128){y.suspense.unmount(C,p);return}be&&tn(y,null,S,"beforeUnmount"),ie&64?y.type.remove(y,S,C,O,p):P&&!P.hasOnce&&(k!==oe||te>0&&te&64)?_e(P,S,C,!1,!0):(k===oe&&te&384||!f&&ie&16)&&_e(Q,S,C),p&&Me(y)}(Ie&&(Ee=h&&h.onVnodeUnmounted)||be)&&ot(()=>{Ee&&kt(Ee,S,y),be&&tn(y,null,S,"unmounted")},C)},Me=y=>{const{type:S,el:C,anchor:p,transition:f}=y;if(S===oe){De(C,p);return}if(S===hs){j(y);return}const k=()=>{o(C),f&&!f.persisted&&f.afterLeave&&f.afterLeave()};if(y.shapeFlag&1&&f&&!f.persisted){const{leave:h,delayLeave:$}=f,Q=()=>h(C,k);$?$(y.el,k,Q):Q()}else k()},De=(y,S)=>{let C;for(;y!==S;)C=b(y),o(y),y=C;o(S)},je=(y,S,C)=>{const{bum:p,scope:f,job:k,subTree:h,um:$,m:Q,a:P}=y;Io(Q),Io(P),p&&fs(p),f.stop(),k&&(k.flags|=8,Ce(h,y,S,C)),$&&ot($,S),ot(()=>{y.isUnmounted=!0},S)},_e=(y,S,C,p=!1,f=!1,k=0)=>{for(let h=k;h<y.length;h++)Ce(y[h],S,C,p,f)},V=y=>{if(y.shapeFlag&6)return V(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const S=b(y.anchor||y.el),C=S&&S[Ru];return C?b(C):S};let R=!1;const m=(y,S,C)=>{let p;y==null?S._vnode&&(Ce(S._vnode,null,null,!0),p=S._vnode.component):T(S._vnode||null,y,S,null,null,null,C),S._vnode=y,R||(R=!0,So(p),ul(),R=!1)},O={p:T,um:Ce,m:he,r:Me,mt:$e,mc:M,pc:re,pbc:G,n:V,o:e};let ee,ge;return t&&([ee,ge]=t(O)),{render:m,hydrate:ee,createApp:Xu(m,ee)}}function cr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function nn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function pc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ol(e,t,n=!1){const s=e.children,o=t.children;if(ce(s)&&ce(o))for(let i=0;i<s.length;i++){const l=s[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=Qt(o[i]),a.el=l.el),!n&&a.patchFlag!==-2&&Ol(l,a)),a.type===Ks&&(a.patchFlag!==-1?a.el=l.el:a.__elIndex=i+(e.type===oe?1:0)),a.type===Yt&&!a.el&&(a.el=l.el)}}function hc(e){const t=e.slice(),n=[0];let s,o,i,l,a;const u=e.length;for(s=0;s<u;s++){const c=e[s];if(c!==0){if(o=n[n.length-1],e[o]<c){t[s]=o,n.push(s);continue}for(i=0,l=n.length-1;i<l;)a=i+l>>1,e[n[a]]<c?i=a+1:l=a;c<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,l=n[i-1];i-- >0;)n[i]=l,l=t[l];return n}function Nl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Nl(t)}function Io(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Il(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Il(t.subTree):null}const Pl=e=>e.__isSuspense;function mc(e,t){t&&t.pendingBranch?ce(e)?t.effects.push(...e):t.effects.push(e):Cu(e)}const oe=Symbol.for("v-fgt"),Ks=Symbol.for("v-txt"),Yt=Symbol.for("v-cmt"),hs=Symbol.for("v-stc"),Kn=[];let lt=null;function x(e=!1){Kn.push(lt=e?null:[])}function gc(){Kn.pop(),lt=Kn[Kn.length-1]||null}let Xn=1;function Es(e,t=!1){Xn+=e,e<0&&lt&&t&&(lt.hasOnce=!0)}function Dl(e){return e.dynamicChildren=Xn>0?lt||bn:null,gc(),Xn>0&&lt&&lt.push(e),e}function _(e,t,n,s,o,i){return Dl(r(e,t,n,s,o,i,!0))}function Rs(e,t,n,s,o){return Dl(ye(e,t,n,s,o,!0))}function Ts(e){return e?e.__v_isVNode===!0:!1}function Dn(e,t){return e.type===t.type&&e.key===t.key}const Ml=({key:e})=>e??null,ms=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Be(e)||Ue(e)||pe(e)?{i:it,r:e,k:t,f:!!n}:e:null);function r(e,t=null,n=null,s=0,o=null,i=e===oe?0:1,l=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ml(t),ref:t&&ms(t),scopeId:dl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:it};return a?(io(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=Be(n)?8:16),Xn>0&&!l&&lt&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&lt.push(u),u}const ye=yc;function yc(e,t=null,n=null,s=0,o=null,i=!1){if((!e||e===Bu)&&(e=Yt),Ts(e)){const a=Sn(e,t,!0);return n&&io(a,n),Xn>0&&!i&&lt&&(a.shapeFlag&6?lt[lt.indexOf(e)]=a:lt.push(a)),a.patchFlag=-2,a}if(Rc(e)&&(e=e.__vccOpts),t){t=vc(t);let{class:a,style:u}=t;a&&!Be(a)&&(t.class=ve(a)),Ne(u)&&(Fs(u)&&!ce(u)&&(u=Ke({},u)),t.style=Gr(u))}const l=Be(e)?1:Pl(e)?128:Tu(e)?64:Ne(e)?4:pe(e)?2:0;return r(e,t,n,s,o,l,i,!0)}function vc(e){return e?Fs(e)||kl(e)?Ke({},e):e:null}function Sn(e,t,n=!1,s=!1){const{props:o,ref:i,patchFlag:l,children:a,transition:u}=e,c=t?bc(o||{},t):o,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Ml(c),ref:t&&t.ref?n&&i?ce(i)?i.concat(ms(t)):[i,ms(t)]:ms(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==oe?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Sn(e.ssContent),ssFallback:e.ssFallback&&Sn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&s&&no(d,u.clone(d)),d}function Te(e=" ",t=0){return ye(Ks,null,e,t)}function dt(e,t){const n=ye(hs,null,e);return n.staticCount=t,n}function q(e="",t=!1){return t?(x(),Rs(Yt,null,e)):ye(Yt,null,e)}function Tt(e){return e==null||typeof e=="boolean"?ye(Yt):ce(e)?ye(oe,null,e.slice()):Ts(e)?Qt(e):ye(Ks,null,String(e))}function Qt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Sn(e)}function io(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ce(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),io(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!kl(t)?t._ctx=it:o===3&&it&&(it.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pe(t)?(t={default:t,_ctx:it},n=32):(t=String(t),s&64?(n=16,t=[Te(t)]):n=8);e.children=t,e.shapeFlag|=n}function bc(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=ve([t.class,s.class]));else if(o==="style")t.style=Gr([t.style,s.style]);else if(Is(o)){const i=t[o],l=s[o];l&&i!==l&&!(ce(i)&&i.includes(l))&&(t[o]=i?[].concat(i,l):l)}else o!==""&&(t[o]=s[o])}return t}function kt(e,t,n,s=null){Ot(e,t,7,[n,s])}const xc=_l();let _c=0;function wc(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||xc,i={uid:_c++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ji(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:El(s,o),emitsOptions:wl(s,o),emit:null,emitted:null,propsDefaults:Oe,inheritAttrs:s.inheritAttrs,ctx:Oe,data:Oe,props:Oe,attrs:Oe,slots:Oe,refs:Oe,setupState:Oe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Zu.bind(null,i),e.ce&&e.ce(i),i}let Qe=null;const Ll=()=>Qe||it;let As,Ar;{const e=Us(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),i=>{o.length>1?o.forEach(l=>l(i)):o[0](i)}};As=t("__VUE_INSTANCE_SETTERS__",n=>Qe=n),Ar=t("__VUE_SSR_SETTERS__",n=>Yn=n)}const ss=e=>{const t=Qe;return As(e),e.scope.on(),()=>{e.scope.off(),As(t)}},Po=()=>{Qe&&Qe.scope.off(),As(null)};function Ul(e){return e.vnode.shapeFlag&4}let Yn=!1;function Cc(e,t=!1,n=!1){t&&Ar(t);const{props:s,children:o}=e.vnode,i=Ul(e);oc(e,s,i,t),uc(e,o,n||t);const l=i?Sc(e,t):void 0;return t&&Ar(!1),l}function Sc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,qu);const{setup:s}=n;if(s){Ft();const o=e.setupContext=s.length>1?$c(e):null,i=ss(e),l=ns(s,e,0,[e.props,o]),a=Pi(l);if(jt(),i(),(a||e.sp)&&!Hn(e)&&ml(e),a){if(l.then(Po,Po),t)return l.then(u=>{Do(e,u,t)}).catch(u=>{js(u,e,0)});e.asyncDep=l}else Do(e,l,t)}else Vl(e,t)}function Do(e,t,n){pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ne(t)&&(e.setupState=il(t)),Vl(e,n)}let Mo;function Vl(e,t,n){const s=e.type;if(!e.render){if(!t&&Mo&&!s.render){const o=s.template||so(e).template;if(o){const{isCustomElement:i,compilerOptions:l}=e.appContext.config,{delimiters:a,compilerOptions:u}=s,c=Ke(Ke({isCustomElement:i,delimiters:a},l),u);s.render=Mo(o,c)}}e.render=s.render||mt}{const o=ss(e);Ft();try{Ku(e)}finally{jt(),o()}}}const kc={get(e,t){return ze(e,"get",""),e[t]}};function $c(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,kc),slots:e.slots,emit:e.emit,expose:t}}function Gs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(il(eo(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in qn)return qn[n](e)},has(t,n){return n in t||n in qn}})):e.proxy}function Ec(e,t=!0){return pe(e)?e.displayName||e.name:e.name||t&&e.__name}function Rc(e){return pe(e)&&"__vccOpts"in e}const ne=(e,t)=>vu(e,t,Yn);function Fl(e,t,n){try{Es(-1);const s=arguments.length;return s===2?Ne(t)&&!ce(t)?Ts(t)?ye(e,null,[t]):ye(e,t):ye(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ts(n)&&(n=[n]),ye(e,t,n))}finally{Es(1)}}const Tc="3.5.27";/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Or;const Lo=typeof window<"u"&&window.trustedTypes;if(Lo)try{Or=Lo.createPolicy("vue",{createHTML:e=>e})}catch{}const jl=Or?e=>Or.createHTML(e):e=>e,Ac="http://www.w3.org/2000/svg",Oc="http://www.w3.org/1998/Math/MathML",Dt=typeof document<"u"?document:null,Uo=Dt&&Dt.createElement("template"),Nc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?Dt.createElementNS(Ac,e):t==="mathml"?Dt.createElementNS(Oc,e):n?Dt.createElement(e,{is:n}):Dt.createElement(e);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>Dt.createTextNode(e),createComment:e=>Dt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Dt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,i){const l=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{Uo.innerHTML=jl(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=Uo.content;if(s==="svg"||s==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}t.insertBefore(a,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ic=Symbol("_vtc");function Pc(e,t,n){const s=e[Ic];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Vo=Symbol("_vod"),Dc=Symbol("_vsh"),Mc=Symbol(""),Lc=/(?:^|;)\s*display\s*:/;function Uc(e,t,n){const s=e.style,o=Be(n);let i=!1;if(n&&!o){if(t)if(Be(t))for(const l of t.split(";")){const a=l.slice(0,l.indexOf(":")).trim();n[a]==null&&gs(s,a,"")}else for(const l in t)n[l]==null&&gs(s,l,"");for(const l in n)l==="display"&&(i=!0),gs(s,l,n[l])}else if(o){if(t!==n){const l=s[Mc];l&&(n+=";"+l),s.cssText=n,i=Lc.test(n)}}else t&&e.removeAttribute("style");Vo in e&&(e[Vo]=i?s.display:"",e[Dc]&&(s.display="none"))}const Fo=/\s*!important$/;function gs(e,t,n){if(ce(n))n.forEach(s=>gs(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Vc(e,t);Fo.test(n)?e.setProperty(pn(s),n.replace(Fo,""),"important"):e[s]=n}}const jo=["Webkit","Moz","ms"],dr={};function Vc(e,t){const n=dr[t];if(n)return n;let s=pt(t);if(s!=="filter"&&s in e)return dr[t]=s;s=Ms(s);for(let o=0;o<jo.length;o++){const i=jo[o]+s;if(i in e)return dr[t]=i}return t}const Bo="http://www.w3.org/1999/xlink";function Ho(e,t,n,s,o,i=Ha(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Bo,t.slice(6,t.length)):e.setAttributeNS(Bo,t,n):n==null||i&&!Ui(n)?e.removeAttribute(t):e.setAttribute(t,i?"":At(n)?String(n):n)}function qo(e,t,n,s,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?jl(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(a!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Ui(n):n==null&&a==="string"?(n="",l=!0):a==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(o||t)}function Ut(e,t,n,s){e.addEventListener(t,n,s)}function Fc(e,t,n,s){e.removeEventListener(t,n,s)}const Ko=Symbol("_vei");function jc(e,t,n,s,o=null){const i=e[Ko]||(e[Ko]={}),l=i[t];if(s&&l)l.value=s;else{const[a,u]=Bc(t);if(s){const c=i[t]=Kc(s,o);Ut(e,a,c,u)}else l&&(Fc(e,a,l,u),i[t]=void 0)}}const Go=/(?:Once|Passive|Capture)$/;function Bc(e){let t;if(Go.test(e)){t={};let s;for(;s=e.match(Go);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):pn(e.slice(2)),t]}let fr=0;const Hc=Promise.resolve(),qc=()=>fr||(Hc.then(()=>fr=0),fr=Date.now());function Kc(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ot(Gc(s,n.value),t,5,[s])};return n.value=e,n.attached=qc(),n}function Gc(e,t){if(ce(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const Wo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Wc=(e,t,n,s,o,i)=>{const l=o==="svg";t==="class"?Pc(e,s,l):t==="style"?Uc(e,n,s):Is(t)?qr(t)||jc(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):zc(e,t,s,l))?(qo(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ho(e,t,s,l,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Be(s))?qo(e,pt(t),s,i,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Ho(e,t,s,l))};function zc(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Wo(t)&&pe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Wo(t)&&Be(n)?!1:t in e}const Zt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ce(t)?n=>fs(t,n):t};function Qc(e){e.target.composing=!0}function zo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ft=Symbol("_assign");function Qo(e,t,n){return t&&(e=e.trim()),n&&(e=Ls(e)),e}const Z={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[ft]=Zt(o);const i=s||o.props&&o.props.type==="number";Ut(e,t?"change":"input",l=>{l.target.composing||e[ft](Qo(e.value,n,i))}),(n||i)&&Ut(e,"change",()=>{e.value=Qo(e.value,n,i)}),t||(Ut(e,"compositionstart",Qc),Ut(e,"compositionend",zo),Ut(e,"change",zo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:o,number:i}},l){if(e[ft]=Zt(l),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?Ls(e.value):e.value,u=t??"";a!==u&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||o&&e.value.trim()===u)||(e.value=u))}},Nr={deep:!0,created(e,t,n){e[ft]=Zt(n),Ut(e,"change",()=>{const s=e._modelValue,o=kn(e),i=e.checked,l=e[ft];if(ce(s)){const a=Wr(s,o),u=a!==-1;if(i&&!u)l(s.concat(o));else if(!i&&u){const c=[...s];c.splice(a,1),l(c)}}else if(Tn(s)){const a=new Set(s);i?a.add(o):a.delete(o),l(a)}else l(Bl(e,i))})},mounted:Jo,beforeUpdate(e,t,n){e[ft]=Zt(n),Jo(e,t,n)}};function Jo(e,{value:t,oldValue:n},s){e._modelValue=t;let o;if(ce(t))o=Wr(t,s.props.value)>-1;else if(Tn(t))o=t.has(s.props.value);else{if(t===n)return;o=dn(t,Bl(e,!0))}e.checked!==o&&(e.checked=o)}const pr={created(e,{value:t},n){e.checked=dn(t,n.props.value),e[ft]=Zt(n),Ut(e,"change",()=>{e[ft](kn(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[ft]=Zt(s),t!==n&&(e.checked=dn(t,s.props.value))}},xe={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const o=Tn(t);Ut(e,"change",()=>{const i=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>n?Ls(kn(l)):kn(l));e[ft](e.multiple?o?new Set(i):i:i[0]),e._assigning=!0,Bs(()=>{e._assigning=!1})}),e[ft]=Zt(s)},mounted(e,{value:t}){Xo(e,t)},beforeUpdate(e,t,n){e[ft]=Zt(n)},updated(e,{value:t}){e._assigning||Xo(e,t)}};function Xo(e,t){const n=e.multiple,s=ce(t);if(!(n&&!s&&!Tn(t))){for(let o=0,i=e.options.length;o<i;o++){const l=e.options[o],a=kn(l);if(n)if(s){const u=typeof a;u==="string"||u==="number"?l.selected=t.some(c=>String(c)===String(a)):l.selected=Wr(t,a)>-1}else l.selected=t.has(a);else if(dn(kn(l),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function kn(e){return"_value"in e?e._value:e.value}function Bl(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Jc=["ctrl","shift","alt","meta"],Xc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Jc.some(n=>e[`${n}Key`]&&!t.includes(n))},Ae=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(o,...i)=>{for(let l=0;l<t.length;l++){const a=Xc[t[l]];if(a&&a(o,t))return}return e(o,...i)})},Yc=Ke({patchProp:Wc},Nc);let Yo;function Zc(){return Yo||(Yo=dc(Yc))}const ed=(...e)=>{const t=Zc().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=nd(s);if(!o)return;const i=t._component;!pe(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const l=n(o,!1,td(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},t};function td(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function nd(e){return Be(e)?document.querySelector(e):e}var sd=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Hl;const Ws=e=>Hl=e,ql=Symbol();function Ir(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Gn;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Gn||(Gn={}));function rd(){const e=Bi(!0),t=e.run(()=>H({}));let n=[],s=[];const o=eo({install(i){Ws(o),o._a=i,i.provide(ql,o),i.config.globalProperties.$pinia=o,s.forEach(l=>n.push(l)),s=[]},use(i){return!this._a&&!sd?s.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const Kl=()=>{};function Zo(e,t,n,s=Kl){e.push(t);const o=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),s())};return!n&&Hi()&&Ka(o),o}function mn(e,...t){e.slice().forEach(n=>{n(...t)})}const od=e=>e(),ei=Symbol(),hr=Symbol();function Pr(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,s)=>e.set(s,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const s=t[n],o=e[n];Ir(o)&&Ir(s)&&e.hasOwnProperty(n)&&!Ue(s)&&!Vt(s)?e[n]=Pr(o,s):e[n]=s}return e}const id=Symbol();function ld(e){return!Ir(e)||!e.hasOwnProperty(id)}const{assign:Gt}=Object;function ad(e){return!!(Ue(e)&&e.effect)}function ud(e,t,n,s){const{state:o,actions:i,getters:l}=t,a=n.state.value[e];let u;function c(){a||(n.state.value[e]=o?o():{});const d=hu(n.state.value[e]);return Gt(d,i,Object.keys(l||{}).reduce((g,b)=>(g[b]=eo(ne(()=>{Ws(n);const w=n._s.get(e);return l[b].call(w,w)})),g),{}))}return u=Gl(e,c,t,n,s,!0),u}function Gl(e,t,n={},s,o,i){let l;const a=Gt({actions:{}},n),u={deep:!0};let c,d,g=[],b=[],w;const E=s.state.value[e];!i&&!E&&(s.state.value[e]={});let T;function A(M){let L;c=d=!1,typeof M=="function"?(M(s.state.value[e]),L={type:Gn.patchFunction,storeId:e,events:w}):(Pr(s.state.value[e],M),L={type:Gn.patchObject,payload:M,storeId:e,events:w});const G=T=Symbol();Bs().then(()=>{T===G&&(c=!0)}),d=!0,mn(g,L,s.state.value[e])}const z=i?function(){const{state:L}=n,G=L?L():{};this.$patch(U=>{Gt(U,G)})}:Kl;function K(){l.stop(),g=[],b=[],s._s.delete(e)}const W=(M,L="")=>{if(ei in M)return M[hr]=L,M;const G=function(){Ws(s);const U=Array.from(arguments),N=[],ae=[];function $e(J){N.push(J)}function se(J){ae.push(J)}mn(b,{args:U,name:G[hr],store:B,after:$e,onError:se});let de;try{de=M.apply(this&&this.$id===e?this:B,U)}catch(J){throw mn(ae,J),J}return de instanceof Promise?de.then(J=>(mn(N,J),J)).catch(J=>(mn(ae,J),Promise.reject(J))):(mn(N,de),de)};return G[ei]=!0,G[hr]=L,G},j={_p:s,$id:e,$onAction:Zo.bind(null,b),$patch:A,$reset:z,$subscribe(M,L={}){const G=Zo(g,M,L.detached,()=>U()),U=l.run(()=>un(()=>s.state.value[e],N=>{(L.flush==="sync"?d:c)&&M({storeId:e,type:Gn.direct,events:w},N)},Gt({},u,L)));return G},$dispose:K},B=ts(j);s._s.set(e,B);const Y=(s._a&&s._a.runWithContext||od)(()=>s._e.run(()=>(l=Bi()).run(()=>t({action:W}))));for(const M in Y){const L=Y[M];if(Ue(L)&&!ad(L)||Vt(L))i||(E&&ld(L)&&(Ue(L)?L.value=E[M]:Pr(L,E[M])),s.state.value[e][M]=L);else if(typeof L=="function"){const G=W(L,M);Y[M]=G,a.actions[M]=L}}return Gt(B,Y),Gt(we(B),Y),Object.defineProperty(B,"$state",{get:()=>s.state.value[e],set:M=>{A(L=>{Gt(L,M)})}}),s._p.forEach(M=>{Gt(B,l.run(()=>M({store:B,app:s._a,pinia:s,options:a})))}),E&&i&&n.hydrate&&n.hydrate(B.$state,E),c=!0,d=!0,B}/*! #__NO_SIDE_EFFECTS__ */function en(e,t,n){let s,o;const i=typeof t=="function";typeof e=="string"?(s=e,o=i?n:t):(o=e,s=e.id);function l(a,u){const c=Su();return a=a||(c?yt(ql,null):null),a&&Ws(a),a=Hl,a._s.has(s)||(i?Gl(s,t,o,a):ud(s,o,a)),a._s.get(s)}return l.$id=s,l}const Xe=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},cd={};function dd(e,t){const n=wn("router-view");return x(),Rs(n)}const fd=Xe(cd,[["render",dd]]);/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const vn=typeof document<"u";function Wl(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function pd(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Wl(e.default)}const Se=Object.assign;function mr(e,t){const n={};for(const s in t){const o=t[s];n[s]=xt(o)?o.map(e):e(o)}return n}const Wn=()=>{},xt=Array.isArray;function ti(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}const zl=/#/g,hd=/&/g,md=/\//g,gd=/=/g,yd=/\?/g,Ql=/\+/g,vd=/%5B/g,bd=/%5D/g,Jl=/%5E/g,xd=/%60/g,Xl=/%7B/g,_d=/%7C/g,Yl=/%7D/g,wd=/%20/g;function lo(e){return e==null?"":encodeURI(""+e).replace(_d,"|").replace(vd,"[").replace(bd,"]")}function Cd(e){return lo(e).replace(Xl,"{").replace(Yl,"}").replace(Jl,"^")}function Dr(e){return lo(e).replace(Ql,"%2B").replace(wd,"+").replace(zl,"%23").replace(hd,"%26").replace(xd,"`").replace(Xl,"{").replace(Yl,"}").replace(Jl,"^")}function Sd(e){return Dr(e).replace(gd,"%3D")}function kd(e){return lo(e).replace(zl,"%23").replace(yd,"%3F")}function $d(e){return kd(e).replace(md,"%2F")}function Zn(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const Ed=/\/$/,Rd=e=>e.replace(Ed,"");function gr(e,t,n="/"){let s,o={},i="",l="";const a=t.indexOf("#");let u=t.indexOf("?");return u=a>=0&&u>a?-1:u,u>=0&&(s=t.slice(0,u),i=t.slice(u,a>0?a:t.length),o=e(i.slice(1))),a>=0&&(s=s||t.slice(0,a),l=t.slice(a,t.length)),s=Nd(s??t,n),{fullPath:s+i+l,path:s,query:o,hash:Zn(l)}}function Td(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ni(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Ad(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&$n(t.matched[s],n.matched[o])&&Zl(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function $n(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Zl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!Od(e[n],t[n]))return!1;return!0}function Od(e,t){return xt(e)?si(e,t):xt(t)?si(t,e):(e==null?void 0:e.valueOf())===(t==null?void 0:t.valueOf())}function si(e,t){return xt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Nd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let i=n.length-1,l,a;for(l=0;l<s.length;l++)if(a=s[l],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(l).join("/")}const qt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Mr=function(e){return e.pop="pop",e.push="push",e}({}),yr=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function Id(e){if(!e)if(vn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Rd(e)}const Pd=/^[^#]+#/;function Dd(e,t){return e.replace(Pd,"#")+t}function Md(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const zs=()=>({left:window.scrollX,top:window.scrollY});function Ld(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Md(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ri(e,t){return(history.state?history.state.position-t:-1)+e}const Lr=new Map;function Ud(e,t){Lr.set(e,t)}function Vd(e){const t=Lr.get(e);return Lr.delete(e),t}function Fd(e){return typeof e=="string"||e&&typeof e=="object"}function ea(e){return typeof e=="string"||typeof e=="symbol"}let Le=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const ta=Symbol("");Le.MATCHER_NOT_FOUND+"",Le.NAVIGATION_GUARD_REDIRECT+"",Le.NAVIGATION_ABORTED+"",Le.NAVIGATION_CANCELLED+"",Le.NAVIGATION_DUPLICATED+"";function En(e,t){return Se(new Error,{type:e,[ta]:!0},t)}function It(e,t){return e instanceof Error&&ta in e&&(t==null||!!(e.type&t))}const jd=["params","query","hash"];function Bd(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of jd)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function Hd(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<n.length;++s){const o=n[s].replace(Ql," "),i=o.indexOf("="),l=Zn(i<0?o:o.slice(0,i)),a=i<0?null:Zn(o.slice(i+1));if(l in t){let u=t[l];xt(u)||(u=t[l]=[u]),u.push(a)}else t[l]=a}return t}function oi(e){let t="";for(let n in e){const s=e[n];if(n=Sd(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(xt(s)?s.map(o=>o&&Dr(o)):[s&&Dr(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function qd(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=xt(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Kd=Symbol(""),ii=Symbol(""),Qs=Symbol(""),na=Symbol(""),Ur=Symbol("");function Mn(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Jt(e,t,n,s,o,i=l=>l()){const l=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((a,u)=>{const c=b=>{b===!1?u(En(Le.NAVIGATION_ABORTED,{from:n,to:t})):b instanceof Error?u(b):Fd(b)?u(En(Le.NAVIGATION_GUARD_REDIRECT,{from:t,to:b})):(l&&s.enterCallbacks[o]===l&&typeof b=="function"&&l.push(b),a())},d=i(()=>e.call(s&&s.instances[o],t,n,c));let g=Promise.resolve(d);e.length<3&&(g=g.then(c)),g.catch(b=>u(b))})}function vr(e,t,n,s,o=i=>i()){const i=[];for(const l of e)for(const a in l.components){let u=l.components[a];if(!(t!=="beforeRouteEnter"&&!l.instances[a]))if(Wl(u)){const c=(u.__vccOpts||u)[t];c&&i.push(Jt(c,n,s,l,a,o))}else{let c=u();i.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${l.path}"`);const g=pd(d)?d.default:d;l.mods[a]=d,l.components[a]=g;const b=(g.__vccOpts||g)[t];return b&&Jt(b,n,s,l,a,o)()}))}}return i}function Gd(e,t){const n=[],s=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let l=0;l<i;l++){const a=t.matched[l];a&&(e.matched.find(c=>$n(c,a))?s.push(a):n.push(a));const u=e.matched[l];u&&(t.matched.find(c=>$n(c,u))||o.push(u))}return[n,s,o]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Wd=()=>location.protocol+"//"+location.host;function sa(e,t){const{pathname:n,search:s,hash:o}=t,i=e.indexOf("#");if(i>-1){let l=o.includes(e.slice(i))?e.slice(i).length:1,a=o.slice(l);return a[0]!=="/"&&(a="/"+a),ni(a,"")}return ni(n,e)+s+o}function zd(e,t,n,s){let o=[],i=[],l=null;const a=({state:b})=>{const w=sa(e,location),E=n.value,T=t.value;let A=0;if(b){if(n.value=w,t.value=b,l&&l===E){l=null;return}A=T?b.position-T.position:0}else s(w);o.forEach(z=>{z(n.value,E,{delta:A,type:Mr.pop,direction:A?A>0?yr.forward:yr.back:yr.unknown})})};function u(){l=n.value}function c(b){o.push(b);const w=()=>{const E=o.indexOf(b);E>-1&&o.splice(E,1)};return i.push(w),w}function d(){if(document.visibilityState==="hidden"){const{history:b}=window;if(!b.state)return;b.replaceState(Se({},b.state,{scroll:zs()}),"")}}function g(){for(const b of i)b();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:u,listen:c,destroy:g}}function li(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?zs():null}}function Qd(e){const{history:t,location:n}=window,s={value:sa(e,n)},o={value:t.state};o.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(u,c,d){const g=e.indexOf("#"),b=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+u:Wd()+e+u;try{t[d?"replaceState":"pushState"](c,"",b),o.value=c}catch(w){console.error(w),n[d?"replace":"assign"](b)}}function l(u,c){i(u,Se({},t.state,li(o.value.back,u,o.value.forward,!0),c,{position:o.value.position}),!0),s.value=u}function a(u,c){const d=Se({},o.value,t.state,{forward:u,scroll:zs()});i(d.current,d,!0),i(u,Se({},li(s.value,u,null),{position:d.position+1},c),!1),s.value=u}return{location:s,state:o,push:a,replace:l}}function Jd(e){e=Id(e);const t=Qd(e),n=zd(e,t.state,t.location,t.replace);function s(i,l=!0){l||n.pauseListeners(),history.go(i)}const o=Se({location:"",base:e,go:s,createHref:Dd.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}let rn=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var qe=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(qe||{});const Xd={type:rn.Static,value:""},Yd=/[a-zA-Z0-9_]/;function Zd(e){if(!e)return[[]];if(e==="/")return[[Xd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(w){throw new Error(`ERR (${n})/"${c}": ${w}`)}let n=qe.Static,s=n;const o=[];let i;function l(){i&&o.push(i),i=[]}let a=0,u,c="",d="";function g(){c&&(n===qe.Static?i.push({type:rn.Static,value:c}):n===qe.Param||n===qe.ParamRegExp||n===qe.ParamRegExpEnd?(i.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:rn.Param,value:c,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),c="")}function b(){c+=u}for(;a<e.length;){if(u=e[a++],u==="\\"&&n!==qe.ParamRegExp){s=n,n=qe.EscapeNext;continue}switch(n){case qe.Static:u==="/"?(c&&g(),l()):u===":"?(g(),n=qe.Param):b();break;case qe.EscapeNext:b(),n=s;break;case qe.Param:u==="("?n=qe.ParamRegExp:Yd.test(u)?b():(g(),n=qe.Static,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case qe.ParamRegExp:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=qe.ParamRegExpEnd:d+=u;break;case qe.ParamRegExpEnd:g(),n=qe.Static,u!=="*"&&u!=="?"&&u!=="+"&&a--,d="";break;default:t("Unknown state");break}}return n===qe.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),g(),l(),o}const ai="[^/]+?",ef={sensitive:!1,strict:!1,start:!0,end:!0};var Ze=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(Ze||{});const tf=/[.+*?^${}()[\]/\\]/g;function nf(e,t){const n=Se({},ef,t),s=[];let o=n.start?"^":"";const i=[];for(const c of e){const d=c.length?[]:[Ze.Root];n.strict&&!c.length&&(o+="/");for(let g=0;g<c.length;g++){const b=c[g];let w=Ze.Segment+(n.sensitive?Ze.BonusCaseSensitive:0);if(b.type===rn.Static)g||(o+="/"),o+=b.value.replace(tf,"\\$&"),w+=Ze.Static;else if(b.type===rn.Param){const{value:E,repeatable:T,optional:A,regexp:z}=b;i.push({name:E,repeatable:T,optional:A});const K=z||ai;if(K!==ai){w+=Ze.BonusCustomRegExp;try{`${K}`}catch(j){throw new Error(`Invalid custom RegExp for param "${E}" (${K}): `+j.message)}}let W=T?`((?:${K})(?:/(?:${K}))*)`:`(${K})`;g||(W=A&&c.length<2?`(?:/${W})`:"/"+W),A&&(W+="?"),o+=W,w+=Ze.Dynamic,A&&(w+=Ze.BonusOptional),T&&(w+=Ze.BonusRepeatable),K===".*"&&(w+=Ze.BonusWildcard)}d.push(w)}s.push(d)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=Ze.BonusStrict}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const l=new RegExp(o,n.sensitive?"":"i");function a(c){const d=c.match(l),g={};if(!d)return null;for(let b=1;b<d.length;b++){const w=d[b]||"",E=i[b-1];g[E.name]=w&&E.repeatable?w.split("/"):w}return g}function u(c){let d="",g=!1;for(const b of e){(!g||!d.endsWith("/"))&&(d+="/"),g=!1;for(const w of b)if(w.type===rn.Static)d+=w.value;else if(w.type===rn.Param){const{value:E,repeatable:T,optional:A}=w,z=E in c?c[E]:"";if(xt(z)&&!T)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const K=xt(z)?z.join("/"):z;if(!K)if(A)b.length<2&&(d.endsWith("/")?d=d.slice(0,-1):g=!0);else throw new Error(`Missing required param "${E}"`);d+=K}}return d||"/"}return{re:l,score:s,keys:i,parse:a,stringify:u}}function sf(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===Ze.Static+Ze.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Ze.Static+Ze.Segment?1:-1:0}function ra(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const i=sf(s[n],o[n]);if(i)return i;n++}if(Math.abs(o.length-s.length)===1){if(ui(s))return 1;if(ui(o))return-1}return o.length-s.length}function ui(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const rf={strict:!1,end:!0,sensitive:!1};function of(e,t,n){const s=nf(Zd(e.path),n),o=Se(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function lf(e,t){const n=[],s=new Map;t=ti(rf,t);function o(g){return s.get(g)}function i(g,b,w){const E=!w,T=di(g);T.aliasOf=w&&w.record;const A=ti(t,g),z=[T];if("alias"in g){const j=typeof g.alias=="string"?[g.alias]:g.alias;for(const B of j)z.push(di(Se({},T,{components:w?w.record.components:T.components,path:B,aliasOf:w?w.record:T})))}let K,W;for(const j of z){const{path:B}=j;if(b&&B[0]!=="/"){const D=b.record.path,Y=D[D.length-1]==="/"?"":"/";j.path=b.record.path+(B&&Y+B)}if(K=of(j,b,A),w?w.alias.push(K):(W=W||K,W!==K&&W.alias.push(K),E&&g.name&&!fi(K)&&l(g.name)),oa(K)&&u(K),T.children){const D=T.children;for(let Y=0;Y<D.length;Y++)i(D[Y],K,w&&w.children[Y])}w=w||K}return W?()=>{l(W)}:Wn}function l(g){if(ea(g)){const b=s.get(g);b&&(s.delete(g),n.splice(n.indexOf(b),1),b.children.forEach(l),b.alias.forEach(l))}else{const b=n.indexOf(g);b>-1&&(n.splice(b,1),g.record.name&&s.delete(g.record.name),g.children.forEach(l),g.alias.forEach(l))}}function a(){return n}function u(g){const b=cf(g,n);n.splice(b,0,g),g.record.name&&!fi(g)&&s.set(g.record.name,g)}function c(g,b){let w,E={},T,A;if("name"in g&&g.name){if(w=s.get(g.name),!w)throw En(Le.MATCHER_NOT_FOUND,{location:g});A=w.record.name,E=Se(ci(b.params,w.keys.filter(W=>!W.optional).concat(w.parent?w.parent.keys.filter(W=>W.optional):[]).map(W=>W.name)),g.params&&ci(g.params,w.keys.map(W=>W.name))),T=w.stringify(E)}else if(g.path!=null)T=g.path,w=n.find(W=>W.re.test(T)),w&&(E=w.parse(T),A=w.record.name);else{if(w=b.name?s.get(b.name):n.find(W=>W.re.test(b.path)),!w)throw En(Le.MATCHER_NOT_FOUND,{location:g,currentLocation:b});A=w.record.name,E=Se({},b.params,g.params),T=w.stringify(E)}const z=[];let K=w;for(;K;)z.unshift(K.record),K=K.parent;return{name:A,path:T,params:E,matched:z,meta:uf(z)}}e.forEach(g=>i(g));function d(){n.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:l,clearRoutes:d,getRoutes:a,getRecordMatcher:o}}function ci(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function di(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:af(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function af(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function fi(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function uf(e){return e.reduce((t,n)=>Se(t,n.meta),{})}function cf(e,t){let n=0,s=t.length;for(;n!==s;){const i=n+s>>1;ra(e,t[i])<0?s=i:n=i+1}const o=df(e);return o&&(s=t.lastIndexOf(o,s-1)),s}function df(e){let t=e;for(;t=t.parent;)if(oa(t)&&ra(e,t)===0)return t}function oa({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function pi(e){const t=yt(Qs),n=yt(na),s=ne(()=>{const u=an(e.to);return t.resolve(u)}),o=ne(()=>{const{matched:u}=s.value,{length:c}=u,d=u[c-1],g=n.matched;if(!d||!g.length)return-1;const b=g.findIndex($n.bind(null,d));if(b>-1)return b;const w=hi(u[c-2]);return c>1&&hi(d)===w&&g[g.length-1].path!==w?g.findIndex($n.bind(null,u[c-2])):b}),i=ne(()=>o.value>-1&&gf(n.params,s.value.params)),l=ne(()=>o.value>-1&&o.value===n.matched.length-1&&Zl(n.params,s.value.params));function a(u={}){if(mf(u)){const c=t[an(e.replace)?"replace":"push"](an(e.to)).catch(Wn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:ne(()=>s.value.href),isActive:i,isExactActive:l,navigate:a}}function ff(e){return e.length===1?e[0]:e}const pf=hl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:pi,setup(e,{slots:t}){const n=ts(pi(e)),{options:s}=yt(Qs),o=ne(()=>({[mi(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[mi(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&ff(t.default(n));return e.custom?i:Fl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},i)}}}),hf=pf;function mf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function gf(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!xt(o)||o.length!==s.length||s.some((i,l)=>i.valueOf()!==o[l].valueOf()))return!1}return!0}function hi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const mi=(e,t,n)=>e??t??n,yf=hl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=yt(Ur),o=ne(()=>e.route||s.value),i=yt(ii,0),l=ne(()=>{let c=an(i);const{matched:d}=o.value;let g;for(;(g=d[c])&&!g.components;)c++;return c}),a=ne(()=>o.value.matched[l.value]);ps(ii,ne(()=>l.value+1)),ps(Kd,a),ps(Ur,o);const u=H();return un(()=>[u.value,a.value,e.name],([c,d,g],[b,w,E])=>{d&&(d.instances[g]=c,w&&w!==d&&c&&c===b&&(d.leaveGuards.size||(d.leaveGuards=w.leaveGuards),d.updateGuards.size||(d.updateGuards=w.updateGuards))),c&&d&&(!w||!$n(d,w)||!b)&&(d.enterCallbacks[g]||[]).forEach(T=>T(c))},{flush:"post"}),()=>{const c=o.value,d=e.name,g=a.value,b=g&&g.components[d];if(!b)return gi(n.default,{Component:b,route:c});const w=g.props[d],E=w?w===!0?c.params:typeof w=="function"?w(c):w:null,A=Fl(b,Se({},E,t,{onVnodeUnmounted:z=>{z.component.isUnmounted&&(g.instances[d]=null)},ref:u}));return gi(n.default,{Component:A,route:c})||A}}});function gi(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const vf=yf;function bf(e){const t=lf(e.routes,e),n=e.parseQuery||Hd,s=e.stringifyQuery||oi,o=e.history,i=Mn(),l=Mn(),a=Mn(),u=du(qt);let c=qt;vn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=mr.bind(null,V=>""+V),g=mr.bind(null,$d),b=mr.bind(null,Zn);function w(V,R){let m,O;return ea(V)?(m=t.getRecordMatcher(V),O=R):O=V,t.addRoute(O,m)}function E(V){const R=t.getRecordMatcher(V);R&&t.removeRoute(R)}function T(){return t.getRoutes().map(V=>V.record)}function A(V){return!!t.getRecordMatcher(V)}function z(V,R){if(R=Se({},R||u.value),typeof V=="string"){const S=gr(n,V,R.path),C=t.resolve({path:S.path},R),p=o.createHref(S.fullPath);return Se(S,C,{params:b(C.params),hash:Zn(S.hash),redirectedFrom:void 0,href:p})}let m;if(V.path!=null)m=Se({},V,{path:gr(n,V.path,R.path).path});else{const S=Se({},V.params);for(const C in S)S[C]==null&&delete S[C];m=Se({},V,{params:g(S)}),R.params=g(R.params)}const O=t.resolve(m,R),ee=V.hash||"";O.params=d(b(O.params));const ge=Td(s,Se({},V,{hash:Cd(ee),path:O.path})),y=o.createHref(ge);return Se({fullPath:ge,hash:ee,query:s===oi?qd(V.query):V.query||{}},O,{redirectedFrom:void 0,href:y})}function K(V){return typeof V=="string"?gr(n,V,u.value.path):Se({},V)}function W(V,R){if(c!==V)return En(Le.NAVIGATION_CANCELLED,{from:R,to:V})}function j(V){return Y(V)}function B(V){return j(Se(K(V),{replace:!0}))}function D(V,R){const m=V.matched[V.matched.length-1];if(m&&m.redirect){const{redirect:O}=m;let ee=typeof O=="function"?O(V,R):O;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=K(ee):{path:ee},ee.params={}),Se({query:V.query,hash:V.hash,params:ee.path!=null?{}:V.params},ee)}}function Y(V,R){const m=c=z(V),O=u.value,ee=V.state,ge=V.force,y=V.replace===!0,S=D(m,O);if(S)return Y(Se(K(S),{state:typeof S=="object"?Se({},ee,S.state):ee,force:ge,replace:y}),R||m);const C=m;C.redirectedFrom=R;let p;return!ge&&Ad(s,O,m)&&(p=En(Le.NAVIGATION_DUPLICATED,{to:C,from:O}),he(O,O,!0,!1)),(p?Promise.resolve(p):G(C,O)).catch(f=>It(f)?It(f,Le.NAVIGATION_GUARD_REDIRECT)?f:Fe(f):re(f,C,O)).then(f=>{if(f){if(It(f,Le.NAVIGATION_GUARD_REDIRECT))return Y(Se({replace:y},K(f.to),{state:typeof f.to=="object"?Se({},ee,f.to.state):ee,force:ge}),R||C)}else f=N(C,O,!0,y,ee);return U(C,O,f),f})}function M(V,R){const m=W(V,R);return m?Promise.reject(m):Promise.resolve()}function L(V){const R=De.values().next().value;return R&&typeof R.runWithContext=="function"?R.runWithContext(V):V()}function G(V,R){let m;const[O,ee,ge]=Gd(V,R);m=vr(O.reverse(),"beforeRouteLeave",V,R);for(const S of O)S.leaveGuards.forEach(C=>{m.push(Jt(C,V,R))});const y=M.bind(null,V,R);return m.push(y),_e(m).then(()=>{m=[];for(const S of i.list())m.push(Jt(S,V,R));return m.push(y),_e(m)}).then(()=>{m=vr(ee,"beforeRouteUpdate",V,R);for(const S of ee)S.updateGuards.forEach(C=>{m.push(Jt(C,V,R))});return m.push(y),_e(m)}).then(()=>{m=[];for(const S of ge)if(S.beforeEnter)if(xt(S.beforeEnter))for(const C of S.beforeEnter)m.push(Jt(C,V,R));else m.push(Jt(S.beforeEnter,V,R));return m.push(y),_e(m)}).then(()=>(V.matched.forEach(S=>S.enterCallbacks={}),m=vr(ge,"beforeRouteEnter",V,R,L),m.push(y),_e(m))).then(()=>{m=[];for(const S of l.list())m.push(Jt(S,V,R));return m.push(y),_e(m)}).catch(S=>It(S,Le.NAVIGATION_CANCELLED)?S:Promise.reject(S))}function U(V,R,m){a.list().forEach(O=>L(()=>O(V,R,m)))}function N(V,R,m,O,ee){const ge=W(V,R);if(ge)return ge;const y=R===qt,S=vn?history.state:{};m&&(O||y?o.replace(V.fullPath,Se({scroll:y&&S&&S.scroll},ee)):o.push(V.fullPath,ee)),u.value=V,he(V,R,m,y),Fe()}let ae;function $e(){ae||(ae=o.listen((V,R,m)=>{if(!je.listening)return;const O=z(V),ee=D(O,je.currentRoute.value);if(ee){Y(Se(ee,{replace:!0,force:!0}),O).catch(Wn);return}c=O;const ge=u.value;vn&&Ud(ri(ge.fullPath,m.delta),zs()),G(O,ge).catch(y=>It(y,Le.NAVIGATION_ABORTED|Le.NAVIGATION_CANCELLED)?y:It(y,Le.NAVIGATION_GUARD_REDIRECT)?(Y(Se(K(y.to),{force:!0}),O).then(S=>{It(S,Le.NAVIGATION_ABORTED|Le.NAVIGATION_DUPLICATED)&&!m.delta&&m.type===Mr.pop&&o.go(-1,!1)}).catch(Wn),Promise.reject()):(m.delta&&o.go(-m.delta,!1),re(y,O,ge))).then(y=>{y=y||N(O,ge,!1),y&&(m.delta&&!It(y,Le.NAVIGATION_CANCELLED)?o.go(-m.delta,!1):m.type===Mr.pop&&It(y,Le.NAVIGATION_ABORTED|Le.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),U(O,ge,y)}).catch(Wn)}))}let se=Mn(),de=Mn(),J;function re(V,R,m){Fe(V);const O=de.list();return O.length?O.forEach(ee=>ee(V,R,m)):console.error(V),Promise.reject(V)}function Ve(){return J&&u.value!==qt?Promise.resolve():new Promise((V,R)=>{se.add([V,R])})}function Fe(V){return J||(J=!V,$e(),se.list().forEach(([R,m])=>V?m(V):R()),se.reset()),V}function he(V,R,m,O){const{scrollBehavior:ee}=e;if(!vn||!ee)return Promise.resolve();const ge=!m&&Vd(ri(V.fullPath,0))||(O||!m)&&history.state&&history.state.scroll||null;return Bs().then(()=>ee(V,R,ge)).then(y=>y&&Ld(y)).catch(y=>re(y,V,R))}const Ce=V=>o.go(V);let Me;const De=new Set,je={currentRoute:u,listening:!0,addRoute:w,removeRoute:E,clearRoutes:t.clearRoutes,hasRoute:A,getRoutes:T,resolve:z,options:e,push:j,replace:B,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:i.add,beforeResolve:l.add,afterEach:a.add,onError:de.add,isReady:Ve,install(V){V.component("RouterLink",hf),V.component("RouterView",vf),V.config.globalProperties.$router=je,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>an(u)}),vn&&!Me&&u.value===qt&&(Me=!0,j(o.location).catch(O=>{}));const R={};for(const O in qt)Object.defineProperty(R,O,{get:()=>u.value[O],enumerable:!0});V.provide(Qs,je),V.provide(na,rl(R)),V.provide(Ur,u);const m=V.unmount;De.add(V),V.unmount=function(){De.delete(V),De.size<1&&(c=qt,ae&&ae(),ae=null,u.value=qt,Me=!1,J=!1),m()}}};function _e(V){return V.reduce((R,m)=>R.then(()=>L(m)),Promise.resolve())}return je}function ia(){return yt(Qs)}function la(e,t){return function(){return e.apply(t,arguments)}}const{toString:xf}=Object.prototype,{getPrototypeOf:ao}=Object,{iterator:Js,toStringTag:aa}=Symbol,Xs=(e=>t=>{const n=xf.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),wt=e=>(e=e.toLowerCase(),t=>Xs(t)===e),Ys=e=>t=>typeof t===e,{isArray:An}=Array,Rn=Ys("undefined");function rs(e){return e!==null&&!Rn(e)&&e.constructor!==null&&!Rn(e.constructor)&&nt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ua=wt("ArrayBuffer");function _f(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ua(e.buffer),t}const wf=Ys("string"),nt=Ys("function"),ca=Ys("number"),os=e=>e!==null&&typeof e=="object",Cf=e=>e===!0||e===!1,ys=e=>{if(Xs(e)!=="object")return!1;const t=ao(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(aa in e)&&!(Js in e)},Sf=e=>{if(!os(e)||rs(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},kf=wt("Date"),$f=wt("File"),Ef=wt("Blob"),Rf=wt("FileList"),Tf=e=>os(e)&&nt(e.pipe),Af=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||nt(e.append)&&((t=Xs(e))==="formdata"||t==="object"&&nt(e.toString)&&e.toString()==="[object FormData]"))},Of=wt("URLSearchParams"),[Nf,If,Pf,Df]=["ReadableStream","Request","Response","Headers"].map(wt),Mf=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function is(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),An(e))for(s=0,o=e.length;s<o;s++)t.call(null,e[s],s,e);else{if(rs(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let a;for(s=0;s<l;s++)a=i[s],t.call(null,e[a],a,e)}}function da(e,t){if(rs(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,o;for(;s-- >0;)if(o=n[s],t===o.toLowerCase())return o;return null}const on=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),fa=e=>!Rn(e)&&e!==on;function Vr(){const{caseless:e,skipUndefined:t}=fa(this)&&this||{},n={},s=(o,i)=>{const l=e&&da(n,i)||i;ys(n[l])&&ys(o)?n[l]=Vr(n[l],o):ys(o)?n[l]=Vr({},o):An(o)?n[l]=o.slice():(!t||!Rn(o))&&(n[l]=o)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&is(arguments[o],s);return n}const Lf=(e,t,n,{allOwnKeys:s}={})=>(is(t,(o,i)=>{n&&nt(o)?e[i]=la(o,n):e[i]=o},{allOwnKeys:s}),e),Uf=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Vf=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Ff=(e,t,n,s)=>{let o,i,l;const a={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)l=o[i],(!s||s(l,e,t))&&!a[l]&&(t[l]=e[l],a[l]=!0);e=n!==!1&&ao(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},jf=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},Bf=e=>{if(!e)return null;if(An(e))return e;let t=e.length;if(!ca(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Hf=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ao(Uint8Array)),qf=(e,t)=>{const s=(e&&e[Js]).call(e);let o;for(;(o=s.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},Kf=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Gf=wt("HTMLFormElement"),Wf=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,o){return s.toUpperCase()+o}),yi=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),zf=wt("RegExp"),pa=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};is(n,(o,i)=>{let l;(l=t(o,i,e))!==!1&&(s[i]=l||o)}),Object.defineProperties(e,s)},Qf=e=>{pa(e,(t,n)=>{if(nt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(nt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Jf=(e,t)=>{const n={},s=o=>{o.forEach(i=>{n[i]=!0})};return An(e)?s(e):s(String(e).split(t)),n},Xf=()=>{},Yf=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Zf(e){return!!(e&&nt(e.append)&&e[aa]==="FormData"&&e[Js])}const ep=e=>{const t=new Array(10),n=(s,o)=>{if(os(s)){if(t.indexOf(s)>=0)return;if(rs(s))return s;if(!("toJSON"in s)){t[o]=s;const i=An(s)?[]:{};return is(s,(l,a)=>{const u=n(l,o+1);!Rn(u)&&(i[a]=u)}),t[o]=void 0,i}}return s};return n(e,0)},tp=wt("AsyncFunction"),np=e=>e&&(os(e)||nt(e))&&nt(e.then)&&nt(e.catch),ha=((e,t)=>e?setImmediate:t?((n,s)=>(on.addEventListener("message",({source:o,data:i})=>{o===on&&i===n&&s.length&&s.shift()()},!1),o=>{s.push(o),on.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",nt(on.postMessage)),sp=typeof queueMicrotask<"u"?queueMicrotask.bind(on):typeof process<"u"&&process.nextTick||ha,rp=e=>e!=null&&nt(e[Js]),I={isArray:An,isArrayBuffer:ua,isBuffer:rs,isFormData:Af,isArrayBufferView:_f,isString:wf,isNumber:ca,isBoolean:Cf,isObject:os,isPlainObject:ys,isEmptyObject:Sf,isReadableStream:Nf,isRequest:If,isResponse:Pf,isHeaders:Df,isUndefined:Rn,isDate:kf,isFile:$f,isBlob:Ef,isRegExp:zf,isFunction:nt,isStream:Tf,isURLSearchParams:Of,isTypedArray:Hf,isFileList:Rf,forEach:is,merge:Vr,extend:Lf,trim:Mf,stripBOM:Uf,inherits:Vf,toFlatObject:Ff,kindOf:Xs,kindOfTest:wt,endsWith:jf,toArray:Bf,forEachEntry:qf,matchAll:Kf,isHTMLForm:Gf,hasOwnProperty:yi,hasOwnProp:yi,reduceDescriptors:pa,freezeMethods:Qf,toObjectSet:Jf,toCamelCase:Wf,noop:Xf,toFiniteNumber:Yf,findKey:da,global:on,isContextDefined:fa,isSpecCompliantForm:Zf,toJSONObject:ep,isAsyncFn:tp,isThenable:np,setImmediate:ha,asap:sp,isIterable:rp};function me(e,t,n,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}I.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const ma=me.prototype,ga={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ga[e]={value:e}});Object.defineProperties(me,ga);Object.defineProperty(ma,"isAxiosError",{value:!0});me.from=(e,t,n,s,o,i)=>{const l=Object.create(ma);I.toFlatObject(e,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const a=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return me.call(l,a,u,n,s,o),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const op=null;function Fr(e){return I.isPlainObject(e)||I.isArray(e)}function ya(e){return I.endsWith(e,"[]")?e.slice(0,-2):e}function vi(e,t,n){return e?e.concat(t).map(function(o,i){return o=ya(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function ip(e){return I.isArray(e)&&!e.some(Fr)}const lp=I.toFlatObject(I,{},null,function(t){return/^is[A-Z]/.test(t)});function Zs(e,t,n){if(!I.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=I.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,A){return!I.isUndefined(A[T])});const s=n.metaTokens,o=n.visitor||d,i=n.dots,l=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(t);if(!I.isFunction(o))throw new TypeError("visitor must be a function");function c(E){if(E===null)return"";if(I.isDate(E))return E.toISOString();if(I.isBoolean(E))return E.toString();if(!u&&I.isBlob(E))throw new me("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(E)||I.isTypedArray(E)?u&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function d(E,T,A){let z=E;if(E&&!A&&typeof E=="object"){if(I.endsWith(T,"{}"))T=s?T:T.slice(0,-2),E=JSON.stringify(E);else if(I.isArray(E)&&ip(E)||(I.isFileList(E)||I.endsWith(T,"[]"))&&(z=I.toArray(E)))return T=ya(T),z.forEach(function(W,j){!(I.isUndefined(W)||W===null)&&t.append(l===!0?vi([T],j,i):l===null?T:T+"[]",c(W))}),!1}return Fr(E)?!0:(t.append(vi(A,T,i),c(E)),!1)}const g=[],b=Object.assign(lp,{defaultVisitor:d,convertValue:c,isVisitable:Fr});function w(E,T){if(!I.isUndefined(E)){if(g.indexOf(E)!==-1)throw Error("Circular reference detected in "+T.join("."));g.push(E),I.forEach(E,function(z,K){(!(I.isUndefined(z)||z===null)&&o.call(t,z,I.isString(K)?K.trim():K,T,b))===!0&&w(z,T?T.concat(K):[K])}),g.pop()}}if(!I.isObject(e))throw new TypeError("data must be an object");return w(e),t}function bi(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function uo(e,t){this._pairs=[],e&&Zs(e,this,t)}const va=uo.prototype;va.append=function(t,n){this._pairs.push([t,n])};va.toString=function(t){const n=t?function(s){return t.call(this,s,bi)}:bi;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function ap(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ba(e,t,n){if(!t)return e;const s=n&&n.encode||ap;I.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(o?i=o(t,n):i=I.isURLSearchParams(t)?t.toString():new uo(t,n).toString(s),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class up{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){I.forEach(this.handlers,function(s){s!==null&&t(s)})}}const xi=up,xa={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cp=typeof URLSearchParams<"u"?URLSearchParams:uo,dp=typeof FormData<"u"?FormData:null,fp=typeof Blob<"u"?Blob:null,pp={isBrowser:!0,classes:{URLSearchParams:cp,FormData:dp,Blob:fp},protocols:["http","https","file","blob","url","data"]},co=typeof window<"u"&&typeof document<"u",jr=typeof navigator=="object"&&navigator||void 0,hp=co&&(!jr||["ReactNative","NativeScript","NS"].indexOf(jr.product)<0),mp=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),gp=co&&window.location.href||"http://localhost",yp=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:co,hasStandardBrowserEnv:hp,hasStandardBrowserWebWorkerEnv:mp,navigator:jr,origin:gp},Symbol.toStringTag,{value:"Module"})),Je={...yp,...pp};function vp(e,t){return Zs(e,new Je.classes.URLSearchParams,{visitor:function(n,s,o,i){return Je.isNode&&I.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function bp(e){return I.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function xp(e){const t={},n=Object.keys(e);let s;const o=n.length;let i;for(s=0;s<o;s++)i=n[s],t[i]=e[i];return t}function _a(e){function t(n,s,o,i){let l=n[i++];if(l==="__proto__")return!0;const a=Number.isFinite(+l),u=i>=n.length;return l=!l&&I.isArray(o)?o.length:l,u?(I.hasOwnProp(o,l)?o[l]=[o[l],s]:o[l]=s,!a):((!o[l]||!I.isObject(o[l]))&&(o[l]=[]),t(n,s,o[l],i)&&I.isArray(o[l])&&(o[l]=xp(o[l])),!a)}if(I.isFormData(e)&&I.isFunction(e.entries)){const n={};return I.forEachEntry(e,(s,o)=>{t(bp(s),o,n,0)}),n}return null}function _p(e,t,n){if(I.isString(e))try{return(t||JSON.parse)(e),I.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const fo={transitional:xa,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",o=s.indexOf("application/json")>-1,i=I.isObject(t);if(i&&I.isHTMLForm(t)&&(t=new FormData(t)),I.isFormData(t))return o?JSON.stringify(_a(t)):t;if(I.isArrayBuffer(t)||I.isBuffer(t)||I.isStream(t)||I.isFile(t)||I.isBlob(t)||I.isReadableStream(t))return t;if(I.isArrayBufferView(t))return t.buffer;if(I.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return vp(t,this.formSerializer).toString();if((a=I.isFileList(t))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Zs(a?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),_p(t)):t}],transformResponse:[function(t){const n=this.transitional||fo.transitional,s=n&&n.forcedJSONParsing,o=this.responseType==="json";if(I.isResponse(t)||I.isReadableStream(t))return t;if(t&&I.isString(t)&&(s&&!this.responseType||o)){const l=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(a){if(l)throw a.name==="SyntaxError"?me.from(a,me.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Je.classes.FormData,Blob:Je.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],e=>{fo.headers[e]={}});const po=fo,wp=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cp=e=>{const t={};let n,s,o;return e&&e.split(`
`).forEach(function(l){o=l.indexOf(":"),n=l.substring(0,o).trim().toLowerCase(),s=l.substring(o+1).trim(),!(!n||t[n]&&wp[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},_i=Symbol("internals");function Ln(e){return e&&String(e).trim().toLowerCase()}function vs(e){return e===!1||e==null?e:I.isArray(e)?e.map(vs):String(e)}function Sp(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const kp=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function br(e,t,n,s,o){if(I.isFunction(s))return s.call(this,t,n);if(o&&(t=n),!!I.isString(t)){if(I.isString(s))return t.indexOf(s)!==-1;if(I.isRegExp(s))return s.test(t)}}function $p(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Ep(e,t){const n=I.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(o,i,l){return this[s].call(this,t,o,i,l)},configurable:!0})})}class er{constructor(t){t&&this.set(t)}set(t,n,s){const o=this;function i(a,u,c){const d=Ln(u);if(!d)throw new Error("header name must be a non-empty string");const g=I.findKey(o,d);(!g||o[g]===void 0||c===!0||c===void 0&&o[g]!==!1)&&(o[g||u]=vs(a))}const l=(a,u)=>I.forEach(a,(c,d)=>i(c,d,u));if(I.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(I.isString(t)&&(t=t.trim())&&!kp(t))l(Cp(t),n);else if(I.isObject(t)&&I.isIterable(t)){let a={},u,c;for(const d of t){if(!I.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(u=a[c])?I.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}l(a,n)}else t!=null&&i(n,t,s);return this}get(t,n){if(t=Ln(t),t){const s=I.findKey(this,t);if(s){const o=this[s];if(!n)return o;if(n===!0)return Sp(o);if(I.isFunction(n))return n.call(this,o,s);if(I.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ln(t),t){const s=I.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||br(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let o=!1;function i(l){if(l=Ln(l),l){const a=I.findKey(s,l);a&&(!n||br(s,s[a],a,n))&&(delete s[a],o=!0)}}return I.isArray(t)?t.forEach(i):i(t),o}clear(t){const n=Object.keys(this);let s=n.length,o=!1;for(;s--;){const i=n[s];(!t||br(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const n=this,s={};return I.forEach(this,(o,i)=>{const l=I.findKey(s,i);if(l){n[l]=vs(o),delete n[i];return}const a=t?$p(i):String(i).trim();a!==i&&delete n[i],n[a]=vs(o),s[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return I.forEach(this,(s,o)=>{s!=null&&s!==!1&&(n[o]=t&&I.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(o=>s.set(o)),s}static accessor(t){const s=(this[_i]=this[_i]={accessors:{}}).accessors,o=this.prototype;function i(l){const a=Ln(l);s[a]||(Ep(o,l),s[a]=!0)}return I.isArray(t)?t.forEach(i):i(t),this}}er.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(er.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});I.freezeMethods(er);const vt=er;function xr(e,t){const n=this||po,s=t||n,o=vt.from(s.headers);let i=s.data;return I.forEach(e,function(a){i=a.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function wa(e){return!!(e&&e.__CANCEL__)}function On(e,t,n){me.call(this,e??"canceled",me.ERR_CANCELED,t,n),this.name="CanceledError"}I.inherits(On,me,{__CANCEL__:!0});function Ca(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new me("Request failed with status code "+n.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Rp(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Tp(e,t){e=e||10;const n=new Array(e),s=new Array(e);let o=0,i=0,l;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),d=s[i];l||(l=c),n[o]=u,s[o]=c;let g=i,b=0;for(;g!==o;)b+=n[g++],g=g%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),c-l<t)return;const w=d&&c-d;return w?Math.round(b*1e3/w):void 0}}function Ap(e,t){let n=0,s=1e3/t,o,i;const l=(c,d=Date.now())=>{n=d,o=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const d=Date.now(),g=d-n;g>=s?l(c,d):(o=c,i||(i=setTimeout(()=>{i=null,l(o)},s-g)))},()=>o&&l(o)]}const Os=(e,t,n=3)=>{let s=0;const o=Tp(50,250);return Ap(i=>{const l=i.loaded,a=i.lengthComputable?i.total:void 0,u=l-s,c=o(u),d=l<=a;s=l;const g={loaded:l,total:a,progress:a?l/a:void 0,bytes:u,rate:c||void 0,estimated:c&&a&&d?(a-l)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(g)},n)},wi=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Ci=e=>(...t)=>I.asap(()=>e(...t)),Op=Je.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Je.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Je.origin),Je.navigator&&/(msie|trident)/i.test(Je.navigator.userAgent)):()=>!0,Np=Je.hasStandardBrowserEnv?{write(e,t,n,s,o,i,l){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];I.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),I.isString(s)&&a.push(`path=${s}`),I.isString(o)&&a.push(`domain=${o}`),i===!0&&a.push("secure"),I.isString(l)&&a.push(`SameSite=${l}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ip(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Pp(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Sa(e,t,n){let s=!Ip(t);return e&&(s||n==!1)?Pp(e,t):t}const Si=e=>e instanceof vt?{...e}:e;function fn(e,t){t=t||{};const n={};function s(c,d,g,b){return I.isPlainObject(c)&&I.isPlainObject(d)?I.merge.call({caseless:b},c,d):I.isPlainObject(d)?I.merge({},d):I.isArray(d)?d.slice():d}function o(c,d,g,b){if(I.isUndefined(d)){if(!I.isUndefined(c))return s(void 0,c,g,b)}else return s(c,d,g,b)}function i(c,d){if(!I.isUndefined(d))return s(void 0,d)}function l(c,d){if(I.isUndefined(d)){if(!I.isUndefined(c))return s(void 0,c)}else return s(void 0,d)}function a(c,d,g){if(g in t)return s(c,d);if(g in e)return s(void 0,c)}const u={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:a,headers:(c,d,g)=>o(Si(c),Si(d),g,!0)};return I.forEach(Object.keys({...e,...t}),function(d){const g=u[d]||o,b=g(e[d],t[d],d);I.isUndefined(b)&&g!==a||(n[d]=b)}),n}const ka=e=>{const t=fn({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:i,headers:l,auth:a}=t;if(t.headers=l=vt.from(l),t.url=ba(Sa(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&l.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),I.isFormData(n)){if(Je.hasStandardBrowserEnv||Je.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(I.isFunction(n.getHeaders)){const u=n.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,g])=>{c.includes(d.toLowerCase())&&l.set(d,g)})}}if(Je.hasStandardBrowserEnv&&(s&&I.isFunction(s)&&(s=s(t)),s||s!==!1&&Op(t.url))){const u=o&&i&&Np.read(i);u&&l.set(o,u)}return t},Dp=typeof XMLHttpRequest<"u",Mp=Dp&&function(e){return new Promise(function(n,s){const o=ka(e);let i=o.data;const l=vt.from(o.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:c}=o,d,g,b,w,E;function T(){w&&w(),E&&E(),o.cancelToken&&o.cancelToken.unsubscribe(d),o.signal&&o.signal.removeEventListener("abort",d)}let A=new XMLHttpRequest;A.open(o.method.toUpperCase(),o.url,!0),A.timeout=o.timeout;function z(){if(!A)return;const W=vt.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),B={data:!a||a==="text"||a==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:W,config:e,request:A};Ca(function(Y){n(Y),T()},function(Y){s(Y),T()},B),A=null}"onloadend"in A?A.onloadend=z:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(z)},A.onabort=function(){A&&(s(new me("Request aborted",me.ECONNABORTED,e,A)),A=null)},A.onerror=function(j){const B=j&&j.message?j.message:"Network Error",D=new me(B,me.ERR_NETWORK,e,A);D.event=j||null,s(D),A=null},A.ontimeout=function(){let j=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const B=o.transitional||xa;o.timeoutErrorMessage&&(j=o.timeoutErrorMessage),s(new me(j,B.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,e,A)),A=null},i===void 0&&l.setContentType(null),"setRequestHeader"in A&&I.forEach(l.toJSON(),function(j,B){A.setRequestHeader(B,j)}),I.isUndefined(o.withCredentials)||(A.withCredentials=!!o.withCredentials),a&&a!=="json"&&(A.responseType=o.responseType),c&&([b,E]=Os(c,!0),A.addEventListener("progress",b)),u&&A.upload&&([g,w]=Os(u),A.upload.addEventListener("progress",g),A.upload.addEventListener("loadend",w)),(o.cancelToken||o.signal)&&(d=W=>{A&&(s(!W||W.type?new On(null,e,A):W),A.abort(),A=null)},o.cancelToken&&o.cancelToken.subscribe(d),o.signal&&(o.signal.aborted?d():o.signal.addEventListener("abort",d)));const K=Rp(o.url);if(K&&Je.protocols.indexOf(K)===-1){s(new me("Unsupported protocol "+K+":",me.ERR_BAD_REQUEST,e));return}A.send(i||null)})},Lp=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,o;const i=function(c){if(!o){o=!0,a();const d=c instanceof Error?c:this.reason;s.abort(d instanceof me?d:new On(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,i(new me(`timeout ${t} of ms exceeded`,me.ETIMEDOUT))},t);const a=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:u}=s;return u.unsubscribe=()=>I.asap(a),u}},Up=Lp,Vp=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let s=0,o;for(;s<n;)o=s+t,yield e.slice(s,o),s=o},Fp=async function*(e,t){for await(const n of jp(e))yield*Vp(n,t)},jp=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},ki=(e,t,n,s)=>{const o=Fp(e,t);let i=0,l,a=u=>{l||(l=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await o.next();if(c){a(),u.close();return}let g=d.byteLength;if(n){let b=i+=g;n(b)}u.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(u){return a(u),o.return()}},{highWaterMark:2})},$i=64*1024,{isFunction:cs}=I,Bp=(({Request:e,Response:t})=>({Request:e,Response:t}))(I.global),{ReadableStream:Ei,TextEncoder:Ri}=I.global,Ti=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Hp=e=>{e=I.merge.call({skipUndefined:!0},Bp,e);const{fetch:t,Request:n,Response:s}=e,o=t?cs(t):typeof fetch=="function",i=cs(n),l=cs(s);if(!o)return!1;const a=o&&cs(Ei),u=o&&(typeof Ri=="function"?(E=>T=>E.encode(T))(new Ri):async E=>new Uint8Array(await new n(E).arrayBuffer())),c=i&&a&&Ti(()=>{let E=!1;const T=new n(Je.origin,{body:new Ei,method:"POST",get duplex(){return E=!0,"half"}}).headers.has("Content-Type");return E&&!T}),d=l&&a&&Ti(()=>I.isReadableStream(new s("").body)),g={stream:d&&(E=>E.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(E=>{!g[E]&&(g[E]=(T,A)=>{let z=T&&T[E];if(z)return z.call(T);throw new me(`Response type '${E}' is not supported`,me.ERR_NOT_SUPPORT,A)})});const b=async E=>{if(E==null)return 0;if(I.isBlob(E))return E.size;if(I.isSpecCompliantForm(E))return(await new n(Je.origin,{method:"POST",body:E}).arrayBuffer()).byteLength;if(I.isArrayBufferView(E)||I.isArrayBuffer(E))return E.byteLength;if(I.isURLSearchParams(E)&&(E=E+""),I.isString(E))return(await u(E)).byteLength},w=async(E,T)=>{const A=I.toFiniteNumber(E.getContentLength());return A??b(T)};return async E=>{let{url:T,method:A,data:z,signal:K,cancelToken:W,timeout:j,onDownloadProgress:B,onUploadProgress:D,responseType:Y,headers:M,withCredentials:L="same-origin",fetchOptions:G}=ka(E),U=t||fetch;Y=Y?(Y+"").toLowerCase():"text";let N=Up([K,W&&W.toAbortSignal()],j),ae=null;const $e=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let se;try{if(D&&c&&A!=="get"&&A!=="head"&&(se=await w(M,z))!==0){let he=new n(T,{method:"POST",body:z,duplex:"half"}),Ce;if(I.isFormData(z)&&(Ce=he.headers.get("content-type"))&&M.setContentType(Ce),he.body){const[Me,De]=wi(se,Os(Ci(D)));z=ki(he.body,$i,Me,De)}}I.isString(L)||(L=L?"include":"omit");const de=i&&"credentials"in n.prototype,J={...G,signal:N,method:A.toUpperCase(),headers:M.normalize().toJSON(),body:z,duplex:"half",credentials:de?L:void 0};ae=i&&new n(T,J);let re=await(i?U(ae,G):U(T,J));const Ve=d&&(Y==="stream"||Y==="response");if(d&&(B||Ve&&$e)){const he={};["status","statusText","headers"].forEach(je=>{he[je]=re[je]});const Ce=I.toFiniteNumber(re.headers.get("content-length")),[Me,De]=B&&wi(Ce,Os(Ci(B),!0))||[];re=new s(ki(re.body,$i,Me,()=>{De&&De(),$e&&$e()}),he)}Y=Y||"text";let Fe=await g[I.findKey(g,Y)||"text"](re,E);return!Ve&&$e&&$e(),await new Promise((he,Ce)=>{Ca(he,Ce,{data:Fe,headers:vt.from(re.headers),status:re.status,statusText:re.statusText,config:E,request:ae})})}catch(de){throw $e&&$e(),de&&de.name==="TypeError"&&/Load failed|fetch/i.test(de.message)?Object.assign(new me("Network Error",me.ERR_NETWORK,E,ae),{cause:de.cause||de}):me.from(de,de&&de.code,E,ae)}}},qp=new Map,$a=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:o}=t,i=[s,o,n];let l=i.length,a=l,u,c,d=qp;for(;a--;)u=i[a],c=d.get(u),c===void 0&&d.set(u,c=a?new Map:Hp(t)),d=c;return c};$a();const ho={http:op,xhr:Mp,fetch:{get:$a}};I.forEach(ho,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ai=e=>`- ${e}`,Kp=e=>I.isFunction(e)||e===null||e===!1;function Gp(e,t){e=I.isArray(e)?e:[e];const{length:n}=e;let s,o;const i={};for(let l=0;l<n;l++){s=e[l];let a;if(o=s,!Kp(s)&&(o=ho[(a=String(s)).toLowerCase()],o===void 0))throw new me(`Unknown adapter '${a}'`);if(o&&(I.isFunction(o)||(o=o.get(t))))break;i[a||"#"+l]=o}if(!o){const l=Object.entries(i).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?l.length>1?`since :
`+l.map(Ai).join(`
`):" "+Ai(l[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return o}const Ea={getAdapter:Gp,adapters:ho};function _r(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new On(null,e)}function Oi(e){return _r(e),e.headers=vt.from(e.headers),e.data=xr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ea.getAdapter(e.adapter||po.adapter,e)(e).then(function(s){return _r(e),s.data=xr.call(e,e.transformResponse,s),s.headers=vt.from(s.headers),s},function(s){return wa(s)||(_r(e),s&&s.response&&(s.response.data=xr.call(e,e.transformResponse,s.response),s.response.headers=vt.from(s.response.headers))),Promise.reject(s)})}const Ra="1.13.2",tr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tr[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Ni={};tr.transitional=function(t,n,s){function o(i,l){return"[Axios v"+Ra+"] Transitional option '"+i+"'"+l+(s?". "+s:"")}return(i,l,a)=>{if(t===!1)throw new me(o(l," has been removed"+(n?" in "+n:"")),me.ERR_DEPRECATED);return n&&!Ni[l]&&(Ni[l]=!0,console.warn(o(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,l,a):!0}};tr.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Wp(e,t,n){if(typeof e!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const i=s[o],l=t[i];if(l){const a=e[i],u=a===void 0||l(a,i,e);if(u!==!0)throw new me("option "+i+" must be "+u,me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new me("Unknown option "+i,me.ERR_BAD_OPTION)}}const bs={assertOptions:Wp,validators:tr},$t=bs.validators;class Ns{constructor(t){this.defaults=t||{},this.interceptors={request:new xi,response:new xi}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=fn(this.defaults,n);const{transitional:s,paramsSerializer:o,headers:i}=n;s!==void 0&&bs.assertOptions(s,{silentJSONParsing:$t.transitional($t.boolean),forcedJSONParsing:$t.transitional($t.boolean),clarifyTimeoutError:$t.transitional($t.boolean)},!1),o!=null&&(I.isFunction(o)?n.paramsSerializer={serialize:o}:bs.assertOptions(o,{encode:$t.function,serialize:$t.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),bs.assertOptions(n,{baseUrl:$t.spelling("baseURL"),withXsrfToken:$t.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&I.merge(i.common,i[n.method]);i&&I.forEach(["delete","get","head","post","put","patch","common"],E=>{delete i[E]}),n.headers=vt.concat(l,i);const a=[];let u=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(u=u&&T.synchronous,a.unshift(T.fulfilled,T.rejected))});const c=[];this.interceptors.response.forEach(function(T){c.push(T.fulfilled,T.rejected)});let d,g=0,b;if(!u){const E=[Oi.bind(this),void 0];for(E.unshift(...a),E.push(...c),b=E.length,d=Promise.resolve(n);g<b;)d=d.then(E[g++],E[g++]);return d}b=a.length;let w=n;for(;g<b;){const E=a[g++],T=a[g++];try{w=E(w)}catch(A){T.call(this,A);break}}try{d=Oi.call(this,w)}catch(E){return Promise.reject(E)}for(g=0,b=c.length;g<b;)d=d.then(c[g++],c[g++]);return d}getUri(t){t=fn(this.defaults,t);const n=Sa(t.baseURL,t.url,t.allowAbsoluteUrls);return ba(n,t.params,t.paramsSerializer)}}I.forEach(["delete","get","head","options"],function(t){Ns.prototype[t]=function(n,s){return this.request(fn(s||{},{method:t,url:n,data:(s||{}).data}))}});I.forEach(["post","put","patch"],function(t){function n(s){return function(i,l,a){return this.request(fn(a||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Ns.prototype[t]=n(),Ns.prototype[t+"Form"]=n(!0)});const xs=Ns;class mo{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(o=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](o);s._listeners=null}),this.promise.then=o=>{let i;const l=new Promise(a=>{s.subscribe(a),i=a}).then(o);return l.cancel=function(){s.unsubscribe(i)},l},t(function(i,l,a){s.reason||(s.reason=new On(i,l,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new mo(function(o){t=o}),cancel:t}}}const zp=mo;function Qp(e){return function(n){return e.apply(null,n)}}function Jp(e){return I.isObject(e)&&e.isAxiosError===!0}const Br={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Br).forEach(([e,t])=>{Br[t]=e});const Xp=Br;function Ta(e){const t=new xs(e),n=la(xs.prototype.request,t);return I.extend(n,xs.prototype,t,{allOwnKeys:!0}),I.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return Ta(fn(e,o))},n}const He=Ta(po);He.Axios=xs;He.CanceledError=On;He.CancelToken=zp;He.isCancel=wa;He.VERSION=Ra;He.toFormData=Zs;He.AxiosError=me;He.Cancel=He.CanceledError;He.all=function(t){return Promise.all(t)};He.spread=Qp;He.isAxiosError=Jp;He.mergeConfig=fn;He.AxiosHeaders=vt;He.formToJSON=e=>_a(I.isHTMLForm(e)?new FormData(e):e);He.getAdapter=Ea.getAdapter;He.HttpStatusCode=Xp;He.default=He;const Yp=He,X=Yp.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"}});X.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const Zp=async e=>(await X.post("/login",e)).data,Nn=en("auth",{state:()=>({user:null,token:null,isAuthenticated:!1,loading:!1,error:null}),getters:{isManager:e=>{var t;return((t=e.user)==null?void 0:t.role)==="manager"},isWaiter:e=>{var t;return((t=e.user)==null?void 0:t.role)==="waiter"},isCashier:e=>{var t;return((t=e.user)==null?void 0:t.role)==="cashier"}},actions:{async login(e){var t,n;this.loading=!0,this.error=null;try{const s=await Zp(e);if(s&&s.user&&s.token)return this.user=s.user,this.token=s.token,this.isAuthenticated=!0,localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),!0;throw new Error("Invalid response format")}catch(s){return console.error("Login error:",s),this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||s.message||"ng nhp tht bi",!1}finally{this.loading=!1}},setUser(e){this.user=e,this.isAuthenticated=!!e},setToken(e){this.token=e},logout(){this.user=null,this.token=null,this.isAuthenticated=!1,localStorage.removeItem("token"),localStorage.removeItem("user")},initAuth(){const e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(this.token=e,this.user=JSON.parse(t),this.isAuthenticated=!0)}}});const eh={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 to-purple-700 p-5"},th={class:"bg-white p-8 lg:p-10 rounded-xl shadow-2xl w-full max-w-md"},nh=["disabled"],sh=["disabled"],rh=["disabled"],oh={key:0,class:"text-red-600 text-center mt-4 p-3 bg-red-50 rounded-lg border border-red-200"},ih={class:"mt-8 pt-5 border-t border-gray-200"},lh={__name:"LoginView",setup(e){const t=ia(),n=Nn(),s=H(""),o=H(""),i=H(!1),l=H(""),a=async()=>{i.value=!0,l.value="",await n.login({username:s.value,password:o.value})?t.push("/dashboard"):l.value=n.error,i.value=!1},u=(c,d)=>{s.value=c,o.value=d,a()};return(c,d)=>(x(),_("div",eh,[r("div",th,[d[11]||(d[11]=r("div",{class:"text-center mb-8"},[r("h1",{class:"text-3xl lg:text-4xl font-bold text-gray-800 mb-2"}," Caf POS"),r("p",{class:"text-gray-600 text-sm"},"H thng qun l qun c ph")],-1)),r("form",{onSubmit:Ae(a,["prevent"]),class:"space-y-5"},[r("div",null,[d[5]||(d[5]=r("label",{class:"block mb-2 text-gray-700 font-medium"},"Tn ng nhp",-1)),F(r("input",{"onUpdate:modelValue":d[0]||(d[0]=g=>s.value=g),type:"text",required:"",placeholder:"Nhp tn ng nhp",disabled:i.value,class:"w-full p-3 border-2 border-gray-300 rounded-lg text-base transition-colors focus:outline-none focus:border-blue-600 disabled:bg-gray-100 disabled:cursor-not-allowed"},null,8,nh),[[Z,s.value]])]),r("div",null,[d[6]||(d[6]=r("label",{class:"block mb-2 text-gray-700 font-medium"},"Mt khu",-1)),F(r("input",{"onUpdate:modelValue":d[1]||(d[1]=g=>o.value=g),type:"password",required:"",placeholder:"Nhp mt khu",disabled:i.value,class:"w-full p-3 border-2 border-gray-300 rounded-lg text-base transition-colors focus:outline-none focus:border-blue-600 disabled:bg-gray-100 disabled:cursor-not-allowed"},null,8,sh),[[Z,o.value]])]),r("button",{type:"submit",disabled:i.value,class:"w-full p-4 bg-blue-600 text-white border-none rounded-lg text-base font-semibold cursor-pointer transition-colors hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed"},v(i.value?"ang ng nhp...":"ng nhp"),9,rh),l.value?(x(),_("div",oh,v(l.value),1)):q("",!0)],32),r("div",ih,[d[10]||(d[10]=r("h3",{class:"text-gray-600 text-sm mb-3"},"Ti khon demo:",-1)),r("div",{class:"p-2 bg-gray-100 my-1 rounded-lg cursor-pointer text-xs transition-colors hover:bg-gray-200",onClick:d[2]||(d[2]=g=>u("admin","admin123"))},[...d[7]||(d[7]=[r("strong",{class:"text-gray-700"},"Manager:",-1),Te(" admin / admin123 ",-1)])]),r("div",{class:"p-2 bg-gray-100 my-1 rounded-lg cursor-pointer text-xs transition-colors hover:bg-gray-200",onClick:d[3]||(d[3]=g=>u("waiter1","waiter123"))},[...d[8]||(d[8]=[r("strong",{class:"text-gray-700"},"Waiter:",-1),Te(" waiter1 / waiter123 ",-1)])]),r("div",{class:"p-2 bg-gray-100 my-1 rounded-lg cursor-pointer text-xs transition-colors hover:bg-gray-200",onClick:d[4]||(d[4]=g=>u("cashier1","cashier123"))},[...d[9]||(d[9]=[r("strong",{class:"text-gray-700"},"Cashier:",-1),Te(" cashier1 / cashier123 ",-1)])])])])]))}},ah=Xe(lh,[["__scopeId","data-v-85cd5df9"]]);const uh={class:"bg-white shadow-lg"},ch={class:"px-4 py-3 flex items-center justify-between border-b border-gray-200"},dh={class:"flex items-center gap-3"},fh={class:"p-4"},ph={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3"},hh={__name:"Navigation",setup(e){const t=ia(),n=Nn(),s=ne(()=>{var a;return(a=n.user)==null?void 0:a.role}),o=ne(()=>{var a;return(a=n.user)==null?void 0:a.name}),i=()=>{},l=()=>{n.logout(),t.push("/login")};return(a,u)=>{const c=wn("router-link");return x(),_("nav",uh,[r("div",ch,[u[0]||(u[0]=r("div",{class:"flex items-center"},[r("h1",{class:"text-xl font-bold text-blue-600"}," Caf POS")],-1)),r("div",dh,[ye(c,{to:"/profile",class:"text-sm text-gray-600 hover:text-blue-600 hidden sm:block"},{default:ct(()=>[Te("  "+v(o.value),1)]),_:1}),r("button",{onClick:l,class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md text-sm transition-colors"}," ng xut ")])]),r("div",fh,[r("div",ph,[ye(c,{to:"/dashboard",onClick:i,class:"bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl p-4 flex flex-col items-center justify-center min-h-[100px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:ct(()=>[...u[1]||(u[1]=[r("div",{class:"text-2xl mb-2"},"",-1),r("span",{class:"text-sm font-medium text-center"},"Dashboard",-1)])]),_:1}),ye(c,{to:"/shifts",onClick:i,class:"bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl p-4 flex flex-col items-center justify-center min-h-[100px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:ct(()=>[...u[2]||(u[2]=[r("div",{class:"text-2xl mb-2"},"",-1),r("span",{class:"text-sm font-medium text-center"},"Ca lm vic",-1)])]),_:1}),ye(c,{to:"/orders",onClick:i,class:"bg-gradient-to-br from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl p-4 flex flex-col items-center justify-center min-h-[100px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:ct(()=>[...u[3]||(u[3]=[r("div",{class:"text-2xl mb-2"},"",-1),r("span",{class:"text-sm font-medium text-center"},"Orders",-1)])]),_:1}),["cashier","manager"].includes(s.value)?(x(),Rs(c,{key:0,to:"/cashier",onClick:i,class:"bg-gradient-to-br from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white rounded-xl p-4 flex flex-col items-center justify-center min-h-[100px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:ct(()=>[...u[4]||(u[4]=[r("div",{class:"text-2xl mb-2"},"",-1),r("span",{class:"text-sm font-medium text-center"},"Thu ngn",-1)])]),_:1})):q("",!0),["cashier","manager"].includes(s.value)?(x(),Rs(c,{key:1,to:"/cashier/reports",onClick:i,class:"bg-gradient-to-br from-cyan-500 to-cyan-600 hover:from-cyan-600 hover:to-cyan-700 text-white rounded-xl p-4 flex flex-col items-center justify-center min-h-[100px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:ct(()=>[...u[5]||(u[5]=[r("div",{class:"text-2xl mb-2"},"",-1),r("span",{class:"text-sm font-medium text-center"},"Bo co",-1)])]),_:1})):q("",!0),s.value==="manager"?(x(),_(oe,{key:2},[ye(c,{to:"/users",onClick:i,class:"bg-gradient-to-br from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white rounded-xl p-4 flex flex-col items-center justify-center min-h-[100px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:ct(()=>[...u[6]||(u[6]=[r("div",{class:"text-2xl mb-2"},"",-1),r("span",{class:"text-sm font-medium text-center"},"Qun l User",-1)])]),_:1}),ye(c,{to:"/menu",onClick:i,class:"bg-gradient-to-br from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl p-4 flex flex-col items-center justify-center min-h-[100px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:ct(()=>[...u[7]||(u[7]=[r("div",{class:"text-2xl mb-2"},"",-1),r("span",{class:"text-sm font-medium text-center"},"Menu",-1)])]),_:1}),ye(c,{to:"/ingredients",onClick:i,class:"bg-gradient-to-br from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700 text-white rounded-xl p-4 flex flex-col items-center justify-center min-h-[100px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:ct(()=>[...u[8]||(u[8]=[r("div",{class:"text-2xl mb-2"},"",-1),r("span",{class:"text-sm font-medium text-center"},"Nguyn liu",-1)])]),_:1}),ye(c,{to:"/facilities",onClick:i,class:"bg-gradient-to-br from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white rounded-xl p-4 flex flex-col items-center justify-center min-h-[100px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:ct(()=>[...u[9]||(u[9]=[r("div",{class:"text-2xl mb-2"},"",-1),r("span",{class:"text-sm font-medium text-center"},"C s vt cht",-1)])]),_:1}),ye(c,{to:"/expenses",onClick:i,class:"bg-gradient-to-br from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white rounded-xl p-4 flex flex-col items-center justify-center min-h-[100px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:ct(()=>[...u[10]||(u[10]=[r("div",{class:"text-2xl mb-2"},"",-1),r("span",{class:"text-sm font-medium text-center"},"Chi ph",-1)])]),_:1})],64)):q("",!0)])])])}}},Ct=Xe(hh,[["__scopeId","data-v-2560bd78"]]);const mh={class:"min-h-screen bg-gray-100"},gh={class:"p-4"},yh={class:"bg-white rounded-xl p-6 mb-6 shadow-sm"},vh={class:"text-gray-600 text-center mb-4"},bh={class:"flex justify-center"},xh={class:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium"},_h={class:"grid grid-cols-2 gap-4 mb-6"},wh={class:"bg-white rounded-xl p-6 shadow-sm"},Ch={class:"space-y-3"},Sh={class:"text-gray-700 text-sm"},kh={__name:"DashboardView",setup(e){const t=Nn(),n=ne(()=>t.user),s=ne(()=>{var i;return((i=t.user)==null?void 0:i.name)||"User"}),o=ne(()=>{var i;switch((i=n.value)==null?void 0:i.role){case"manager":return["Xem tt c order","Xem bo co doanh thu","In li bill","Chnh sa/hy order  thanh ton","Qun l menu & gi","Qun l bn","Qun l user"];case"waiter":return["To order mi","Nhp mn, s lng","Gn bn","Xem & thng bo tng tin","Chn phng thc thanh ton","Xc nhn  thu tin","In bill"];case"cashier":return["Xem order  to","Thu tin","Xc nhn thanh ton","In/in li bill"];default:return[]}});return(i,l)=>{var a,u,c,d,g,b,w;return x(),_("div",mh,[ye(Ct),r("div",gh,[r("div",yh,[l[6]||(l[6]=r("h2",{class:"text-2xl font-bold text-gray-800 mb-2 text-center"},"Cho mng n vi Caf POS",-1)),r("p",vh," Bn  ng nhp vi quyn "+v(((a=n.value)==null?void 0:a.role)==="manager"?"Qun l":((u=n.value)==null?void 0:u.role)==="waiter"?"Nhn vin":"Thu ngn"),1),r("div",bh,[r("span",xh,v(s.value),1)])]),r("div",_h,[((c=n.value)==null?void 0:c.role)==="manager"?(x(),_("div",{key:0,onClick:l[0]||(l[0]=E=>i.$router.push("/menu")),class:"bg-gradient-to-br from-orange-500 to-red-500 rounded-xl p-6 text-white cursor-pointer transform hover:scale-105 transition-all duration-200 shadow-lg"},[...l[7]||(l[7]=[r("div",{class:"text-3xl mb-3"},"",-1),r("h3",{class:"font-bold text-lg mb-1"},"Menu",-1),r("p",{class:"text-sm opacity-90"},"Qun l thc n",-1)])])):q("",!0),((d=n.value)==null?void 0:d.role)==="manager"?(x(),_("div",{key:1,onClick:l[1]||(l[1]=E=>i.$router.push("/ingredients")),class:"bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl p-6 text-white cursor-pointer transform hover:scale-105 transition-all duration-200 shadow-lg"},[...l[8]||(l[8]=[r("div",{class:"text-3xl mb-3"},"",-1),r("h3",{class:"font-bold text-lg mb-1"},"Nguyn liu",-1),r("p",{class:"text-sm opacity-90"},"Qun l kho",-1)])])):q("",!0),((g=n.value)==null?void 0:g.role)==="manager"?(x(),_("div",{key:2,onClick:l[2]||(l[2]=E=>i.$router.push("/facilities")),class:"bg-gradient-to-br from-blue-500 to-indigo-500 rounded-xl p-6 text-white cursor-pointer transform hover:scale-105 transition-all duration-200 shadow-lg"},[...l[9]||(l[9]=[r("div",{class:"text-3xl mb-3"},"",-1),r("h3",{class:"font-bold text-lg mb-1"},"C s vt cht",-1),r("p",{class:"text-sm opacity-90"},"Qun l ti sn",-1)])])):q("",!0),((b=n.value)==null?void 0:b.role)==="manager"?(x(),_("div",{key:3,onClick:l[3]||(l[3]=E=>i.$router.push("/expenses")),class:"bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl p-6 text-white cursor-pointer transform hover:scale-105 transition-all duration-200 shadow-lg"},[...l[10]||(l[10]=[r("div",{class:"text-3xl mb-3"},"",-1),r("h3",{class:"font-bold text-lg mb-1"},"Chi ph",-1),r("p",{class:"text-sm opacity-90"},"Qun l ti chnh",-1)])])):q("",!0),r("div",{onClick:l[4]||(l[4]=E=>i.$router.push("/orders")),class:"bg-gradient-to-br from-teal-500 to-cyan-500 rounded-xl p-6 text-white cursor-pointer transform hover:scale-105 transition-all duration-200 shadow-lg"},[...l[11]||(l[11]=[r("div",{class:"text-3xl mb-3"},"",-1),r("h3",{class:"font-bold text-lg mb-1"},"n hng",-1),r("p",{class:"text-sm opacity-90"},"Qun l order",-1)])]),((w=n.value)==null?void 0:w.role)==="manager"?(x(),_("div",{key:4,onClick:l[5]||(l[5]=E=>i.$router.push("/reports")),class:"bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl p-6 text-white cursor-pointer transform hover:scale-105 transition-all duration-200 shadow-lg"},[...l[12]||(l[12]=[r("div",{class:"text-3xl mb-3"},"",-1),r("h3",{class:"font-bold text-lg mb-1"},"Bo co",-1),r("p",{class:"text-sm opacity-90"},"Thng k doanh thu",-1)])])):q("",!0)]),r("div",wh,[l[14]||(l[14]=r("h3",{class:"text-lg font-semibold text-gray-800 mb-4 text-center"},"Quyn hn ca bn",-1)),r("div",Ch,[(x(!0),_(oe,null,ue(o.value,E=>(x(),_("div",{key:E,class:"flex items-center p-3 bg-gray-50 rounded-lg"},[l[13]||(l[13]=r("div",{class:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center mr-3"},[r("svg",{class:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)),r("span",Sh,v(E),1)]))),128))])])])])}}},$h=Xe(kh,[["__scopeId","data-v-a4b69411"]]),ds={async getMenuItems(){return(await X.get("/waiter/menu")).data},async createMenuItem(e){return(await X.post("/manager/menu",e)).data},async updateMenuItem(e,t){return(await X.put(`/manager/menu/${e}`,t)).data},async deleteMenuItem(e){return(await X.delete(`/manager/menu/${e}`)).data}},Aa=en("menu",{state:()=>({items:[],loading:!1,error:null}),actions:{async fetchMenuItems(){var e,t;this.loading=!0,this.error=null;try{this.items=await ds.getMenuItems()}catch(n){this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti menu"}finally{this.loading=!1}},async createMenuItem(e){var t,n;try{const s=await ds.createMenuItem(e);return this.items.push(s),!0}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li to mn",!1}},async updateMenuItem(e,t){var n,s;this.error=null;try{const o=await ds.updateMenuItem(e,t),i=this.items.findIndex(l=>l.id===e);return i!==-1&&(this.items[i]=o),!0}catch(o){return this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li cp nht mn",console.error("Update error:",o),!1}},async deleteMenuItem(e){var t,n;this.error=null;try{return await ds.deleteMenuItem(e),this.items=this.items.filter(s=>s.id!==e),!0}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li xa mn",console.error("Delete error:",s),!1}}}});const Eh={class:"min-h-screen bg-gray-100"},Rh={class:"p-4"},Th={class:"flex flex-col lg:flex-row justify-between items-center mb-6"},Ah={class:"flex flex-wrap gap-2"},Oh={key:0,class:"text-center py-10 text-gray-600 text-lg"},Nh={key:1,class:"text-center py-10 text-red-600 bg-red-50 border border-red-200 rounded-lg"},Ih={class:"grid grid-cols-1 gap-4"},Ph={class:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b-2 border-blue-500"},Dh={class:"space-y-3"},Mh={class:"flex items-center justify-between mb-3"},Lh={class:"flex items-center space-x-3"},Uh={class:"font-bold text-gray-800"},Vh={class:"text-sm text-gray-500"},Fh={class:"text-right"},jh={class:"grid grid-cols-1 gap-3 mb-4"},Bh={class:"bg-white rounded-lg p-3"},Hh={class:"text-2xl font-bold text-green-600"},qh={key:0,class:"bg-white rounded-lg p-3"},Kh={class:"text-xs text-gray-600 space-y-1"},Gh={class:"grid grid-cols-3 gap-2"},Wh=["onClick"],zh=["onClick"],Qh=["onClick"],Jh={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Xh={class:"bg-white rounded-xl p-6 w-full max-w-md max-h-[80vh] overflow-y-auto"},Yh={class:"bg-gray-50 rounded-lg p-4 mb-4"},Zh={class:"space-y-2 max-h-96 overflow-y-auto"},em={class:"flex items-center space-x-3"},tm={class:"font-medium text-gray-800"},nm={class:"text-xs text-gray-500"},sm=["onClick"],rm={class:"mt-4"},om={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},im={class:"bg-white rounded-xl p-6 w-full max-w-md max-h-[80vh] overflow-y-auto"},lm={class:"text-xl font-bold text-gray-800 mb-4"},am=["value"],um={class:"border border-gray-300 rounded-lg p-3 bg-gray-50"},cm={key:0,class:"text-center text-gray-500 italic py-4"},dm=["onUpdate:modelValue"],fm=["onUpdate:modelValue"],pm=["onUpdate:modelValue"],hm=["onClick"],mm={class:"flex gap-2"},gm=["disabled"],ym={__name:"MenuView",setup(e){const t=Aa(),n=H(!1),s=H(!1),o=H(null),i=H({name:"",category:"",price:0,description:"",ingredients:[]}),l=H({name:""}),a=H([{id:"1",name:"C ph"},{id:"2",name:"Tr"},{id:"3",name:"Nc p"},{id:"4",name:"Bnh ngt"},{id:"5",name:"Mn nh"}]),u=ne(()=>t.items),c=ne(()=>t.loading),d=ne(()=>t.error),g=ne(()=>{const L={};return u.value.forEach(G=>{L[G.category]||(L[G.category]={name:G.category,items:[]}),L[G.category].items.push(G)}),Object.values(L)});_t(()=>{t.fetchMenuItems()});const b=L=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(L),w=L=>{o.value=L,i.value={name:L.name,category:L.category,price:L.price,description:L.description,ingredients:L.ingredients?[...L.ingredients]:[]},n.value=!1},E=()=>{n.value=!1,o.value=null,i.value={name:"",category:"",price:0,description:"",ingredients:[]}},T=()=>{i.value.ingredients.push({name:"",quantity:0,unit:""})},A=L=>{i.value.ingredients.splice(L,1)},z=async()=>{let L=!1;o.value?L=await t.updateMenuItem(o.value.id,i.value):L=await t.createMenuItem(i.value),L&&E()},K=async L=>{!await t.updateMenuItem(L.id,{available:!L.available})&&t.error&&alert("Li: "+t.error)},W=async L=>{confirm("Bn c chc mun xa mn ny? Hnh ng ny khng th hon tc.")&&!await t.deleteMenuItem(L)&&t.error&&alert("Li: "+t.error)},j=()=>{l.value.name&&(a.value.push({id:Date.now().toString(),name:l.value.name}),l.value={name:""})},B=(L,G)=>{if(u.value.some(N=>N.category===G)){alert("Khng th xa danh mc  c mn!");return}confirm(`Bn c chc mun xa danh mc "${G}"?`)&&(a.value=a.value.filter(N=>N.id!==L))},D=L=>u.value.filter(G=>G.category===L).length,Y=L=>({"C ph":"",Tr:"","Nc p":"","Bnh ngt":"","Mn nh":"","Sinh t":""," ung khc":""})[L]||"",M=L=>({"C ph":"bg-amber-100 text-amber-600",Tr:"bg-green-100 text-green-600","Nc p":"bg-orange-100 text-orange-600","Bnh ngt":"bg-pink-100 text-pink-600","Mn nh":"bg-blue-100 text-blue-600","Sinh t":"bg-purple-100 text-purple-600"," ung khc":"bg-gray-100 text-gray-600"})[L]||"bg-gray-100 text-gray-600";return(L,G)=>(x(),_("div",Eh,[ye(Ct),r("div",Rh,[r("div",Th,[G[8]||(G[8]=r("h2",{class:"text-xl lg:text-2xl font-semibold text-gray-800 mb-4 lg:mb-0"},"  Qun l Menu ",-1)),r("div",Ah,[r("button",{onClick:G[0]||(G[0]=U=>s.value=!0),class:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors"},"  Qun l danh mc "),r("button",{onClick:G[1]||(G[1]=U=>n.value=!0),class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors"}," + Thm mn mi ")])]),c.value?(x(),_("div",Oh,"ang ti...")):q("",!0),d.value?(x(),_("div",Nh,v(d.value),1)):q("",!0),r("div",Ih,[(x(!0),_(oe,null,ue(g.value,U=>(x(),_("div",{key:U.name,class:"bg-white rounded-xl p-4 shadow-sm"},[r("h3",Ph,v(U.name),1),r("div",Dh,[(x(!0),_(oe,null,ue(U.items,N=>(x(),_("div",{key:N.id,class:"rounded-xl p-4 bg-gray-50"},[r("div",Mh,[r("div",Lh,[r("div",{class:ve(["w-12 h-12 rounded-xl flex items-center justify-center text-2xl",M(N.category)])},v(Y(N.category)),3),r("div",null,[r("h4",Uh,v(N.name),1),r("p",Vh,v(N.description||"Cha c m t"),1)])]),r("div",Fh,[r("span",{class:ve(["px-3 py-1 rounded-full text-xs font-medium",N.available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},v(N.available?"C sn":"Ht hng"),3)])]),r("div",jh,[r("div",Bh,[r("div",Hh,v(b(N.price)),1),G[9]||(G[9]=r("div",{class:"text-xs text-gray-500"},"Gi bn",-1))]),N.ingredients&&N.ingredients.length>0?(x(),_("div",qh,[G[10]||(G[10]=r("div",{class:"text-sm font-semibold text-gray-700 mb-2"},"Nguyn liu:",-1)),r("ul",Kh,[(x(!0),_(oe,null,ue(N.ingredients,ae=>(x(),_("li",{key:ae.name},"  "+v(ae.name)+": "+v(ae.quantity)+" "+v(ae.unit),1))),128))])])):q("",!0)]),r("div",Gh,[r("button",{onClick:ae=>w(N),class:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"},"  Sa ",8,Wh),r("button",{onClick:ae=>K(N),class:ve([N.available?"bg-gray-500 hover:bg-gray-600":"bg-green-500 hover:bg-green-600","text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"])},v(N.available?" n":" Hin"),11,zh),r("button",{onClick:ae=>W(N.id),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"},"  Xa ",8,Qh)])]))),128))])]))),128))]),s.value?(x(),_("div",Jh,[r("div",Xh,[G[13]||(G[13]=r("h3",{class:"text-xl font-bold text-gray-800 mb-4"}," Qun l Danh mc Menu",-1)),r("div",Yh,[G[12]||(G[12]=r("h4",{class:"font-semibold text-gray-800 mb-3"},"Thm danh mc mi",-1)),r("form",{onSubmit:Ae(j,["prevent"])},[F(r("input",{"onUpdate:modelValue":G[2]||(G[2]=U=>l.value.name=U),type:"text",required:"",placeholder:"V d: C ph",class:"w-full p-3 border border-gray-300 rounded-lg mb-3"},null,512),[[Z,l.value.name]]),G[11]||(G[11]=r("button",{type:"submit",class:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium"},"+ Thm danh mc",-1))],32)]),r("div",Zh,[(x(!0),_(oe,null,ue(a.value,U=>(x(),_("div",{key:U.id,class:"bg-white border border-gray-200 rounded-lg p-3 flex items-center justify-between"},[r("div",em,[r("div",{class:ve(["w-10 h-10 rounded-lg flex items-center justify-center text-xl",M(U.name)])},v(Y(U.name)),3),r("div",null,[r("div",tm,v(U.name),1),r("div",nm,v(D(U.name))+" mn",1)])]),r("button",{onClick:N=>B(U.id,U.name),class:"text-red-500 hover:text-red-700 p-2"},"  ",8,sm)]))),128))]),r("div",rm,[r("button",{type:"button",onClick:G[3]||(G[3]=U=>s.value=!1),class:"w-full bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium"},"ng")])])])):q("",!0),n.value||o.value?(x(),_("div",om,[r("div",im,[r("h3",lm,v(o.value?"Sa mn":"Thm mn mi"),1),r("form",{onSubmit:Ae(z,["prevent"]),class:"space-y-4"},[r("div",null,[G[14]||(G[14]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tn mn *",-1)),F(r("input",{"onUpdate:modelValue":G[4]||(G[4]=U=>i.value.name=U),type:"text",required:"",placeholder:"Nhp tn mn",class:"w-full p-3 border border-gray-300 rounded-lg"},null,512),[[Z,i.value.name]])]),r("div",null,[G[16]||(G[16]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Danh mc *",-1)),F(r("select",{"onUpdate:modelValue":G[5]||(G[5]=U=>i.value.category=U),required:"",class:"w-full p-3 border border-gray-300 rounded-lg"},[G[15]||(G[15]=r("option",{value:""},"Chn danh mc",-1)),(x(!0),_(oe,null,ue(a.value,U=>(x(),_("option",{key:U.id,value:U.name},v(U.name),9,am))),128))],512),[[xe,i.value.category]])]),r("div",null,[G[17]||(G[17]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Gi (VN) *",-1)),F(r("input",{"onUpdate:modelValue":G[6]||(G[6]=U=>i.value.price=U),type:"number",min:"0",step:"1000",required:"",placeholder:"0",class:"w-full p-3 border border-gray-300 rounded-lg"},null,512),[[Z,i.value.price,void 0,{number:!0}]])]),r("div",null,[G[18]||(G[18]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"M t",-1)),F(r("textarea",{"onUpdate:modelValue":G[7]||(G[7]=U=>i.value.description=U),rows:"3",placeholder:"M t mn n...",class:"w-full p-3 border border-gray-300 rounded-lg"},null,512),[[Z,i.value.description]])]),r("div",null,[G[19]||(G[19]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nguyn liu",-1)),r("div",um,[i.value.ingredients.length===0?(x(),_("div",cm," Cha c nguyn liu no ")):q("",!0),(x(!0),_(oe,null,ue(i.value.ingredients,(U,N)=>(x(),_("div",{key:N,class:"flex gap-2 mb-2"},[F(r("input",{"onUpdate:modelValue":ae=>U.name=ae,placeholder:"Tn",class:"flex-1 p-2 border border-gray-300 rounded",required:""},null,8,dm),[[Z,U.name]]),F(r("input",{"onUpdate:modelValue":ae=>U.quantity=ae,type:"number",min:"0",step:"0.1",placeholder:"SL",class:"w-20 p-2 border border-gray-300 rounded",required:""},null,8,fm),[[Z,U.quantity,void 0,{number:!0}]]),F(r("input",{"onUpdate:modelValue":ae=>U.unit=ae,placeholder:"n v",class:"w-20 p-2 border border-gray-300 rounded",required:""},null,8,pm),[[Z,U.unit]]),r("button",{type:"button",onClick:ae=>A(N),class:"bg-red-500 text-white px-3 rounded hover:bg-red-600"},"",8,hm)]))),128)),r("button",{type:"button",onClick:T,class:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg mt-2"}," + Thm nguyn liu ")])]),r("div",mm,[r("button",{type:"button",onClick:E,class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium"},"Hy"),r("button",{type:"submit",class:"flex-1 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium",disabled:!i.value.name||!i.value.category||i.value.price<=0},v(o.value?"Cp nht":"Thm mn"),9,gm)])],32)])])):q("",!0)])]))}},vm=Xe(ym,[["__scopeId","data-v-bbd45825"]]),Kt={async getIngredients(){return(await X.get("/manager/ingredients")).data},async createIngredient(e){return(await X.post("/manager/ingredients",e)).data},async updateIngredient(e,t){return(await X.put(`/manager/ingredients/${e}`,t)).data},async deleteIngredient(e){await X.delete(`/manager/ingredients/${e}`)},async getLowStockItems(){return(await X.get("/manager/ingredients/low-stock")).data},async getStockHistory(e){return(await X.get(`/manager/ingredients/${e}/history`)).data},async adjustStock(e,t){return(await X.post(`/manager/ingredients/${e}/adjust`,t)).data}},bm=en("ingredient",{state:()=>({items:[],lowStockItems:[],loading:!1,error:null}),actions:{async fetchIngredients(){var e,t;this.loading=!0,this.error=null;try{this.items=await Kt.getIngredients()||[]}catch(n){this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti nguyn liu",this.items=[]}finally{this.loading=!1}},async createIngredient(e){var t,n;this.error=null;try{const s=await Kt.createIngredient(e);return this.items.push(s),!0}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li to nguyn liu",!1}},async updateIngredient(e,t){var n,s;this.error=null;try{const o=await Kt.updateIngredient(e,t),i=this.items.findIndex(l=>l.id===e);return i!==-1&&(this.items[i]=o),!0}catch(o){return this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li cp nht nguyn liu",!1}},async deleteIngredient(e){var t,n;this.error=null;try{return await Kt.deleteIngredient(e),this.items=this.items.filter(s=>s.id!==e),!0}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li xa nguyn liu",!1}},async fetchLowStock(){var e,t;try{this.lowStockItems=await Kt.getLowStockItems()||[]}catch(n){this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti nguyn liu sp ht",this.lowStockItems=[]}},async fetchLowStockItems(){var e,t;try{return await Kt.getLowStockItems()||[]}catch(n){return this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti nguyn liu sp ht",[]}},async fetchStockHistory(e){var t,n;try{return await Kt.getStockHistory(e)||[]}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li ti lch s tn kho",[]}},async adjustStock(e,t){var n,s;this.error=null;try{const o=await Kt.adjustStock(e,t),i=this.items.findIndex(l=>l.id===e);return i!==-1&&(this.items[i]=o),await this.fetchLowStock(),!0}catch(o){return this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li iu chnh tn kho",!1}}}});const xm={class:"min-h-screen bg-gray-100"},_m={class:"p-4"},wm={class:"flex flex-col lg:flex-row justify-between items-center mb-6"},Cm={class:"flex flex-wrap gap-2"},Sm={key:0,class:"text-center py-10 text-gray-600 text-lg"},km={key:1,class:"text-center py-10 text-red-600 bg-red-50 border border-red-200 rounded-lg"},$m={class:"bg-white rounded-xl p-4 mb-4 shadow-sm"},Em={class:"grid grid-cols-1 gap-3"},Rm=["value"],Tm={key:2,class:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-4"},Am={class:"text-yellow-800 font-semibold mb-2"},Om={class:"flex flex-wrap gap-2"},Nm={class:"grid grid-cols-1 gap-4"},Im={class:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b-2 border-blue-500"},Pm={class:"space-y-3"},Dm={class:"flex items-center justify-between mb-3"},Mm={class:"flex items-center space-x-3"},Lm={class:"font-bold text-gray-800 flex items-center gap-2"},Um={key:0,class:"text-yellow-600 text-lg"},Vm={class:"text-sm text-gray-500"},Fm={class:"text-right"},jm={class:"grid grid-cols-2 gap-3 mb-4"},Bm={class:"bg-white rounded-lg p-3 text-center"},Hm={class:"text-xs text-gray-500"},qm={class:"bg-white rounded-lg p-3 text-center"},Km={class:"text-lg font-semibold text-gray-600"},Gm={class:"text-xs text-gray-500"},Wm={key:0,class:"bg-white rounded-lg p-3 text-center col-span-2"},zm={class:"text-lg font-semibold text-blue-600"},Qm={class:"text-xs text-gray-500"},Jm={class:"grid grid-cols-2 gap-2 mb-3"},Xm=["onClick"],Ym=["onClick"],Zm=["onClick"],eg={key:0,class:"grid grid-cols-2 gap-2 mt-3"},tg=["onClick"],ng=["onClick"],sg={key:3,class:"modal"},rg={class:"modal-content"},og={class:"bg-gray-50 rounded-lg p-4 mb-4"},ig={class:"form-group"},lg={class:"space-y-2 max-h-96 overflow-y-auto"},ag={class:"flex items-center space-x-3"},ug={class:"font-medium text-gray-800"},cg={class:"text-xs text-gray-500"},dg=["onClick"],fg={class:"form-actions mt-4"},pg={key:4,class:"modal"},hg={class:"modal-content"},mg={class:"form-group"},gg={class:"form-group"},yg=["value"],vg={class:"form-group"},bg={class:"form-group"},xg={class:"form-group"},_g={class:"form-group"},wg={class:"form-group"},Cg={class:"form-actions"},Sg={type:"submit",class:"btn-save"},kg={key:5,class:"modal"},$g={class:"modal-content history-modal"},Eg={key:0,class:"no-history"},Rg={key:1,class:"history-list"},Tg={class:"history-header"},Ag={class:"history-date"},Og={class:"history-details"},Ng={class:"quantity-change"},Ig={class:"before"},Pg={class:"after"},Dg={class:"history-reason"},Mg={class:"history-user"},Lg={key:6,class:"modal"},Ug={class:"modal-content"},Vg={class:"form-group"},Fg={class:"form-group"},jg={key:0,class:"form-group"},Bg={class:"preview-result"},Hg={class:"form-actions"},qg={__name:"IngredientView",setup(e){const t=bm(),n=H(!1),s=H(!1),o=H(null),i=H(null),l=H(null),a=H([]),u=H({name:"",category:"",unit:"",quantity:0,min_stock:0,cost_per_unit:0,supplier:""}),c=H({quantity:0,reason:""}),d=H({name:""}),g=H([{id:"1",name:"C ph"},{id:"2",name:"Tr"},{id:"3",name:"Sa"},{id:"4",name:"ng"},{id:"5",name:"Tri cy"},{id:"6",name:"Bnh"},{id:"7",name:"Khc"}]),b=H(""),w=H(""),E=H(""),T=ne(()=>t.items||[]),A=ne(()=>t.lowStockItems||[]),z=ne(()=>t.loading),K=ne(()=>t.error),W=ne(()=>{const R=T.value||[];return[...new Set(R.map(O=>O==null?void 0:O.category).filter(Boolean))].sort()}),j=ne(()=>{let R=T.value||[];return b.value&&(R=R.filter(m=>{var O;return(O=m==null?void 0:m.name)==null?void 0:O.toLowerCase().includes(b.value.toLowerCase())})),w.value&&(R=R.filter(m=>(m==null?void 0:m.category)===w.value)),E.value&&(R=R.filter(m=>!m||typeof m.quantity!="number"||typeof m.min_stock!="number"?!1:E.value==="low-stock"?m.quantity<=m.min_stock&&m.quantity>0:E.value==="out-of-stock"?m.quantity===0:E.value==="in-stock"?m.quantity>m.min_stock:!0)),R}),B=ne(()=>{const R={};return(j.value||[]).forEach(O=>{R[O.category]||(R[O.category]={name:O.category,items:[]}),R[O.category].items.push(O)}),Object.values(R)});_t(async()=>{try{await t.fetchIngredients(),await t.fetchLowStock()}catch(R){console.error("Error loading ingredients:",R)}});const D=R=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R),Y=R=>R.quantity<=R.min_stock,M=R=>{o.value=R,u.value={name:R.name,category:R.category,unit:R.unit,quantity:R.quantity,min_stock:R.min_stock,cost_per_unit:R.cost_per_unit,supplier:R.supplier},n.value=!1},L=()=>{n.value=!1,o.value=null,u.value={name:"",category:"",unit:"",quantity:0,min_stock:0,cost_per_unit:0,supplier:""}},G=async()=>{try{let R=!1;o.value?R=await t.updateIngredient(o.value.id,u.value):R=await t.createIngredient(u.value),R&&(L(),await t.fetchLowStock())}catch(R){console.error("Error saving ingredient:",R)}},U=R=>{i.value=R,c.value={quantity:0,reason:""}},N=()=>{i.value=null,c.value={quantity:0,reason:""}},ae=async()=>{try{console.log("Saving stock adjustment:",i.value.id,c.value),await t.adjustStock(i.value.id,c.value)?(console.log("Stock adjustment successful"),N(),await t.fetchLowStock()):(console.error("Stock adjustment failed:",t.error),alert("Li: "+t.error))}catch(R){console.error("Error adjusting stock:",R),alert("Li iu chnh tn kho: "+R.message)}},$e=async R=>{if(confirm("Bn c chc mun xa nguyn liu ny? Hnh ng ny khng th hon tc."))try{await t.deleteIngredient(R)&&await t.fetchLowStock()}catch(m){console.error("Error deleting ingredient:",m),alert("Li xa nguyn liu: "+m.message)}},se=async R=>{try{l.value=R,a.value=await t.fetchStockHistory(R.id)||[]}catch(m){console.error("Error fetching stock history:",m),a.value=[]}},de=()=>{l.value=null,a.value=[]},J=R=>new Date(R).toLocaleString("vi-VN"),re=R=>({adjustment:"iu chnh",order:"S dng",purchase:"Nhp hng",waste:"Hng hc"})[R]||R,Ve=R=>({adjustment:"type-adjustment",order:"type-order",purchase:"type-purchase",waste:"type-waste"})[R]||"type-default",Fe=R=>({"C ph":"",Tr:"",Sa:"",ng:"","Tri cy":"",Bnh:"",Khc:""})[R]||"",he=R=>({"C ph":"bg-amber-100 text-amber-600",Tr:"bg-green-100 text-green-600",Sa:"bg-blue-100 text-blue-600",ng:"bg-pink-100 text-pink-600","Tri cy":"bg-orange-100 text-orange-600",Bnh:"bg-yellow-100 text-yellow-600",Khc:"bg-gray-100 text-gray-600"})[R]||"bg-gray-100 text-gray-600",Ce=R=>R.quantity===0?"Ht hng":R.quantity<=R.min_stock?"Sp ht":"Cn hng",Me=R=>R.quantity===0?"bg-red-100 text-red-800":R.quantity<=R.min_stock?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",De=ne(()=>!0),je=()=>{d.value.name&&(g.value.push({id:Date.now().toString(),name:d.value.name}),d.value={name:""})},_e=(R,m)=>{if(T.value.some(ee=>ee.category===m)){alert("Khng th xa danh mc  c nguyn liu!");return}confirm(`Bn c chc mun xa danh mc "${m}"?`)&&(g.value=g.value.filter(ee=>ee.id!==R))},V=R=>T.value.filter(m=>m.category===R).length;return(R,m)=>(x(),_("div",xm,[ye(Ct),r("div",_m,[r("div",wm,[m[18]||(m[18]=r("h2",{class:"text-xl lg:text-2xl font-semibold text-gray-800 mb-4 lg:mb-0"},"  Qun l Nguyn liu ",-1)),r("div",Cm,[r("button",{onClick:m[0]||(m[0]=O=>s.value=!0),class:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors"},"  Qun l danh mc "),De.value?(x(),_("button",{key:0,onClick:m[1]||(m[1]=O=>n.value=!0),class:"btn-primary text-sm px-4 py-2"}," + Thm nguyn liu ")):q("",!0)])]),z.value?(x(),_("div",Sm,"ang ti...")):q("",!0),K.value?(x(),_("div",km,v(K.value),1)):q("",!0),r("div",$m,[r("div",Em,[F(r("input",{"onUpdate:modelValue":m[2]||(m[2]=O=>b.value=O),type:"text",placeholder:"Tm theo tn nguyn liu...",class:"w-full p-3 border border-gray-300 rounded-lg text-base focus:ring-2 focus:ring-blue-500"},null,512),[[Z,b.value]]),F(r("select",{"onUpdate:modelValue":m[3]||(m[3]=O=>w.value=O),class:"p-3 border border-gray-300 rounded-lg text-base focus:ring-2 focus:ring-blue-500"},[m[19]||(m[19]=r("option",{value:""},"Tt c danh mc",-1)),(x(!0),_(oe,null,ue(W.value,O=>(x(),_("option",{key:O,value:O},v(O),9,Rm))),128))],512),[[xe,w.value]]),F(r("select",{"onUpdate:modelValue":m[4]||(m[4]=O=>E.value=O),class:"p-3 border border-gray-300 rounded-lg text-base focus:ring-2 focus:ring-blue-500"},[...m[20]||(m[20]=[r("option",{value:""},"Tt c trng thi",-1),r("option",{value:"in-stock"},"Cn hng",-1),r("option",{value:"low-stock"},"Sp ht",-1),r("option",{value:"out-of-stock"},"Ht hng",-1)])],512),[[xe,E.value]])])]),A.value&&A.value.length>0?(x(),_("div",Tm,[r("h3",Am," Nguyn liu sp ht ("+v(A.value.length)+" mn)",1),r("div",Om,[(x(!0),_(oe,null,ue(A.value,O=>(x(),_("span",{key:O.id,class:"bg-yellow-200 text-yellow-800 px-2 py-1 rounded text-xs"},v(O.name)+": "+v(O.quantity)+" "+v(O.unit),1))),128))])])):q("",!0),r("div",Nm,[(x(!0),_(oe,null,ue(B.value,O=>(x(),_("div",{key:O.name,class:"bg-white rounded-xl p-4 shadow-sm"},[r("h3",Im,v(O.name),1),r("div",Pm,[(x(!0),_(oe,null,ue(O.items,ee=>(x(),_("div",{key:ee.id,class:ve(["rounded-xl p-4",Y(ee)?"bg-yellow-50 border-2 border-yellow-400":"bg-gray-50"])},[r("div",Dm,[r("div",Mm,[r("div",{class:ve(["w-12 h-12 rounded-xl flex items-center justify-center text-2xl",he(ee.category)])},v(Fe(ee.category)),3),r("div",null,[r("h4",Lm,[Te(v(ee.name)+" ",1),Y(ee)?(x(),_("span",Um,"")):q("",!0)]),r("p",Vm,v(ee.supplier||"Cha c nh cung cp"),1)])]),r("div",Fm,[r("span",{class:ve(["px-3 py-1 rounded-full text-xs font-medium",Me(ee)])},v(Ce(ee)),3)])]),r("div",jm,[r("div",Bm,[r("div",{class:ve(["text-2xl font-bold",ee.quantity<=ee.min_stock?"text-red-600":"text-green-600"])},v(ee.quantity),3),r("div",Hm,v(ee.unit)+" hin ti",1)]),r("div",qm,[r("div",Km,v(ee.min_stock),1),r("div",Gm,v(ee.unit)+" ti thiu",1)]),ee.cost_per_unit?(x(),_("div",Wm,[r("div",zm,v(D(ee.cost_per_unit)),1),r("div",Qm,"Gi/"+v(ee.unit),1)])):q("",!0)]),r("div",Jm,[r("button",{onClick:ge=>se(ee),class:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-3 rounded-xl text-sm font-medium transition-colors flex items-center justify-center space-x-2"},[...m[21]||(m[21]=[r("span",null,"",-1),r("span",null,"Lch s",-1)])],8,Xm),De.value?(x(),_("button",{key:0,onClick:ge=>U(ee),class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-xl text-sm font-medium transition-colors flex items-center justify-center space-x-2"},[...m[22]||(m[22]=[r("span",null,"",-1),r("span",null,"iu chnh",-1)])],8,Ym)):q("",!0)]),r("button",{onClick:ge=>ee.showMore=!ee.showMore,class:"w-full py-2 text-blue-600 text-sm font-medium border border-blue-200 rounded-lg hover:bg-blue-50 transition-colors"},v(ee.showMore?" n bt":" Thm ty chn"),9,Zm),ee.showMore?(x(),_("div",eg,[De.value?(x(),_("button",{key:0,onClick:ge=>M(ee),class:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"},"  Sa ",8,tg)):q("",!0),De.value?(x(),_("button",{key:1,onClick:ge=>$e(ee.id),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"},"  Xa ",8,ng)):q("",!0)])):q("",!0)],2))),128))])]))),128))]),s.value?(x(),_("div",sg,[r("div",rg,[m[26]||(m[26]=r("h3",null," Qun l Danh mc Nguyn liu",-1)),r("div",og,[m[25]||(m[25]=r("h4",{class:"font-semibold text-gray-800 mb-3"},"Thm danh mc mi",-1)),r("form",{onSubmit:Ae(je,["prevent"])},[r("div",ig,[m[23]||(m[23]=r("label",null,"Tn danh mc *",-1)),F(r("input",{"onUpdate:modelValue":m[5]||(m[5]=O=>d.value.name=O),type:"text",required:"",placeholder:"V d: C ph"},null,512),[[Z,d.value.name]])]),m[24]||(m[24]=r("button",{type:"submit",class:"btn-primary w-full"},"+ Thm danh mc",-1))],32)]),r("div",lg,[(x(!0),_(oe,null,ue(g.value,O=>(x(),_("div",{key:O.id,class:"bg-white border border-gray-200 rounded-lg p-3 flex items-center justify-between"},[r("div",ag,[r("div",{class:ve(["w-10 h-10 rounded-lg flex items-center justify-center text-xl",he(O.name)])},v(Fe(O.name)),3),r("div",null,[r("div",ug,v(O.name),1),r("div",cg,v(V(O.name))+" nguyn liu",1)])]),r("button",{onClick:ee=>_e(O.id,O.name),class:"text-red-500 hover:text-red-700 p-2"},"  ",8,dg)]))),128))]),r("div",fg,[r("button",{type:"button",onClick:m[6]||(m[6]=O=>s.value=!1),class:"btn-cancel"},"ng")])])])):q("",!0),n.value||o.value?(x(),_("div",pg,[r("div",hg,[r("h3",null,v(o.value?"Sa nguyn liu":"Thm nguyn liu mi"),1),r("form",{onSubmit:Ae(G,["prevent"])},[r("div",mg,[m[27]||(m[27]=r("label",null,"Tn nguyn liu *",-1)),F(r("input",{"onUpdate:modelValue":m[7]||(m[7]=O=>u.value.name=O),type:"text",required:"",placeholder:"V d: C ph bt"},null,512),[[Z,u.value.name]])]),r("div",gg,[m[29]||(m[29]=r("label",null,"Danh mc *",-1)),F(r("select",{"onUpdate:modelValue":m[8]||(m[8]=O=>u.value.category=O),required:""},[m[28]||(m[28]=r("option",{value:""},"Chn danh mc",-1)),(x(!0),_(oe,null,ue(g.value,O=>(x(),_("option",{key:O.id,value:O.name},v(O.name),9,yg))),128))],512),[[xe,u.value.category]])]),r("div",vg,[m[31]||(m[31]=r("label",null,"n v *",-1)),F(r("select",{"onUpdate:modelValue":m[9]||(m[9]=O=>u.value.unit=O),required:""},[...m[30]||(m[30]=[dt('<option value="" data-v-28799569>Chn n v</option><option value="kg" data-v-28799569>Kilogram (kg)</option><option value="g" data-v-28799569>Gram (g)</option><option value="L" data-v-28799569>Liter (L)</option><option value="ml" data-v-28799569>Milliliter (ml)</option><option value="piece" data-v-28799569>Ci</option><option value="box" data-v-28799569>Hp</option><option value="pack" data-v-28799569>Gi</option>',8)])],512),[[xe,u.value.unit]])]),r("div",bg,[m[32]||(m[32]=r("label",null,"S lng hin ti *",-1)),F(r("input",{"onUpdate:modelValue":m[10]||(m[10]=O=>u.value.quantity=O),type:"number",min:"0",step:"0.1",required:""},null,512),[[Z,u.value.quantity,void 0,{number:!0}]])]),r("div",xg,[m[33]||(m[33]=r("label",null,"Tn kho ti thiu *",-1)),F(r("input",{"onUpdate:modelValue":m[11]||(m[11]=O=>u.value.min_stock=O),type:"number",min:"0",step:"0.1",required:""},null,512),[[Z,u.value.min_stock,void 0,{number:!0}]])]),r("div",_g,[m[34]||(m[34]=r("label",null,"Gi mi n v (VN)",-1)),F(r("input",{"onUpdate:modelValue":m[12]||(m[12]=O=>u.value.cost_per_unit=O),type:"number",min:"0",step:"100"},null,512),[[Z,u.value.cost_per_unit,void 0,{number:!0}]])]),r("div",wg,[m[35]||(m[35]=r("label",null,"Nh cung cp",-1)),F(r("input",{"onUpdate:modelValue":m[13]||(m[13]=O=>u.value.supplier=O),type:"text",placeholder:"Tn nh cung cp"},null,512),[[Z,u.value.supplier]])]),r("div",Cg,[r("button",{type:"button",onClick:L,class:"btn-cancel"},"Hy"),r("button",Sg,v(o.value?"Cp nht":"Thm"),1)])],32)])])):q("",!0),l.value?(x(),_("div",kg,[r("div",$g,[r("h3",null," Lch s bin ng: "+v(l.value.name),1),!a.value||a.value.length===0?(x(),_("div",Eg,[...m[36]||(m[36]=[r("p",null,"Cha c lch s bin ng",-1)])])):(x(),_("div",Rg,[(x(!0),_(oe,null,ue(a.value,O=>(x(),_("div",{key:O.id,class:"history-item"},[r("div",Tg,[r("span",{class:ve(["history-type",Ve(O.type)])},v(re(O.type)),3),r("span",Ag,v(J(O.created_at)),1)]),r("div",Og,[r("div",Ng,[r("span",Ig,v(O.before_qty)+" "+v(l.value.unit),1),m[37]||(m[37]=r("span",{class:"arrow"},"",-1)),r("span",Pg,v(O.after_qty)+" "+v(l.value.unit),1),r("span",{class:ve(["change",{positive:O.quantity>0,negative:O.quantity<0}])}," ("+v(O.quantity>0?"+":"")+v(O.quantity)+") ",3)]),r("div",Dg,"L do: "+v(O.reason),1),r("div",Mg,"Ngi thc hin: "+v(O.username),1)])]))),128))])),r("div",{class:"form-actions"},[r("button",{type:"button",onClick:de,class:"btn-cancel"},"ng")])])])):q("",!0),i.value?(x(),_("div",Lg,[r("div",Ug,[r("h3",null," iu chnh tn kho: "+v(i.value.name),1),r("p",null,[m[38]||(m[38]=Te("Hin ti: ",-1)),r("strong",null,v(i.value.quantity)+" "+v(i.value.unit),1)]),r("form",{onSubmit:Ae(ae,["prevent"])},[r("div",Vg,[m[39]||(m[39]=r("label",null,"S lng thay i *",-1)),F(r("input",{"onUpdate:modelValue":m[14]||(m[14]=O=>c.value.quantity=O),type:"number",step:"0.1",required:"",placeholder:"Nhp s dng  thm, s m  tr"},null,512),[[Z,c.value.quantity,void 0,{number:!0}]]),m[40]||(m[40]=r("small",null,"V d: +10  thm 10 n v, -5  tr 5 n v",-1))]),r("div",Fg,[m[42]||(m[42]=r("label",null,"L do *",-1)),F(r("select",{"onUpdate:modelValue":m[15]||(m[15]=O=>c.value.reason=O),required:""},[...m[41]||(m[41]=[dt('<option value="" data-v-28799569>Chn l do</option><option value="Nhp hng" data-v-28799569>Nhp hng</option><option value="Hng hc" data-v-28799569>Hng hc</option><option value="Kim k" data-v-28799569>Kim k</option><option value="Khc" data-v-28799569>Khc</option>',5)])],512),[[xe,c.value.reason]])]),c.value.reason==="Khc"?(x(),_("div",jg,[m[43]||(m[43]=r("label",null,"L do c th",-1)),F(r("input",{"onUpdate:modelValue":m[16]||(m[16]=O=>c.value.custom_reason=O),type:"text",placeholder:"Nhp l do c th"},null,512),[[Z,c.value.custom_reason]])])):q("",!0),r("div",Bg,[r("strong",null,"Sau iu chnh: "+v((i.value.quantity+(c.value.quantity||0)).toFixed(1))+" "+v(i.value.unit),1)]),r("div",Hg,[r("button",{type:"button",onClick:m[17]||(m[17]=(...O)=>R.closeStockAdjustment&&R.closeStockAdjustment(...O)),class:"btn-cancel"},"Hy"),m[44]||(m[44]=r("button",{type:"submit",class:"btn-save"},"Lu thay i",-1))])],32)])])):q("",!0)])]))}},Kg=Xe(qg,[["__scopeId","data-v-28799569"]]),Re={async getFacilities(){return(await X.get("/manager/facilities")).data},async getFacility(e){return(await X.get(`/manager/facilities/${e}`)).data},async createFacility(e){return(await X.post("/manager/facilities",e)).data},async updateFacility(e,t){return(await X.put(`/manager/facilities/${e}`,t)).data},async updateFacilityWithHistory(e,t){return(await X.put(`/manager/facilities/${e}/update-with-history`,t)).data},async moveAsset(e,t,n){return(await X.patch(`/manager/facilities/${e}/move`,{new_area:t,reason:n})).data},async checkDeletionEligibility(e){return(await X.get(`/manager/facilities/${e}/can-delete`)).data},async deleteFacility(e){return(await X.delete(`/manager/facilities/${e}`)).data},async getFacilityHistory(e){return(await X.get(`/manager/facilities/${e}/history`)).data},async getStatusAlerts(){return(await X.get("/manager/facilities/status-alerts")).data},async getStatusHistory(e){console.log("getStatusHistory called with id:",e),console.log("Auth token:",localStorage.getItem("token"));try{const t=await X.get(`/manager/facilities/${e}/status-history`);return console.log("getStatusHistory response:",t.data),t.data}catch(t){throw console.error("getStatusHistory error:",t),t}},async updateStatusWithDetails(e,t){return(await X.patch(`/manager/facilities/${e}/status-detailed`,t)).data},async resolveStatusAlert(e){return(await X.patch(`/manager/facilities/alerts/${e}/resolve`,{})).data},async getFacilitiesByStatus(e){return(await X.get(`/manager/facilities/status/${e}`)).data},async getFacilitiesByArea(e){return(await X.get(`/manager/facilities/area/${e}`)).data},async getMaintenanceHistory(e){return(await X.get(`/manager/facilities/${e}/maintenance`)).data},async getMaintenanceStats(e){var t;try{return(await X.get(`/manager/facilities/${e}/maintenance-stats`)).data}catch(n){if(((t=n.response)==null?void 0:t.status)===404)return console.warn("Maintenance stats endpoint not implemented"),{total:0,totalCost:0,avgInterval:0,scheduledCost:0,emergencyCost:0};throw n}},async getNextMaintenanceDate(e){var t;try{return(await X.get(`/manager/facilities/${e}/next-maintenance`)).data}catch(n){if(((t=n.response)==null?void 0:t.status)===404)return console.warn("Next maintenance date endpoint not implemented"),{next_date:null};throw n}},async updateMaintenanceRecord(e,t){return(await X.put(`/manager/maintenance/${e}`,t)).data},async getMaintenanceCostAnalysis(e,t="12months"){return(await X.get(`/manager/facilities/${e}/maintenance-costs`,{params:{period:t}})).data},async scheduleRecurringMaintenance(e,t){return(await X.post(`/manager/facilities/${e}/recurring-maintenance`,t)).data},async scheduleMaintenanceTask(e){return(await X.post("/manager/maintenance/schedule",e)).data},async getScheduledMaintenance(){var e;try{return(await X.get("/manager/maintenance/scheduled")).data}catch(t){if(((e=t.response)==null?void 0:e.status)===404)return console.warn("Scheduled maintenance endpoint not implemented"),[];throw t}},async updateMaintenanceTask(e,t){return(await X.patch(`/manager/maintenance/${e}`,t)).data},async getMaintenanceDue(){var e;try{return(await X.get("/manager/maintenance/due")).data}catch(t){if(((e=t.response)==null?void 0:e.status)===404)return console.warn("Maintenance due endpoint not implemented"),[];throw t}},async getIssueReports(){return(await X.get("/manager/issue-reports")).data},async createMaintenanceRecord(e){return(await X.post("/manager/maintenance",e)).data},async createIssueReport(e){return(await X.post("/staff/issue-reports",e)).data},async updateIssueReportStatus(e,t){return(await X.patch(`/manager/issue-reports/${e}/status`,{status:t})).data},async addReportComment(e,t){return(await X.post(`/manager/issue-reports/${e}/comments`,{comment:t})).data},async searchFacilities(e={}){const t=new URLSearchParams;return e.name&&t.append("name",e.name),e.type&&t.append("type",e.type),e.area&&t.append("area",e.area),e.status&&t.append("status",e.status),e.limit&&t.append("limit",e.limit),e.offset&&t.append("offset",e.offset),(await X.get(`/manager/facilities/search?${t}`)).data},async searchFacilitiesForStaff(e={}){const t=new URLSearchParams;return e.name&&t.append("name",e.name),e.type&&t.append("type",e.type),e.area&&t.append("area",e.area),e.status&&t.append("status",e.status),e.limit&&t.append("limit",e.limit),e.offset&&t.append("offset",e.offset),(await X.get(`/waiter/facilities/search?${t}`)).data}},Gg=en("facility",{state:()=>({items:[],loading:!1,error:null}),actions:{async fetchFacilities(){var e,t;this.loading=!0,this.error=null;try{this.items=await Re.getFacilities()||[]}catch(n){this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti c s vt cht",this.items=[]}finally{this.loading=!1}},async createFacility(e){var t,n;this.error=null;try{const s=await Re.createFacility(e);return this.items.push(s),!0}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li to ti sn",!1}},async updateFacility(e,t){var n,s;this.error=null;try{const o=await Re.updateFacility(e,t),i=this.items.findIndex(l=>l.id===e);return i!==-1&&(this.items[i]=o),!0}catch(o){return this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li cp nht ti sn",!1}},async updateFacilityWithHistory(e,t){var n,s;this.error=null;try{const o=await Re.updateFacilityWithHistory(e,t),i=this.items.findIndex(l=>l.id===e);return i!==-1&&(this.items[i]=o),!0}catch(o){return this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li cp nht ti sn",!1}},async moveAsset(e,t,n){var s,o;this.error=null;try{const i=await Re.moveAsset(e,t,n),l=this.items.findIndex(a=>a.id===e);return l!==-1&&(this.items[l]=i),!0}catch(i){return this.error=((o=(s=i.response)==null?void 0:s.data)==null?void 0:o.error)||"Li di chuyn ti sn",!1}},async checkCanDelete(e){var t,n;try{return await Re.checkDeletionEligibility(e)}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li kim tra quyn xa",{canDelete:!1,reason:"Li h thng"}}},async deleteFacility(e){var t,n;this.error=null;try{return await Re.deleteFacility(e),this.items=this.items.filter(s=>s.id!==e),!0}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li xa ti sn",!1}},async fetchStatusAlerts(){var e,t;try{return await Re.getStatusAlerts()||[]}catch(n){return this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti cnh bo trng thi",[]}},async fetchStatusHistory(e){var t,n;console.log("fetchStatusHistory called with id:",e);try{const s=await Re.getStatusHistory(e)||[];return console.log("fetchStatusHistory result:",s),s}catch(s){return console.error("fetchStatusHistory error:",s),this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li ti lch s trng thi",[]}},async updateStatusWithDetails(e,t){var n,s;this.error=null;try{const o=await Re.updateStatusWithDetails(e,t),i=this.items.findIndex(l=>l.id===e);return i!==-1&&(this.items[i]=o),!0}catch(o){return this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li cp nht trng thi",!1}},async resolveStatusAlert(e){var t,n;this.error=null;try{return await Re.resolveStatusAlert(e),!0}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li gii quyt cnh bo",!1}},async fetchFacilitiesByStatus(e){var t,n;try{return await Re.getFacilitiesByStatus(e)||[]}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li ti ti sn theo trng thi",[]}},async fetchFacilitiesByArea(e){var t,n;try{return await Re.getFacilitiesByArea(e)||[]}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li ti ti sn theo khu vc",[]}},async fetchFacilityHistory(e){var t,n;try{return await Re.getFacilityHistory(e)||[]}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li ti lch s",[]}},async fetchMaintenanceHistory(e){var t,n;try{return await Re.getMaintenanceHistory(e)||[]}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li ti lch s bo tr",[]}},async fetchMaintenanceStats(e){var t,n;try{return await Re.getMaintenanceStats(e)||{total:0,totalCost:0,avgInterval:0,scheduledCost:0,emergencyCost:0}}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li ti thng k bo tr",{total:0,totalCost:0,avgInterval:0,scheduledCost:0,emergencyCost:0}}},async fetchNextMaintenanceDate(e){var t,n;try{const s=await Re.getNextMaintenanceDate(e);return(s==null?void 0:s.next_date)||null}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li ti ngy bo tr tip theo",null}},async updateMaintenanceRecord(e,t){var n,s;this.error=null;try{return await Re.updateMaintenanceRecord(e,t),!0}catch(o){return this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li cp nht bo tr",!1}},async fetchMaintenanceCostAnalysis(e,t="12months"){var n,s;try{return await Re.getMaintenanceCostAnalysis(e,t)||[]}catch(o){return this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li ti phn tch chi ph",[]}},async createMaintenanceRecord(e){var t,n;this.error=null;try{return await Re.createMaintenanceRecord(e),!0}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li to bo tr",!1}},async scheduleMaintenanceTask(e){var t,n;this.error=null;try{return await Re.scheduleMaintenanceTask(e),!0}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li ln lch bo tr",!1}},async fetchScheduledMaintenance(){try{return await Re.getScheduledMaintenance()||[]}catch(e){return console.warn("Scheduled maintenance endpoint not available:",e.message),[]}},async createIssueReport(e){var t,n;this.error=null;try{return await Re.createIssueReport(e),!0}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li to bo co s c",!1}},async fetchIssueReports(){var e,t;try{return await Re.getIssueReports()||[]}catch(n){return this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti bo co s c",[]}},async updateIssueReportStatus(e,t){var n,s;this.error=null;try{return await Re.updateIssueReportStatus(e,t),!0}catch(o){return this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li cp nht trng thi bo co",!1}},async addReportComment(e,t){var n,s;this.error=null;try{return await Re.addReportComment(e,t),!0}catch(o){return this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li thm bnh lun",!1}},async searchFacilities(e={}){var t,n;this.loading=!0,this.error=null;try{return await Re.searchFacilities(e)}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li tm kim ti sn",{data:[],total:0}}finally{this.loading=!1}},async searchFacilitiesForStaff(e={}){var t,n;this.loading=!0,this.error=null;try{return await Re.searchFacilitiesForStaff(e)}catch(s){return this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li tm kim ti sn",{data:[],total:0}}finally{this.loading=!1}},async fetchMaintenanceDue(){try{return await Re.getMaintenanceDue()||[]}catch(e){return console.warn("Maintenance due endpoint not available:",e.message),[]}}}});const Wg={class:"min-h-screen bg-gray-100"},zg={class:"p-4"},Qg={class:"flex flex-col lg:flex-row justify-between items-center mb-6"},Jg={class:"flex flex-wrap gap-2"},Xg={key:0,class:"text-center py-10 text-gray-600 text-lg"},Yg={key:1,class:"text-center py-10 text-red-600 bg-red-50 border border-red-200 rounded-lg"},Zg={class:"bg-white rounded-xl p-4 mb-4 shadow-sm"},e0={class:"grid grid-cols-1 gap-3"},t0={class:"bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl p-6 mb-4 text-white shadow-lg"},n0={class:"text-3xl font-bold"},s0={class:"grid grid-cols-1 gap-4"},r0={class:"flex items-center justify-between mb-3"},o0={class:"flex items-center space-x-3"},i0={class:"font-bold text-gray-800"},l0={class:"text-sm text-gray-500"},a0={class:"text-right"},u0={class:"grid grid-cols-2 gap-3 text-sm mb-3"},c0={class:"bg-gray-50 rounded-lg p-3"},d0={class:"font-medium text-gray-800"},f0={class:"bg-gray-50 rounded-lg p-3"},p0={class:"font-medium text-gray-800"},h0={class:"bg-gray-50 rounded-lg p-3"},m0={class:"font-medium text-gray-800"},g0={key:0,class:"bg-gray-50 rounded-lg p-3"},y0={class:"font-medium text-gray-800"},v0={class:"grid grid-cols-2 gap-2"},b0=["onClick"],x0=["onClick"],_0=["onClick"],w0=["onClick"],C0=["onClick"],S0=["onClick"],k0=["onClick"],$0={key:2,class:"text-center py-20"},E0={key:3,class:"modal"},R0={class:"modal-content"},T0={class:"form-group"},A0={class:"form-group"},O0={class:"form-group"},N0={class:"form-group"},I0={class:"form-group"},P0={class:"form-group"},D0={class:"form-group"},M0={class:"form-group"},L0={class:"form-group"},U0={class:"form-actions"},V0={type:"submit",class:"btn-save"},F0={key:4,class:"modal"},j0={class:"modal-content max-w-4xl"},B0={class:"bg-gray-50 rounded-lg p-4 mb-4"},H0={key:0,class:"text-center py-10 text-gray-600"},q0={key:1,class:"space-y-3 max-h-96 overflow-y-auto"},K0={class:"flex justify-between items-start mb-2"},G0={class:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium"},W0={class:"text-sm text-gray-500 ml-2"},z0={class:"text-lg font-bold text-gray-800"},Q0={class:"text-sm text-gray-700 mb-1"},J0={key:0,class:"text-sm text-gray-600"},X0={class:"form-actions mt-4"},Y0={key:5,class:"modal"},Z0={class:"modal-content"},ey={class:"text-sm text-gray-600 mb-4"},ty={class:"form-group"},ny={class:"form-group"},sy={class:"form-actions"},ry={key:6,class:"modal"},oy={class:"modal-content max-w-4xl"},iy={class:"bg-gray-50 rounded-lg p-4 mb-4"},ly={key:0,class:"text-center py-10 text-gray-600"},ay={key:1,class:"space-y-3 max-h-96 overflow-y-auto"},uy={class:"flex justify-between items-start mb-2"},cy={class:"font-bold text-gray-800"},dy={class:"text-sm text-gray-600"},fy={class:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium"},py={class:"flex gap-2 mt-3"},hy=["onClick"],my={class:"form-actions mt-4"},gy={key:7,class:"modal"},yy={class:"modal-content"},vy={class:"form-group"},by=["value"],xy={class:"form-group"},_y={class:"form-group"},wy={class:"form-group"},Cy={class:"form-actions"},Sy={key:8,class:"modal"},ky={class:"modal-content max-w-4xl"},$y={class:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-4"},Ey={class:"bg-blue-50 rounded-lg p-4"},Ry={class:"text-2xl font-bold text-blue-800"},Ty={class:"bg-green-50 rounded-lg p-4"},Ay={class:"text-2xl font-bold text-green-800"},Oy={class:"bg-red-50 rounded-lg p-4"},Ny={class:"text-2xl font-bold text-red-800"},Iy={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Py={class:"bg-white border border-gray-200 rounded-lg p-4"},Dy={class:"text-gray-600"},My={class:"font-medium text-gray-800"},Ly={class:"bg-white border border-gray-200 rounded-lg p-4"},Uy={class:"text-gray-600"},Vy={class:"font-medium text-gray-800"},Fy={class:"form-actions mt-4"},jy={key:9,class:"modal"},By={class:"modal-content"},Hy={class:"form-group"},qy={class:"form-group"},Ky={class:"form-actions"},Gy={key:10,class:"modal"},Wy={class:"modal-content"},zy={class:"form-group"},Qy={class:"form-group"},Jy={class:"form-group"},Xy={class:"form-actions"},Yy={key:11,class:"modal"},Zy={class:"modal-content max-w-4xl"},ev={key:0,class:"text-center py-10 text-gray-600"},tv={key:1,class:"space-y-3 max-h-96 overflow-y-auto"},nv={class:"flex justify-between items-start mb-2"},sv={class:"px-2 py-1 bg-gray-100 text-gray-800 rounded text-xs font-medium"},rv={class:"text-sm text-gray-500"},ov={class:"text-sm text-gray-700 mb-1"},iv={class:"text-sm text-gray-600"},lv={class:"form-actions mt-4"},av={key:12,class:"modal"},uv={class:"modal-content"},cv={class:"form-group"},dv={class:"form-group"},fv={class:"form-group"},pv={class:"form-group"},hv={class:"form-group"},mv={class:"form-actions"},gv={__name:"FacilityView",setup(e){const t=Gg(),n=H(!1),s=H(null),o=H(null),i=H([]),l=H(!1),a=H(""),u=H(""),c=H(""),d=H(""),g=H(null),b=H(null),w=H(null),E=H([]),T=H(null),A=H(!1),z=H(!1),K=H([]),W=H(!1),j=H({}),B=H({name:"",type:"",area:"",quantity:1,status:"ang s dng",purchase_date:"",cost:0,supplier:"",notes:""}),D=H({type:"scheduled",description:"",date:"",cost:0,vendor:""}),Y=H({status:"",notes:""}),M=H({issue_type:"",severity:"",description:""}),L=H({new_area:"",reason:""}),G=H({facility_id:"",description:"",scheduled_date:"",estimated_cost:0}),U=ne(()=>t.items||[]),N=ne(()=>t.loading),ae=ne(()=>t.error),$e=ne(()=>{let k=U.value;return a.value&&(k=k.filter(h=>h.name.toLowerCase().includes(a.value.toLowerCase())||h.type.toLowerCase().includes(a.value.toLowerCase())||h.area.toLowerCase().includes(a.value.toLowerCase()))),u.value&&(k=k.filter(h=>h.type===u.value)),c.value&&(k=k.filter(h=>h.status===c.value)),d.value&&(k=k.filter(h=>h.area===d.value)),k});_t(async()=>{await t.fetchFacilities();try{K.value=await t.fetchScheduledMaintenance()}catch{K.value=[]}});const se=async()=>{(s.value?await t.updateFacility(s.value.id,B.value):await t.createFacility(B.value))&&re()},de=k=>{s.value=k,B.value={...k}},J=async k=>{confirm("Bn c chc mun xa ti sn ny?")&&await t.deleteFacility(k)},re=()=>{n.value=!1,s.value=null,B.value={name:"",type:"",area:"",quantity:1,status:"ang s dng",purchase_date:"",cost:0,supplier:"",notes:""}},Ve=async k=>{o.value=k;try{i.value=await t.fetchMaintenanceHistory(k.id)}catch{i.value=[]}},Fe=async()=>{const k={...D.value,facility_id:o.value.id};await t.createMaintenanceRecord(k)&&(l.value=!1,D.value={type:"scheduled",description:"",date:"",cost:0,vendor:""},i.value=await t.fetchMaintenanceHistory(o.value.id))},he=k=>k?new Date(k).toLocaleDateString("vi-VN"):"N/A",Ce=k=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(k),Me=k=>({"Bn gh":"","My mc":"","Dng c":"","in t":"",Khc:""})[k]||"",De=k=>({"Bn gh":"bg-blue-100 text-blue-600","My mc":"bg-green-100 text-green-600","Dng c":"bg-yellow-100 text-yellow-600","in t":"bg-purple-100 text-purple-600",Khc:"bg-gray-100 text-gray-600"})[k]||"bg-gray-100 text-gray-600",je=k=>({"ang s dng":"bg-green-100 text-green-800",Hng:"bg-red-100 text-red-800","ang sa":"bg-yellow-100 text-yellow-800","Ngng s dng":"bg-gray-100 text-gray-800"})[k]||"bg-gray-100 text-gray-600",_e=k=>({scheduled:"nh k",preventive:"Phng nga",corrective:"Sa cha",emergency:"Khn cp"})[k]||k,V=k=>k?new Date(k).toLocaleString("vi-VN"):"N/A",R=k=>{g.value=k,Y.value={status:k.status,notes:""}},m=async()=>{await t.updateFacilityStatus(g.value.id,Y.value)&&(g.value=null,Y.value={status:"",notes:""})},O=k=>{b.value=k,M.value={issue_type:"",severity:"",description:""}},ee=async()=>{const k={...M.value,facility_id:b.value.id,facility_name:b.value.name};await t.createIssueReport(k)&&(b.value=null,M.value={issue_type:"",severity:"",description:""},alert("Bo co s c  c gi thnh cng!"))},ge=async k=>{w.value=k;try{E.value=await t.fetchFacilityHistory(k.id)}catch{E.value=[]}},y=k=>{T.value=k,L.value={new_area:"",reason:""}},S=async()=>{const k={area:L.value.new_area,change_reason:`Di chuyn t ${T.value.area} n ${L.value.new_area}: ${L.value.reason}`};await t.updateFacility(T.value.id,k)&&(T.value=null,L.value={new_area:"",reason:""})},C=async()=>{await t.scheduleMaintenanceTask(G.value)&&(z.value=!1,G.value={facility_id:"",description:"",scheduled_date:"",estimated_cost:0},K.value=await t.fetchScheduledMaintenance())},p=async k=>{confirm("nh du nhim v ny  hon thnh?")&&await t.updateMaintenanceTask(k.id,{status:"completed"})&&(K.value=await t.fetchScheduledMaintenance())},f=()=>{const k={total:U.value.length,active:U.value.filter(h=>h.status==="ang s dng").length,needMaintenance:U.value.filter(h=>h.status==="ang sa").length,broken:U.value.filter(h=>h.status==="Hng").length,byArea:{},byType:{}};U.value.forEach(h=>{k.byArea[h.area]=(k.byArea[h.area]||0)+1,k.byType[h.type]=(k.byType[h.type]||0)+1}),j.value=k,W.value=!0};return(k,h)=>(x(),_("div",Wg,[ye(Ct),r("div",zg,[r("div",Qg,[h[43]||(h[43]=r("h2",{class:"text-xl lg:text-2xl font-semibold text-gray-800 mb-4 lg:mb-0"},"  Qun l C s vt cht ",-1)),r("div",Jg,[r("button",{onClick:h[0]||(h[0]=$=>A.value=!0),class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors"},"  Lch bo tr "),r("button",{onClick:f,class:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors"},"  Bo co "),r("button",{onClick:h[1]||(h[1]=$=>n.value=!0),class:"btn-primary text-sm px-4 py-2"}," + Thm ti sn ")])]),N.value?(x(),_("div",Xg,"ang ti...")):q("",!0),ae.value?(x(),_("div",Yg,v(ae.value),1)):q("",!0),r("div",Zg,[r("div",e0,[F(r("input",{"onUpdate:modelValue":h[2]||(h[2]=$=>a.value=$),type:"text",placeholder:"Tm kim ti sn...",class:"p-3 border border-gray-300 rounded-lg text-base focus:ring-2 focus:ring-blue-500"},null,512),[[Z,a.value]]),F(r("select",{"onUpdate:modelValue":h[3]||(h[3]=$=>u.value=$),class:"p-3 border border-gray-300 rounded-lg text-base focus:ring-2 focus:ring-blue-500"},[...h[44]||(h[44]=[dt('<option value="" data-v-0088c184>Tt c loi</option><option value="Bn gh" data-v-0088c184>Bn gh</option><option value="My mc" data-v-0088c184>My mc</option><option value="Dng c" data-v-0088c184>Dng c</option><option value="in t" data-v-0088c184>in t</option><option value="Khc" data-v-0088c184>Khc</option>',6)])],512),[[xe,u.value]]),F(r("select",{"onUpdate:modelValue":h[4]||(h[4]=$=>c.value=$),class:"p-3 border border-gray-300 rounded-lg text-base focus:ring-2 focus:ring-blue-500"},[...h[45]||(h[45]=[dt('<option value="" data-v-0088c184>Tt c trng thi</option><option value="ang s dng" data-v-0088c184>ang s dng</option><option value="Hng" data-v-0088c184>Hng</option><option value="ang sa" data-v-0088c184>ang sa</option><option value="Ngng s dng" data-v-0088c184>Ngng s dng</option>',5)])],512),[[xe,c.value]]),F(r("select",{"onUpdate:modelValue":h[5]||(h[5]=$=>d.value=$),class:"p-3 border border-gray-300 rounded-lg text-base focus:ring-2 focus:ring-blue-500"},[...h[46]||(h[46]=[dt('<option value="" data-v-0088c184>Tt c khu vc</option><option value="Phng khch" data-v-0088c184>Phng khch</option><option value="Bp" data-v-0088c184>Bp</option><option value="Quy bar" data-v-0088c184>Quy bar</option><option value="Kho" data-v-0088c184>Kho</option><option value="Vn phng" data-v-0088c184>Vn phng</option>',6)])],512),[[xe,d.value]])])]),r("div",t0,[h[47]||(h[47]=r("div",{class:"text-sm opacity-90 mb-1"},"Tng s ti sn",-1)),r("div",n0,v($e.value.length),1)]),r("div",s0,[(x(!0),_(oe,null,ue($e.value,$=>(x(),_("div",{key:$.id,class:"bg-white rounded-xl p-4 shadow-md"},[r("div",r0,[r("div",o0,[r("div",{class:ve(["w-12 h-12 rounded-xl flex items-center justify-center text-2xl",De($.type)])},v(Me($.type)),3),r("div",null,[r("h4",i0,v($.name),1),r("p",l0,v($.area),1)])]),r("div",a0,[r("span",{class:ve(["px-3 py-1 rounded-full text-xs font-medium",je($.status)])},v($.status),3)])]),r("div",u0,[r("div",c0,[h[48]||(h[48]=r("div",{class:"text-gray-500 text-xs mb-1"},"Loi",-1)),r("div",d0,v($.type),1)]),r("div",f0,[h[49]||(h[49]=r("div",{class:"text-gray-500 text-xs mb-1"},"S lng",-1)),r("div",p0,v($.quantity),1)]),r("div",h0,[h[50]||(h[50]=r("div",{class:"text-gray-500 text-xs mb-1"},"Ngy mua",-1)),r("div",m0,v(he($.purchase_date)),1)]),$.cost?(x(),_("div",g0,[h[51]||(h[51]=r("div",{class:"text-gray-500 text-xs mb-1"},"Gi tr",-1)),r("div",y0,v(Ce($.cost)),1)])):q("",!0)]),r("div",v0,[r("button",{onClick:Q=>de($),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"},"  Sa ",8,b0),r("button",{onClick:Q=>R($),class:"bg-purple-500 hover:bg-purple-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"},"  Trng thi ",8,x0),r("button",{onClick:Q=>Ve($),class:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"},"  Bo tr ",8,_0),r("button",{onClick:Q=>y($),class:"bg-indigo-500 hover:bg-indigo-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"},"  Di chuyn ",8,w0),r("button",{onClick:Q=>O($),class:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"},"  Bo hng ",8,C0),r("button",{onClick:Q=>ge($),class:"bg-teal-500 hover:bg-teal-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"},"  Lch s ",8,S0),r("button",{onClick:Q=>J($.id),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"},"  Xa ",8,k0)])]))),128))]),!N.value&&$e.value.length===0?(x(),_("div",$0,[h[52]||(h[52]=r("div",{class:"text-6xl mb-4"},"",-1)),h[53]||(h[53]=r("h3",{class:"text-xl font-semibold text-gray-800 mb-2"},"Cha c ti sn",-1)),h[54]||(h[54]=r("p",{class:"text-gray-600 mb-4"},"Hy thm ti sn u tin ca bn",-1)),r("button",{onClick:h[6]||(h[6]=$=>n.value=!0),class:"btn-primary"},"+ Thm ti sn")])):q("",!0),n.value||s.value?(x(),_("div",E0,[r("div",R0,[r("h3",null,v(s.value?"Sa ti sn":"Thm ti sn mi"),1),r("form",{onSubmit:Ae(se,["prevent"])},[r("div",T0,[h[55]||(h[55]=r("label",null,"Tn ti sn *",-1)),F(r("input",{"onUpdate:modelValue":h[7]||(h[7]=$=>B.value.name=$),type:"text",required:"",placeholder:"V d: Bn g"},null,512),[[Z,B.value.name]])]),r("div",A0,[h[57]||(h[57]=r("label",null,"Loi *",-1)),F(r("select",{"onUpdate:modelValue":h[8]||(h[8]=$=>B.value.type=$),required:""},[...h[56]||(h[56]=[dt('<option value="" data-v-0088c184>Chn loi</option><option value="Bn gh" data-v-0088c184>Bn gh</option><option value="My mc" data-v-0088c184>My mc</option><option value="Dng c" data-v-0088c184>Dng c</option><option value="in t" data-v-0088c184>in t</option><option value="Khc" data-v-0088c184>Khc</option>',6)])],512),[[xe,B.value.type]])]),r("div",O0,[h[59]||(h[59]=r("label",null,"Khu vc *",-1)),F(r("select",{"onUpdate:modelValue":h[9]||(h[9]=$=>B.value.area=$),required:""},[...h[58]||(h[58]=[dt('<option value="" data-v-0088c184>Chn khu vc</option><option value="Phng khch" data-v-0088c184>Phng khch</option><option value="Bp" data-v-0088c184>Bp</option><option value="Quy bar" data-v-0088c184>Quy bar</option><option value="Kho" data-v-0088c184>Kho</option><option value="Vn phng" data-v-0088c184>Vn phng</option><option value="Khc" data-v-0088c184>Khc</option>',7)])],512),[[xe,B.value.area]])]),r("div",N0,[h[60]||(h[60]=r("label",null,"S lng *",-1)),F(r("input",{"onUpdate:modelValue":h[10]||(h[10]=$=>B.value.quantity=$),type:"number",min:"1",required:""},null,512),[[Z,B.value.quantity,void 0,{number:!0}]])]),r("div",I0,[h[62]||(h[62]=r("label",null,"Trng thi *",-1)),F(r("select",{"onUpdate:modelValue":h[11]||(h[11]=$=>B.value.status=$),required:""},[...h[61]||(h[61]=[r("option",{value:"ang s dng"},"ang s dng",-1),r("option",{value:"Hng"},"Hng",-1),r("option",{value:"ang sa"},"ang sa",-1),r("option",{value:"Ngng s dng"},"Ngng s dng",-1)])],512),[[xe,B.value.status]])]),r("div",P0,[h[63]||(h[63]=r("label",null,"Ngy mua",-1)),F(r("input",{"onUpdate:modelValue":h[12]||(h[12]=$=>B.value.purchase_date=$),type:"date"},null,512),[[Z,B.value.purchase_date]])]),r("div",D0,[h[64]||(h[64]=r("label",null,"Chi ph (VN)",-1)),F(r("input",{"onUpdate:modelValue":h[13]||(h[13]=$=>B.value.cost=$),type:"number",min:"0",step:"1000"},null,512),[[Z,B.value.cost,void 0,{number:!0}]])]),r("div",M0,[h[65]||(h[65]=r("label",null,"Nh cung cp",-1)),F(r("input",{"onUpdate:modelValue":h[14]||(h[14]=$=>B.value.supplier=$),type:"text",placeholder:"Tn nh cung cp"},null,512),[[Z,B.value.supplier]])]),r("div",L0,[h[66]||(h[66]=r("label",null,"Ghi ch",-1)),F(r("textarea",{"onUpdate:modelValue":h[15]||(h[15]=$=>B.value.notes=$),rows:"3",placeholder:"Ghi ch thm..."},null,512),[[Z,B.value.notes]])]),r("div",U0,[r("button",{type:"button",onClick:re,class:"btn-cancel"},"Hy"),r("button",V0,v(s.value?"Cp nht":"Thm"),1)])],32)])])):q("",!0),o.value?(x(),_("div",F0,[r("div",j0,[r("h3",null," Bo tr: "+v(o.value.name),1),r("div",B0,[r("button",{onClick:h[16]||(h[16]=$=>l.value=!0),class:"btn-primary w-full"},"+ Thm bo tr mi")]),i.value.length===0?(x(),_("div",H0,"Cha c lch s bo tr")):(x(),_("div",q0,[(x(!0),_(oe,null,ue(i.value,$=>(x(),_("div",{key:$.id,class:"bg-white border border-gray-200 rounded-lg p-4"},[r("div",K0,[r("div",null,[r("span",G0,v(_e($.type)),1),r("span",W0,v(he($.date)),1)]),r("div",z0,v(Ce($.cost)),1)]),r("p",Q0,[h[67]||(h[67]=r("strong",null,"M t:",-1)),Te(" "+v($.description),1)]),$.vendor?(x(),_("p",J0,[h[68]||(h[68]=r("strong",null,"n v:",-1)),Te(" "+v($.vendor),1)])):q("",!0)]))),128))])),r("div",X0,[r("button",{onClick:h[17]||(h[17]=$=>o.value=null),class:"btn-cancel"},"ng")])])])):q("",!0),T.value?(x(),_("div",Y0,[r("div",Z0,[r("h3",null," Di chuyn ti sn: "+v(T.value.name),1),r("p",ey,[h[69]||(h[69]=Te("Khu vc hin ti: ",-1)),r("strong",null,v(T.value.area),1)]),r("form",{onSubmit:Ae(S,["prevent"])},[r("div",ty,[h[71]||(h[71]=r("label",null,"Khu vc mi *",-1)),F(r("select",{"onUpdate:modelValue":h[18]||(h[18]=$=>L.value.new_area=$),required:""},[...h[70]||(h[70]=[dt('<option value="" data-v-0088c184>Chn khu vc mi</option><option value="Phng khch" data-v-0088c184>Phng khch</option><option value="Bp" data-v-0088c184>Bp</option><option value="Quy bar" data-v-0088c184>Quy bar</option><option value="Kho" data-v-0088c184>Kho</option><option value="Vn phng" data-v-0088c184>Vn phng</option><option value="Khc" data-v-0088c184>Khc</option>',7)])],512),[[xe,L.value.new_area]])]),r("div",ny,[h[72]||(h[72]=r("label",null,"L do di chuyn *",-1)),F(r("textarea",{"onUpdate:modelValue":h[19]||(h[19]=$=>L.value.reason=$),required:"",rows:"3",placeholder:"Nhp l do di chuyn ti sn..."},null,512),[[Z,L.value.reason]])]),r("div",sy,[r("button",{type:"button",onClick:h[20]||(h[20]=$=>T.value=null),class:"btn-cancel"},"Hy"),h[73]||(h[73]=r("button",{type:"submit",class:"btn-save"},"Di chuyn",-1))])],32)])])):q("",!0),A.value?(x(),_("div",ry,[r("div",oy,[h[74]||(h[74]=r("h3",null," Lch Bo tr",-1)),r("div",iy,[r("button",{onClick:h[21]||(h[21]=$=>z.value=!0),class:"btn-primary w-full"},"+ Ln lch bo tr mi")]),K.value.length===0?(x(),_("div",ly,"Cha c lch bo tr")):(x(),_("div",ay,[(x(!0),_(oe,null,ue(K.value,$=>(x(),_("div",{key:$.id,class:"bg-white border border-gray-200 rounded-lg p-4"},[r("div",uy,[r("div",null,[r("h5",cy,v($.facility_name),1),r("p",dy,v($.description),1)]),r("span",fy,v(he($.scheduled_date)),1)]),r("div",py,[r("button",{onClick:Q=>p($),class:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm"}," Hon thnh",8,hy)])]))),128))])),r("div",my,[r("button",{onClick:h[22]||(h[22]=$=>A.value=!1),class:"btn-cancel"},"ng")])])])):q("",!0),z.value?(x(),_("div",gy,[r("div",yy,[h[81]||(h[81]=r("h3",null,"Ln lch bo tr",-1)),r("form",{onSubmit:Ae(C,["prevent"])},[r("div",vy,[h[76]||(h[76]=r("label",null,"Ti sn *",-1)),F(r("select",{"onUpdate:modelValue":h[23]||(h[23]=$=>G.value.facility_id=$),required:""},[h[75]||(h[75]=r("option",{value:""},"Chn ti sn",-1)),(x(!0),_(oe,null,ue(U.value,$=>(x(),_("option",{key:$.id,value:$.id},v($.name)+" - "+v($.area),9,by))),128))],512),[[xe,G.value.facility_id]])]),r("div",xy,[h[77]||(h[77]=r("label",null,"M t cng vic *",-1)),F(r("textarea",{"onUpdate:modelValue":h[24]||(h[24]=$=>G.value.description=$),required:"",rows:"3"},null,512),[[Z,G.value.description]])]),r("div",_y,[h[78]||(h[78]=r("label",null,"Ngy d kin *",-1)),F(r("input",{"onUpdate:modelValue":h[25]||(h[25]=$=>G.value.scheduled_date=$),type:"date",required:""},null,512),[[Z,G.value.scheduled_date]])]),r("div",wy,[h[79]||(h[79]=r("label",null,"Chi ph d kin (VN)",-1)),F(r("input",{"onUpdate:modelValue":h[26]||(h[26]=$=>G.value.estimated_cost=$),type:"number",min:"0",step:"1000"},null,512),[[Z,G.value.estimated_cost,void 0,{number:!0}]])]),r("div",Cy,[r("button",{type:"button",onClick:h[27]||(h[27]=$=>z.value=!1),class:"btn-cancel"},"Hy"),h[80]||(h[80]=r("button",{type:"submit",class:"btn-save"},"Ln lch",-1))])],32)])])):q("",!0),W.value?(x(),_("div",Sy,[r("div",ky,[h[87]||(h[87]=r("h3",null," Bo co Ti sn",-1)),r("div",$y,[r("div",Ey,[h[82]||(h[82]=r("div",{class:"text-sm text-blue-600 mb-1"},"Tng s ti sn",-1)),r("div",Ry,v(j.value.total),1)]),r("div",Ty,[h[83]||(h[83]=r("div",{class:"text-sm text-green-600 mb-1"},"ang s dng",-1)),r("div",Ay,v(j.value.active),1)]),r("div",Oy,[h[84]||(h[84]=r("div",{class:"text-sm text-red-600 mb-1"},"Hng hc",-1)),r("div",Ny,v(j.value.broken),1)])]),r("div",Iy,[r("div",Py,[h[85]||(h[85]=r("h4",{class:"font-semibold text-gray-800 mb-3"},"Theo khu vc",-1)),(x(!0),_(oe,null,ue(j.value.byArea,($,Q)=>(x(),_("div",{key:Q,class:"flex justify-between py-1"},[r("span",Dy,v(Q),1),r("span",My,v($),1)]))),128))]),r("div",Ly,[h[86]||(h[86]=r("h4",{class:"font-semibold text-gray-800 mb-3"},"Theo loi",-1)),(x(!0),_(oe,null,ue(j.value.byType,($,Q)=>(x(),_("div",{key:Q,class:"flex justify-between py-1"},[r("span",Uy,v(Q),1),r("span",Vy,v($),1)]))),128))])]),r("div",Fy,[r("button",{onClick:h[28]||(h[28]=$=>W.value=!1),class:"btn-cancel"},"ng")])])])):q("",!0),g.value?(x(),_("div",jy,[r("div",By,[r("h3",null," Cp nht trng thi: "+v(g.value.name),1),r("form",{onSubmit:Ae(m,["prevent"])},[r("div",Hy,[h[89]||(h[89]=r("label",null,"Trng thi mi *",-1)),F(r("select",{"onUpdate:modelValue":h[29]||(h[29]=$=>Y.value.status=$),required:""},[...h[88]||(h[88]=[dt('<option value="ang s dng" data-v-0088c184>ang s dng</option><option value="Hng" data-v-0088c184>Hng</option><option value="ang sa" data-v-0088c184>ang sa</option><option value="Ngng s dng" data-v-0088c184>Ngng s dng</option><option value="Thanh l" data-v-0088c184>Thanh l</option>',5)])],512),[[xe,Y.value.status]])]),r("div",qy,[h[90]||(h[90]=r("label",null,"Ghi ch",-1)),F(r("textarea",{"onUpdate:modelValue":h[30]||(h[30]=$=>Y.value.notes=$),rows:"3",placeholder:"L do thay i trng thi..."},null,512),[[Z,Y.value.notes]])]),r("div",Ky,[r("button",{type:"button",onClick:h[31]||(h[31]=$=>g.value=null),class:"btn-cancel"},"Hy"),h[91]||(h[91]=r("button",{type:"submit",class:"btn-save"},"Cp nht",-1))])],32)])])):q("",!0),b.value?(x(),_("div",Gy,[r("div",Wy,[r("h3",null," Bo co s c: "+v(b.value.name),1),r("form",{onSubmit:Ae(ee,["prevent"])},[r("div",zy,[h[93]||(h[93]=r("label",null,"Loi s c *",-1)),F(r("select",{"onUpdate:modelValue":h[32]||(h[32]=$=>M.value.issue_type=$),required:""},[...h[92]||(h[92]=[dt('<option value="" data-v-0088c184>Chn loi s c</option><option value="h hng" data-v-0088c184>H hng</option><option value="khng hot ng" data-v-0088c184>Khng hot ng</option><option value="hot ng bt thng" data-v-0088c184>Hot ng bt thng</option><option value="an ton" data-v-0088c184>Vn  an ton</option>',5)])],512),[[xe,M.value.issue_type]])]),r("div",Qy,[h[95]||(h[95]=r("label",null,"Mc  nh hng *",-1)),F(r("select",{"onUpdate:modelValue":h[33]||(h[33]=$=>M.value.severity=$),required:""},[...h[94]||(h[94]=[dt('<option value="" data-v-0088c184>Chn mc </option><option value="thp" data-v-0088c184>Thp</option><option value="trung bnh" data-v-0088c184>Trung bnh</option><option value="cao" data-v-0088c184>Cao</option><option value="khn cp" data-v-0088c184>Khn cp</option>',5)])],512),[[xe,M.value.severity]])]),r("div",Jy,[h[96]||(h[96]=r("label",null,"M t s c *",-1)),F(r("textarea",{"onUpdate:modelValue":h[34]||(h[34]=$=>M.value.description=$),required:"",rows:"4",placeholder:"M t chi tit s c..."},null,512),[[Z,M.value.description]])]),r("div",Xy,[r("button",{type:"button",onClick:h[35]||(h[35]=$=>b.value=null),class:"btn-cancel"},"Hy"),h[97]||(h[97]=r("button",{type:"submit",class:"btn-save"},"Gi bo co",-1))])],32)])])):q("",!0),w.value?(x(),_("div",Yy,[r("div",Zy,[r("h3",null," Lch s: "+v(w.value.name),1),E.value.length===0?(x(),_("div",ev,"Cha c lch s")):(x(),_("div",tv,[(x(!0),_(oe,null,ue(E.value,$=>(x(),_("div",{key:$.id,class:"bg-white border border-gray-200 rounded-lg p-4"},[r("div",nv,[r("span",sv,v($.action_type),1),r("span",rv,v(V($.created_at)),1)]),r("p",ov,[h[98]||(h[98]=r("strong",null,"M t:",-1)),Te(" "+v($.description),1)]),r("p",iv,[h[99]||(h[99]=r("strong",null,"Ngi thc hin:",-1)),Te(" "+v($.username),1)])]))),128))])),r("div",lv,[r("button",{onClick:h[36]||(h[36]=$=>w.value=null),class:"btn-cancel"},"ng")])])])):q("",!0),l.value?(x(),_("div",av,[r("div",uv,[h[107]||(h[107]=r("h3",null,"Thm bo tr mi",-1)),r("form",{onSubmit:Ae(Fe,["prevent"])},[r("div",cv,[h[101]||(h[101]=r("label",null,"Loi bo tr *",-1)),F(r("select",{"onUpdate:modelValue":h[37]||(h[37]=$=>D.value.type=$),required:""},[...h[100]||(h[100]=[r("option",{value:"scheduled"},"nh k",-1),r("option",{value:"preventive"},"Phng nga",-1),r("option",{value:"corrective"},"Sa cha",-1),r("option",{value:"emergency"},"Khn cp",-1)])],512),[[xe,D.value.type]])]),r("div",dv,[h[102]||(h[102]=r("label",null,"M t cng vic *",-1)),F(r("textarea",{"onUpdate:modelValue":h[38]||(h[38]=$=>D.value.description=$),required:"",rows:"3"},null,512),[[Z,D.value.description]])]),r("div",fv,[h[103]||(h[103]=r("label",null,"Ngy thc hin *",-1)),F(r("input",{"onUpdate:modelValue":h[39]||(h[39]=$=>D.value.date=$),type:"date",required:""},null,512),[[Z,D.value.date]])]),r("div",pv,[h[104]||(h[104]=r("label",null,"Chi ph (VN)",-1)),F(r("input",{"onUpdate:modelValue":h[40]||(h[40]=$=>D.value.cost=$),type:"number",min:"0",step:"1000"},null,512),[[Z,D.value.cost,void 0,{number:!0}]])]),r("div",hv,[h[105]||(h[105]=r("label",null,"n v thc hin",-1)),F(r("input",{"onUpdate:modelValue":h[41]||(h[41]=$=>D.value.vendor=$),type:"text"},null,512),[[Z,D.value.vendor]])]),r("div",mv,[r("button",{type:"button",onClick:h[42]||(h[42]=$=>l.value=!1),class:"btn-cancel"},"Hy"),h[106]||(h[106]=r("button",{type:"submit",class:"btn-save"},"Lu",-1))])],32)])])):q("",!0)])]))}},yv=Xe(gv,[["__scopeId","data-v-0088c184"]]);const vv={class:"min-h-screen bg-gray-100"},bv={class:"p-4"},xv={class:"flex flex-col lg:flex-row justify-between items-center mb-6"},_v={class:"flex flex-wrap gap-2"},wv={key:0,class:"text-center py-10 text-gray-600 text-lg"},Cv={key:1,class:"text-center py-10 text-red-600 bg-red-50 border border-red-200 rounded-lg"},Sv={key:2,class:"bg-orange-50 border border-orange-200 rounded-xl p-4 mb-4"},kv={class:"text-orange-800 font-semibold mb-2"},$v={class:"space-y-2"},Ev={class:"font-medium text-gray-800"},Rv={class:"text-sm text-gray-500"},Tv=["onClick"],Av={class:"bg-white rounded-xl p-4 mb-4 shadow-sm"},Ov={class:"grid grid-cols-1 gap-3"},Nv=["value"],Iv=["value"],Pv={class:"bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl p-6 mb-4 text-white shadow-lg"},Dv={class:"text-sm opacity-90 mb-1"},Mv={class:"text-3xl font-bold"},Lv={class:"grid grid-cols-1 gap-4"},Uv={class:"flex items-center justify-between mb-3"},Vv={class:"flex items-center space-x-3"},Fv={class:"font-bold text-gray-800"},jv={class:"text-sm text-gray-500"},Bv={class:"text-right"},Hv={class:"text-lg font-bold text-gray-800"},qv={class:"text-xs text-gray-500"},Kv={class:"grid grid-cols-2 gap-3 text-sm"},Gv={class:"bg-gray-50 rounded-lg p-3"},Wv={class:"font-medium text-gray-800"},zv={class:"bg-gray-50 rounded-lg p-3"},Qv={class:"font-medium text-gray-800"},Jv={key:0,class:"col-span-2 bg-indigo-50 rounded-lg p-3"},Xv={class:"font-medium text-indigo-800"},Yv={key:1,class:"col-span-2 bg-blue-50 rounded-lg p-3"},Zv={class:"font-medium text-blue-800"},eb={class:"flex gap-2 mt-3"},tb=["onClick"],nb=["onClick"],sb={key:3,class:"text-center py-20"},rb={key:4,class:"modal"},ob={class:"modal-content max-w-4xl"},ib={class:"bg-gray-50 rounded-lg p-4 mb-4"},lb={class:"grid grid-cols-1 lg:grid-cols-2 gap-3"},ab=["value"],ub={class:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-4"},cb={class:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-4 text-white"},db={class:"text-2xl font-bold"},fb={class:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-4 text-white"},pb={class:"text-2xl font-bold"},hb={class:"text-2xl font-bold"},mb={class:"bg-white border border-gray-200 rounded-xl p-4 mb-4"},gb={class:"space-y-2"},yb={class:"flex items-center space-x-3"},vb={class:"font-medium text-gray-800"},bb={class:"text-xs text-gray-500"},xb={class:"text-right"},_b={class:"font-bold text-gray-800"},wb={class:"text-xs text-gray-500"},Cb={key:0,class:"bg-white border border-gray-200 rounded-xl p-4"},Sb={class:"space-y-2"},kb={class:"font-medium text-gray-800"},$b={class:"text-xs text-gray-500"},Eb={class:"text-right"},Rb={class:"font-bold text-gray-800"},Tb={class:"form-actions mt-4"},Ab={key:5,class:"modal"},Ob={class:"modal-content"},Nb={class:"bg-gray-50 rounded-lg p-4 mb-4"},Ib={class:"form-group"},Pb={class:"form-group"},Db=["value"],Mb={class:"form-group"},Lb={class:"form-group"},Ub={class:"form-group"},Vb={class:"form-group"},Fb={class:"form-group"},jb={class:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3"},Bb={class:"text-sm text-blue-800"},Hb={class:"space-y-2 max-h-96 overflow-y-auto"},qb={class:"flex items-center justify-between mb-2"},Kb={class:"font-medium text-gray-800"},Gb={class:"text-sm text-gray-500"},Wb=["onClick"],zb={class:"flex items-center justify-between text-xs"},Qb={class:"px-2 py-1 bg-indigo-100 text-indigo-800 rounded"},Jb={class:"text-gray-500"},Xb={class:"mt-2 text-xs text-gray-500"},Yb={class:"form-actions mt-4"},Zb={key:6,class:"modal"},e1={class:"modal-content"},t1={class:"bg-gray-50 rounded-lg p-4 mb-4"},n1={class:"form-group"},s1={class:"form-group"},r1=["value"],o1={class:"form-group"},i1={class:"form-group"},l1={class:"form-group"},a1={class:"space-y-2 max-h-96 overflow-y-auto"},u1={class:"flex items-center justify-between mb-2"},c1={class:"font-medium text-gray-800"},d1={class:"text-sm text-gray-500"},f1=["onClick"],p1={class:"flex items-center justify-between text-xs"},h1={class:"px-2 py-1 bg-blue-100 text-blue-800 rounded"},m1={class:"text-gray-500"},g1={class:"form-actions mt-4"},y1={key:7,class:"modal"},v1={class:"modal-content"},b1={class:"bg-gray-50 rounded-lg p-4 mb-4"},x1={class:"form-group"},_1={class:"form-group"},w1={class:"form-group"},C1={class:"flex items-center space-x-2"},S1={class:"space-y-2 max-h-96 overflow-y-auto"},k1={class:"flex items-center space-x-3"},$1={class:"font-medium text-gray-800"},E1={class:"text-xs text-gray-500"},R1={key:0,class:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 rounded"},T1=["onClick"],A1={class:"form-actions mt-4"},O1={key:8,class:"modal"},N1={class:"modal-content"},I1={class:"form-group"},P1={class:"form-group"},D1=["value"],M1={class:"form-group"},L1={class:"form-group"},U1={class:"form-group"},V1={class:"form-group"},F1={class:"form-group"},j1={class:"form-group"},B1={key:0,class:"mt-3 space-y-2"},H1={class:"flex items-center space-x-2"},q1={class:"text-2xl"},K1={class:"text-sm text-gray-700"},G1={class:"text-xs text-gray-500"},W1=["onClick"],z1={class:"form-actions"},Q1={type:"submit",class:"btn-save"},J1={__name:"ExpenseView",setup(e){const t=H(!1),n=H(!1),s=H(!1),o=H(!1),i=H(!1),l=H(null),a=H(!1),u=H(""),c=H(""),d=H(""),g=H(""),b=H(""),w=H({name:"",category:"",amount:0,month:"",date:"",type:"fixed",notes:"",attachments:[]}),E=H({name:"",type:"fixed",is_recurring:!1}),T=H({name:"",category:"",estimated_amount:0,cycle:"monthly",reminder_day:1}),A=H({name:"",category:"",total_amount:0,start_month:"",allocation_months:12,payment_date:"",notes:""}),z=H([{id:"1",name:"Tin thu nh",category:"Thu nh",estimated_amount:15e6,cycle:"monthly",reminder_day:5},{id:"2",name:"Tin in",category:"in",estimated_amount:25e5,cycle:"monthly",reminder_day:10},{id:"3",name:"Tin nc",category:"Nc",estimated_amount:5e5,cycle:"monthly",reminder_day:10}]),K=H([{id:"1",name:"Tin cc nh",category:"Thu nh",total_amount:3e7,start_month:"2024-01",allocation_months:12,monthly_amount:25e5,end_month:"2024-12",payment_date:"2024-01-01",notes:"Cc nh 2 thng"}]),W=H([{id:"1",name:"Thu nh",type:"fixed",is_recurring:!0},{id:"2",name:"in",type:"variable",is_recurring:!0},{id:"3",name:"Nc",type:"variable",is_recurring:!0},{id:"4",name:"Internet",type:"fixed",is_recurring:!0},{id:"5",name:"Lng",type:"fixed",is_recurring:!0},{id:"6",name:"Nguyn liu",type:"variable",is_recurring:!1},{id:"7",name:"Bo tr",type:"variable",is_recurring:!1},{id:"8",name:"Khc",type:"one-time",is_recurring:!1}]),j=H([{id:"1",name:"Tin thu nh",category:"Thu nh",amount:15e6,month:"2024-01",date:"2024-01-05",type:"fixed",notes:"Thu nh thng 1"},{id:"2",name:"Tin in",category:"in",amount:25e5,month:"2024-01",date:"2024-01-10",type:"variable",notes:""},{id:"3",name:"Tin nc",category:"Nc",amount:5e5,month:"2024-01",date:"2024-01-10",type:"variable",notes:""}]),B=ne(()=>W.value.map(C=>C.name)),D=ne(()=>W.value.filter(C=>C.is_recurring)),Y=ne(()=>{const C=new Date,p=`${C.getFullYear()}-${String(C.getMonth()+1).padStart(2,"0")}`,f=C.getDate();return z.value.filter(k=>!j.value.some($=>$.name===k.name&&$.month===p)&&f>=k.reminder_day).map(k=>({...k,due_month:p}))}),M=ne(()=>{const C=new Set(j.value.map(p=>p.month));return Array.from(C).map(p=>({value:p,label:Me(p)}))}),L=ne(()=>{let C=j.value;return c.value&&(C=C.filter(p=>p.month===c.value)),d.value&&(C=C.filter(p=>p.category===d.value)),C.sort((p,f)=>new Date(f.date)-new Date(p.date))}),G=ne(()=>L.value.reduce((C,p)=>C+p.amount,0)),U=ne(()=>{let C=j.value;g.value&&(C=C.filter(P=>P.month===g.value)),b.value&&(C=C.filter(P=>P.type===b.value));const p=C.reduce((P,ie)=>P+ie.amount,0);let f=0;g.value&&z.value.forEach(P=>{const ie=W.value.find(te=>te.name===P.category);(!b.value||ie&&ie.type===b.value)&&(f+=P.estimated_amount)});const k={};C.forEach(P=>{k[P.category]||(k[P.category]={category:P.category,total:0,count:0}),k[P.category].total+=P.amount,k[P.category].count++});const h=Object.values(k).map(P=>({...P,percentage:p>0?(P.total/p*100).toFixed(1):0})).sort((P,ie)=>ie.total-P.total),$={};j.value.forEach(P=>{(!b.value||P.type===b.value)&&($[P.month]||($[P.month]={month:P.month,total:0,count:0}),$[P.month].total+=P.amount,$[P.month].count++)});const Q=Object.values($).sort((P,ie)=>ie.month.localeCompare(P.month));return{total:p,estimated:f,variance:p-f,byCategory:h,byMonth:Q}}),N=async()=>{a.value=!0,setTimeout(()=>{a.value=!1},500)},ae=()=>{if(l.value){const C=j.value.findIndex(p=>p.id===l.value.id);j.value[C]={...w.value,id:l.value.id}}else j.value.push({...w.value,id:Date.now().toString()});Fe()},$e=C=>{var f;const p=Array.from(C.target.files);if(p.length+(((f=w.value.attachments)==null?void 0:f.length)||0)>5){alert("Ch c nh km ti a 5 file!");return}p.forEach(k=>{if(k.size>5*1024*1024){alert(`File ${k.name} qu ln! Ti a 5MB`);return}const h=new FileReader;h.onload=$=>{w.value.attachments||(w.value.attachments=[]),w.value.attachments.push({name:k.name,type:k.type,size:k.size,data:$.target.result})},h.readAsDataURL(k)}),C.target.value=""},se=C=>{w.value.attachments.splice(C,1)},de=C=>C.includes("pdf")?"":C.includes("image")?"":"",J=C=>C<1024?C+" B":C<1024*1024?(C/1024).toFixed(1)+" KB":(C/(1024*1024)).toFixed(1)+" MB",re=C=>{l.value=C,w.value={...C}},Ve=C=>{confirm("Bn c chc mun xa chi ph ny?")&&(j.value=j.value.filter(p=>p.id!==C))},Fe=()=>{t.value=!1,l.value=null,w.value={name:"",category:"",amount:0,month:"",date:"",type:"fixed",notes:"",attachments:[]}},he=C=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C),Ce=C=>C?new Date(C).toLocaleDateString("vi-VN"):"N/A",Me=C=>{if(!C)return"";const[p,f]=C.split("-");return`Thng ${parseInt(f)}/${p}`},De=C=>({"Thu nh":"",in:"",Nc:"",Internet:"",Lng:"","Nguyn liu":"","Bo tr":"",Khc:""})[C]||"",je=C=>({"Thu nh":"bg-blue-100 text-blue-600",in:"bg-yellow-100 text-yellow-600",Nc:"bg-cyan-100 text-cyan-600",Internet:"bg-purple-100 text-purple-600",Lng:"bg-green-100 text-green-600","Nguyn liu":"bg-orange-100 text-orange-600","Bo tr":"bg-red-100 text-red-600",Khc:"bg-gray-100 text-gray-600"})[C]||"bg-gray-100 text-gray-600",_e=C=>({fixed:"C nh",variable:"Bin i","one-time":"Mt ln"})[C]||C,V=()=>{E.value.name&&(W.value.push({id:Date.now().toString(),name:E.value.name,type:E.value.type,is_recurring:E.value.is_recurring}),E.value={name:"",type:"fixed",is_recurring:!1})},R=C=>{const p=W.value.find(k=>k.id===C);if(j.value.some(k=>k.category===p.name)){alert("Khng th xa loi chi ph  c giao dch!");return}confirm(`Bn c chc mun xa loi "${p.name}"?`)&&(W.value=W.value.filter(k=>k.id!==C))},m=()=>{!T.value.name||!T.value.category||(z.value.push({id:Date.now().toString(),name:T.value.name,category:T.value.category,estimated_amount:T.value.estimated_amount,cycle:T.value.cycle,reminder_day:T.value.reminder_day||1}),T.value={name:"",category:"",estimated_amount:0,cycle:"monthly",reminder_day:1})},O=C=>{confirm("Bn c chc mun xa chi ph nh k ny?")&&(z.value=z.value.filter(p=>p.id!==C))},ee=C=>{w.value={name:C.name,category:C.category,amount:C.estimated_amount,month:C.due_month,date:new Date().toISOString().split("T")[0],type:"fixed",notes:"Chi ph nh k",attachments:[]},t.value=!0},ge=C=>({monthly:"Hng thng",quarterly:"Hng qu",yearly:"Hng nm"})[C]||C,y=()=>{if(!A.value.name||!A.value.category||!A.value.start_month)return;const C=A.value.total_amount/A.value.allocation_months,p=new Date(A.value.start_month+"-01"),f=new Date(p);f.setMonth(f.getMonth()+A.value.allocation_months-1);const k=`${f.getFullYear()}-${String(f.getMonth()+1).padStart(2,"0")}`,h=Date.now().toString();K.value.push({id:h,name:A.value.name,category:A.value.category,total_amount:A.value.total_amount,start_month:A.value.start_month,allocation_months:A.value.allocation_months,monthly_amount:C,end_month:k,payment_date:A.value.payment_date,notes:A.value.notes});for(let $=0;$<A.value.allocation_months;$++){const Q=new Date(p);Q.setMonth(Q.getMonth()+$);const P=`${Q.getFullYear()}-${String(Q.getMonth()+1).padStart(2,"0")}`;j.value.push({id:`${h}-${$}`,name:`${A.value.name} (Phn b ${$+1}/${A.value.allocation_months})`,category:A.value.category,amount:C,month:P,date:`${P}-01`,type:"one-time",notes:A.value.notes,is_allocated:!0,prepaid_id:h,original_amount:A.value.total_amount,allocated_month_index:$+1,total_months:A.value.allocation_months})}A.value={name:"",category:"",total_amount:0,start_month:"",allocation_months:12,payment_date:"",notes:""}},S=C=>{const p=K.value.find(f=>f.id===C);confirm(`Bn c chc mun xa chi ph tr trc "${p.name}"? Tt c chi ph phn b s b xa.`)&&(j.value=j.value.filter(f=>f.prepaid_id!==C),K.value=K.value.filter(f=>f.id!==C))};return _t(()=>{N()}),(C,p)=>(x(),_("div",vv,[ye(Ct),r("div",bv,[r("div",xv,[p[36]||(p[36]=r("h2",{class:"text-xl lg:text-2xl font-semibold text-gray-800 mb-4 lg:mb-0"},"  Qun l Chi ph ",-1)),r("div",_v,[r("button",{onClick:p[0]||(p[0]=f=>i.value=!0),class:"bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors"},"  Bo co "),r("button",{onClick:p[1]||(p[1]=f=>o.value=!0),class:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors"},"  Chi ph tr trc "),r("button",{onClick:p[2]||(p[2]=f=>s.value=!0),class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors"},"  Chi ph nh k "),r("button",{onClick:p[3]||(p[3]=f=>n.value=!0),class:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors"},"  Qun l loi "),r("button",{onClick:p[4]||(p[4]=f=>t.value=!0),class:"btn-primary text-sm px-4 py-2"}," + Thm chi ph ")])]),a.value?(x(),_("div",wv,"ang ti...")):q("",!0),u.value?(x(),_("div",Cv,v(u.value),1)):q("",!0),Y.value.length>0?(x(),_("div",Sv,[r("h3",kv," Nhc nhp chi ph nh k ("+v(Y.value.length)+")",1),r("div",$v,[(x(!0),_(oe,null,ue(Y.value,f=>(x(),_("div",{key:f.id,class:"flex items-center justify-between bg-white p-3 rounded-lg"},[r("div",null,[r("div",Ev,v(f.name),1),r("div",Rv,"D kin: "+v(he(f.estimated_amount))+" - Thng "+v(Me(f.due_month)),1)]),r("button",{onClick:k=>ee(f),class:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-2 rounded-lg text-sm"}," Ghi nhn ",8,Tv)]))),128))])])):q("",!0),r("div",Av,[r("div",Ov,[F(r("select",{"onUpdate:modelValue":p[5]||(p[5]=f=>c.value=f),class:"p-3 border border-gray-300 rounded-lg text-base focus:ring-2 focus:ring-blue-500",onChange:N},[p[37]||(p[37]=r("option",{value:""},"Tt c thng",-1)),(x(!0),_(oe,null,ue(M.value,f=>(x(),_("option",{key:f.value,value:f.value},v(f.label),9,Nv))),128))],544),[[xe,c.value]]),F(r("select",{"onUpdate:modelValue":p[6]||(p[6]=f=>d.value=f),class:"p-3 border border-gray-300 rounded-lg text-base focus:ring-2 focus:ring-blue-500",onChange:N},[p[38]||(p[38]=r("option",{value:""},"Tt c nhm",-1)),(x(!0),_(oe,null,ue(B.value,f=>(x(),_("option",{key:f,value:f},v(f),9,Iv))),128))],544),[[xe,d.value]])])]),r("div",Pv,[r("div",Dv,"Tng chi ph "+v(c.value?"thng ny":"tt c"),1),r("div",Mv,v(he(G.value)),1)]),r("div",Lv,[(x(!0),_(oe,null,ue(L.value,f=>(x(),_("div",{key:f.id,class:"bg-white rounded-xl p-4 shadow-md"},[r("div",Uv,[r("div",Vv,[r("div",{class:ve(["w-12 h-12 rounded-xl flex items-center justify-center text-2xl",je(f.category)])},v(De(f.category)),3),r("div",null,[r("h4",Fv,v(f.name),1),r("p",jv,v(f.category),1)])]),r("div",Bv,[r("div",Hv,v(he(f.amount)),1),r("div",qv,v(Me(f.month)),1)])]),r("div",Kv,[r("div",Gv,[p[39]||(p[39]=r("div",{class:"text-gray-500 text-xs mb-1"},"Loi",-1)),r("div",Wv,v(_e(f.type)),1)]),r("div",zv,[p[40]||(p[40]=r("div",{class:"text-gray-500 text-xs mb-1"},"Ngy",-1)),r("div",Qv,v(Ce(f.date)),1)]),f.is_allocated?(x(),_("div",Jv,[p[41]||(p[41]=r("div",{class:"text-indigo-600 text-xs mb-1"}," Chi ph phn b",-1)),r("div",Xv,v(f.allocated_month_index)+"/"+v(f.total_months)+" thng - Gc: "+v(he(f.original_amount)),1)])):q("",!0),f.attachments&&f.attachments.length>0?(x(),_("div",Yv,[p[42]||(p[42]=r("div",{class:"text-blue-600 text-xs mb-1"}," Ha n nh km",-1)),r("div",Zv,v(f.attachments.length)+" file",1)])):q("",!0)]),r("div",eb,[r("button",{onClick:k=>re(f),class:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"},"  Sa ",8,tb),r("button",{onClick:k=>Ve(f.id),class:"flex-1 bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"},"  Xa ",8,nb)])]))),128))]),!a.value&&L.value.length===0?(x(),_("div",sb,[p[43]||(p[43]=r("div",{class:"text-6xl mb-4"},"",-1)),p[44]||(p[44]=r("h3",{class:"text-xl font-semibold text-gray-800 mb-2"},"Cha c chi ph",-1)),p[45]||(p[45]=r("p",{class:"text-gray-600 mb-4"},"Hy thm chi ph u tin ca bn",-1)),r("button",{onClick:p[7]||(p[7]=f=>t.value=!0),class:"btn-primary"}," + Thm chi ph ")])):q("",!0),i.value?(x(),_("div",rb,[r("div",ob,[p[55]||(p[55]=r("h3",null," Bo co Chi ph",-1)),r("div",ib,[r("div",lb,[r("div",null,[p[47]||(p[47]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Thng",-1)),F(r("select",{"onUpdate:modelValue":p[8]||(p[8]=f=>g.value=f),class:"w-full p-3 border border-gray-300 rounded-lg"},[p[46]||(p[46]=r("option",{value:""},"Tt c",-1)),(x(!0),_(oe,null,ue(M.value,f=>(x(),_("option",{key:f.value,value:f.value},v(f.label),9,ab))),128))],512),[[xe,g.value]])]),r("div",null,[p[49]||(p[49]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Loi chi ph",-1)),F(r("select",{"onUpdate:modelValue":p[9]||(p[9]=f=>b.value=f),class:"w-full p-3 border border-gray-300 rounded-lg"},[...p[48]||(p[48]=[r("option",{value:""},"Tt c",-1),r("option",{value:"fixed"},"C nh",-1),r("option",{value:"variable"},"Bin i",-1),r("option",{value:"one-time"},"Mt ln",-1)])],512),[[xe,b.value]])])])]),r("div",ub,[r("div",cb,[p[50]||(p[50]=r("div",{class:"text-sm opacity-90 mb-1"},"Tng chi ph",-1)),r("div",db,v(he(U.value.total)),1)]),r("div",fb,[p[51]||(p[51]=r("div",{class:"text-sm opacity-90 mb-1"},"D kin",-1)),r("div",pb,v(he(U.value.estimated)),1)]),r("div",{class:ve(["bg-gradient-to-br rounded-xl p-4 text-white",U.value.variance>=0?"from-red-500 to-red-600":"from-teal-500 to-teal-600"])},[p[52]||(p[52]=r("div",{class:"text-sm opacity-90 mb-1"},"Chnh lch",-1)),r("div",hb,v(U.value.variance>=0?"+":"")+v(he(U.value.variance)),1)],2)]),r("div",mb,[p[53]||(p[53]=r("h4",{class:"font-semibold text-gray-800 mb-3"},"Theo nhm chi ph",-1)),r("div",gb,[(x(!0),_(oe,null,ue(U.value.byCategory,f=>(x(),_("div",{key:f.category,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[r("div",yb,[r("div",{class:ve(["w-10 h-10 rounded-lg flex items-center justify-center text-xl",je(f.category)])},v(De(f.category)),3),r("div",null,[r("div",vb,v(f.category),1),r("div",bb,v(f.count)+" chi ph",1)])]),r("div",xb,[r("div",_b,v(he(f.total)),1),r("div",wb,v(f.percentage)+"%",1)])]))),128))])]),g.value?q("",!0):(x(),_("div",Cb,[p[54]||(p[54]=r("h4",{class:"font-semibold text-gray-800 mb-3"},"Theo thng",-1)),r("div",Sb,[(x(!0),_(oe,null,ue(U.value.byMonth,f=>(x(),_("div",{key:f.month,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[r("div",null,[r("div",kb,v(Me(f.month)),1),r("div",$b,v(f.count)+" chi ph",1)]),r("div",Eb,[r("div",Rb,v(he(f.total)),1)])]))),128))])])),r("div",Tb,[r("button",{type:"button",onClick:p[10]||(p[10]=f=>i.value=!1),class:"btn-cancel"},"ng")])])])):q("",!0),o.value?(x(),_("div",Ab,[r("div",Ob,[p[67]||(p[67]=r("h3",null," Qun l Chi ph Tr trc / Phn b",-1)),r("div",Nb,[p[66]||(p[66]=r("h4",{class:"font-semibold text-gray-800 mb-3"},"Thit lp chi ph tr trc",-1)),r("form",{onSubmit:Ae(y,["prevent"])},[r("div",Ib,[p[56]||(p[56]=r("label",null,"Tn chi ph *",-1)),F(r("input",{"onUpdate:modelValue":p[11]||(p[11]=f=>A.value.name=f),type:"text",required:"",placeholder:"V d: Tin cc nh"},null,512),[[Z,A.value.name]])]),r("div",Pb,[p[58]||(p[58]=r("label",null,"Nhm chi ph *",-1)),F(r("select",{"onUpdate:modelValue":p[12]||(p[12]=f=>A.value.category=f),required:""},[p[57]||(p[57]=r("option",{value:""},"Chn nhm",-1)),(x(!0),_(oe,null,ue(W.value,f=>(x(),_("option",{key:f.id,value:f.name},v(f.name),9,Db))),128))],512),[[xe,A.value.category]])]),r("div",Mb,[p[59]||(p[59]=r("label",null,"Tng s tin (VN) *",-1)),F(r("input",{"onUpdate:modelValue":p[13]||(p[13]=f=>A.value.total_amount=f),type:"number",min:"0",step:"1000",required:""},null,512),[[Z,A.value.total_amount,void 0,{number:!0}]])]),r("div",Lb,[p[60]||(p[60]=r("label",null,"Thng bt u *",-1)),F(r("input",{"onUpdate:modelValue":p[14]||(p[14]=f=>A.value.start_month=f),type:"month",required:""},null,512),[[Z,A.value.start_month]])]),r("div",Ub,[p[61]||(p[61]=r("label",null,"S thng phn b *",-1)),F(r("input",{"onUpdate:modelValue":p[15]||(p[15]=f=>A.value.allocation_months=f),type:"number",min:"1",max:"60",required:""},null,512),[[Z,A.value.allocation_months,void 0,{number:!0}]])]),r("div",Vb,[p[62]||(p[62]=r("label",null,"Ngy thanh ton",-1)),F(r("input",{"onUpdate:modelValue":p[16]||(p[16]=f=>A.value.payment_date=f),type:"date"},null,512),[[Z,A.value.payment_date]])]),r("div",Fb,[p[63]||(p[63]=r("label",null,"Ghi ch",-1)),F(r("textarea",{"onUpdate:modelValue":p[17]||(p[17]=f=>A.value.notes=f),rows:"2",placeholder:"Ghi ch thm..."},null,512),[[Z,A.value.notes]])]),r("div",jb,[r("div",Bb,[p[64]||(p[64]=r("strong",null,"Phn b:",-1)),Te(" "+v(he(A.value.total_amount/(A.value.allocation_months||1)))+"/thng ",1)])]),p[65]||(p[65]=r("button",{type:"submit",class:"btn-primary w-full"},"+ To chi ph tr trc",-1))],32)]),r("div",Hb,[(x(!0),_(oe,null,ue(K.value,f=>(x(),_("div",{key:f.id,class:"bg-white border border-gray-200 rounded-lg p-3"},[r("div",qb,[r("div",null,[r("div",Kb,v(f.name),1),r("div",Gb,v(f.category)+" - "+v(he(f.total_amount)),1)]),r("button",{onClick:k=>S(f.id),class:"text-red-500 hover:text-red-700 p-2"},"  ",8,Wb)]),r("div",zb,[r("span",Qb,v(f.allocation_months)+" thng",1),r("span",Jb,v(he(f.monthly_amount))+"/thng",1)]),r("div",Xb," T "+v(Me(f.start_month))+" - "+v(Me(f.end_month)),1)]))),128))]),r("div",Yb,[r("button",{type:"button",onClick:p[18]||(p[18]=f=>o.value=!1),class:"btn-cancel"},"ng")])])])):q("",!0),s.value?(x(),_("div",Zb,[r("div",e1,[p[77]||(p[77]=r("h3",null," Qun l Chi ph nh k",-1)),r("div",t1,[p[76]||(p[76]=r("h4",{class:"font-semibold text-gray-800 mb-3"},"Thit lp chi ph nh k",-1)),r("form",{onSubmit:Ae(m,["prevent"])},[r("div",n1,[p[68]||(p[68]=r("label",null,"Tn chi ph *",-1)),F(r("input",{"onUpdate:modelValue":p[19]||(p[19]=f=>T.value.name=f),type:"text",required:"",placeholder:"V d: Tin thu nh"},null,512),[[Z,T.value.name]])]),r("div",s1,[p[70]||(p[70]=r("label",null,"Nhm chi ph *",-1)),F(r("select",{"onUpdate:modelValue":p[20]||(p[20]=f=>T.value.category=f),required:""},[p[69]||(p[69]=r("option",{value:""},"Chn nhm",-1)),(x(!0),_(oe,null,ue(D.value,f=>(x(),_("option",{key:f.id,value:f.name},v(f.name),9,r1))),128))],512),[[xe,T.value.category]])]),r("div",o1,[p[71]||(p[71]=r("label",null,"S tin d kin (VN) *",-1)),F(r("input",{"onUpdate:modelValue":p[21]||(p[21]=f=>T.value.estimated_amount=f),type:"number",min:"0",step:"1000",required:""},null,512),[[Z,T.value.estimated_amount,void 0,{number:!0}]])]),r("div",i1,[p[73]||(p[73]=r("label",null,"Chu k *",-1)),F(r("select",{"onUpdate:modelValue":p[22]||(p[22]=f=>T.value.cycle=f),required:""},[...p[72]||(p[72]=[r("option",{value:"monthly"},"Hng thng",-1),r("option",{value:"quarterly"},"Hng qu",-1),r("option",{value:"yearly"},"Hng nm",-1)])],512),[[xe,T.value.cycle]])]),r("div",l1,[p[74]||(p[74]=r("label",null,"Ngy nhc nhp",-1)),F(r("input",{"onUpdate:modelValue":p[23]||(p[23]=f=>T.value.reminder_day=f),type:"number",min:"1",max:"31",placeholder:"Ngy trong thng (1-31)"},null,512),[[Z,T.value.reminder_day,void 0,{number:!0}]])]),p[75]||(p[75]=r("button",{type:"submit",class:"btn-primary w-full"},"+ Thm chi ph nh k",-1))],32)]),r("div",a1,[(x(!0),_(oe,null,ue(z.value,f=>(x(),_("div",{key:f.id,class:"bg-white border border-gray-200 rounded-lg p-3"},[r("div",u1,[r("div",null,[r("div",c1,v(f.name),1),r("div",d1,v(f.category)+" - "+v(he(f.estimated_amount)),1)]),r("button",{onClick:k=>O(f.id),class:"text-red-500 hover:text-red-700 p-2"},"  ",8,f1)]),r("div",p1,[r("span",h1,v(ge(f.cycle)),1),r("span",m1,"Nhc: Ngy "+v(f.reminder_day||1),1)])]))),128))]),r("div",g1,[r("button",{type:"button",onClick:p[24]||(p[24]=f=>s.value=!1),class:"btn-cancel"},"ng")])])])):q("",!0),n.value?(x(),_("div",y1,[r("div",v1,[p[84]||(p[84]=r("h3",null," Qun l Loi Chi ph",-1)),r("div",b1,[p[83]||(p[83]=r("h4",{class:"font-semibold text-gray-800 mb-3"},"Thm loi mi",-1)),r("form",{onSubmit:Ae(V,["prevent"])},[r("div",x1,[p[78]||(p[78]=r("label",null,"Tn loi chi ph *",-1)),F(r("input",{"onUpdate:modelValue":p[25]||(p[25]=f=>E.value.name=f),type:"text",required:"",placeholder:"V d: Thu nh"},null,512),[[Z,E.value.name]])]),r("div",_1,[p[80]||(p[80]=r("label",null,"Loi *",-1)),F(r("select",{"onUpdate:modelValue":p[26]||(p[26]=f=>E.value.type=f),required:""},[...p[79]||(p[79]=[r("option",{value:"fixed"},"C nh",-1),r("option",{value:"variable"},"Bin i",-1),r("option",{value:"one-time"},"Mt ln",-1)])],512),[[xe,E.value.type]])]),r("div",w1,[r("label",C1,[F(r("input",{"onUpdate:modelValue":p[27]||(p[27]=f=>E.value.is_recurring=f),type:"checkbox",class:"w-4 h-4"},null,512),[[Nr,E.value.is_recurring]]),p[81]||(p[81]=r("span",null,"Chi ph nh k",-1))])]),p[82]||(p[82]=r("button",{type:"submit",class:"btn-primary w-full"},"+ Thm loi",-1))],32)]),r("div",S1,[(x(!0),_(oe,null,ue(W.value,f=>(x(),_("div",{key:f.id,class:"bg-white border border-gray-200 rounded-lg p-3 flex items-center justify-between"},[r("div",k1,[r("div",{class:ve(["w-10 h-10 rounded-lg flex items-center justify-center text-xl",je(f.name)])},v(De(f.name)),3),r("div",null,[r("div",$1,v(f.name),1),r("div",E1,[Te(v(_e(f.type))+" ",1),f.is_recurring?(x(),_("span",R1,"nh k")):q("",!0)])])]),r("button",{onClick:k=>R(f.id),class:"text-red-500 hover:text-red-700 p-2"},"  ",8,T1)]))),128))]),r("div",A1,[r("button",{type:"button",onClick:p[28]||(p[28]=f=>n.value=!1),class:"btn-cancel"},"ng")])])])):q("",!0),t.value||l.value?(x(),_("div",O1,[r("div",N1,[r("h3",null,v(l.value?"Sa chi ph":"Thm chi ph mi"),1),r("form",{onSubmit:Ae(ae,["prevent"])},[r("div",I1,[p[85]||(p[85]=r("label",null,"Tn chi ph *",-1)),F(r("input",{"onUpdate:modelValue":p[29]||(p[29]=f=>w.value.name=f),type:"text",required:"",placeholder:"V d: Tin thu nh"},null,512),[[Z,w.value.name]])]),r("div",P1,[p[87]||(p[87]=r("label",null,"Nhm chi ph *",-1)),F(r("select",{"onUpdate:modelValue":p[30]||(p[30]=f=>w.value.category=f),required:""},[p[86]||(p[86]=r("option",{value:""},"Chn nhm",-1)),(x(!0),_(oe,null,ue(W.value,f=>(x(),_("option",{key:f.id,value:f.name},v(f.name),9,D1))),128))],512),[[xe,w.value.category]])]),r("div",M1,[p[88]||(p[88]=r("label",null,"S tin (VN) *",-1)),F(r("input",{"onUpdate:modelValue":p[31]||(p[31]=f=>w.value.amount=f),type:"number",min:"0",step:"1000",required:""},null,512),[[Z,w.value.amount,void 0,{number:!0}]])]),r("div",L1,[p[89]||(p[89]=r("label",null,"Thng p dng *",-1)),F(r("input",{"onUpdate:modelValue":p[32]||(p[32]=f=>w.value.month=f),type:"month",required:""},null,512),[[Z,w.value.month]])]),r("div",U1,[p[90]||(p[90]=r("label",null,"Ngy pht sinh",-1)),F(r("input",{"onUpdate:modelValue":p[33]||(p[33]=f=>w.value.date=f),type:"date"},null,512),[[Z,w.value.date]])]),r("div",V1,[p[92]||(p[92]=r("label",null,"Loi chi ph",-1)),F(r("select",{"onUpdate:modelValue":p[34]||(p[34]=f=>w.value.type=f)},[...p[91]||(p[91]=[r("option",{value:"fixed"},"C nh",-1),r("option",{value:"variable"},"Bin i",-1),r("option",{value:"one-time"},"Mt ln",-1)])],512),[[xe,w.value.type]])]),r("div",F1,[p[93]||(p[93]=r("label",null,"Ghi ch",-1)),F(r("textarea",{"onUpdate:modelValue":p[35]||(p[35]=f=>w.value.notes=f),rows:"3",placeholder:"Ghi ch thm..."},null,512),[[Z,w.value.notes]])]),r("div",j1,[p[94]||(p[94]=r("label",null,"nh km ha n",-1)),r("input",{type:"file",onChange:$e,accept:"image/*,.pdf",multiple:"",class:"w-full"},null,32),p[95]||(p[95]=r("small",{class:"text-gray-500"},"H tr: JPG, PNG, PDF (Ti a 5 file)",-1)),w.value.attachments&&w.value.attachments.length>0?(x(),_("div",B1,[(x(!0),_(oe,null,ue(w.value.attachments,(f,k)=>(x(),_("div",{key:k,class:"flex items-center justify-between bg-gray-50 p-2 rounded"},[r("div",H1,[r("span",q1,v(de(f.type)),1),r("span",K1,v(f.name),1),r("span",G1,"("+v(J(f.size))+")",1)]),r("button",{type:"button",onClick:h=>se(k),class:"text-red-500 hover:text-red-700"},"  ",8,W1)]))),128))])):q("",!0)]),r("div",z1,[r("button",{type:"button",onClick:Fe,class:"btn-cancel"},"Hy"),r("button",Q1,v(l.value?"Cp nht":"Thm"),1)])],32)])])):q("",!0)])]))}},X1=Xe(J1,[["__scopeId","data-v-757a73be"]]),Pt={async createOrder(e){return(await X.post("/waiter/orders",e)).data},async collectPayment(e,t){return(await X.post(`/waiter/orders/${e}/payment`,t)).data},async editOrder(e,t){return(await X.put(`/waiter/orders/${e}/edit`,t)).data},async sendToBar(e){return(await X.post(`/waiter/orders/${e}/send`)).data},async serveOrder(e){return(await X.post(`/waiter/orders/${e}/serve`)).data},async cancelOrder(e,t){return(await X.post(`/cashier/orders/${e}/cancel`,{reason:t})).data},async refundPartial(e,t,n){return(await X.post(`/cashier/orders/${e}/refund`,{amount:t,reason:n})).data},async getMyOrders(){return(await X.get("/waiter/orders")).data},async getAllOrders(){return(await X.get("/cashier/orders")).data},async getOrder(e){return(await X.get(`/waiter/orders/${e}`)).data}},Y1=en("order",{state:()=>({orders:[],currentOrder:null,loading:!1,error:null}),actions:{async fetchOrders(){var e,t;this.loading=!0,this.error=null;try{this.orders=await Pt.getMyOrders()||[]}catch(n){this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti orders",this.orders=[]}finally{this.loading=!1}},async fetchAllOrders(){var e,t;this.loading=!0,this.error=null;try{this.orders=await Pt.getAllOrders()||[]}catch(n){this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti orders",this.orders=[]}finally{this.loading=!1}},async createOrder(e){var t,n;this.error=null;try{const s=await Pt.createOrder(e);return this.orders.unshift(s),s}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li to order",s}},async collectPayment(e,t){var n,s;this.error=null;try{const o=await Pt.collectPayment(e,t);return this.updateOrderInList(o),o}catch(o){throw this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li thu tin",o}},async editOrder(e,t){var n,s;this.error=null;try{const o=await Pt.editOrder(e,t);return this.updateOrderInList(o.order),o}catch(o){throw this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li chnh sa order",o}},async sendToBar(e){var t,n;this.error=null;try{const s=await Pt.sendToBar(e);return this.updateOrderInList(s),s}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li gi quy bar",s}},async serveOrder(e){var t,n;this.error=null;try{const s=await Pt.serveOrder(e);return this.updateOrderInList(s),s}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li phc v",s}},async cancelOrder(e,t){var n,s;this.error=null;try{const o=await Pt.cancelOrder(e,t);return this.updateOrderInList(o),o}catch(o){throw this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li hy order",o}},async refundPartial(e,t,n){var s,o;this.error=null;try{const i=await Pt.refundPartial(e,t,n);return this.updateOrderInList(i),i}catch(i){throw this.error=((o=(s=i.response)==null?void 0:s.data)==null?void 0:o.error)||"Li hon tin",i}},updateOrderInList(e){const t=this.orders.findIndex(n=>n.id===e.id);t!==-1&&(this.orders[t]=e)},setCurrentOrder(e){this.currentOrder=e},clearCurrentOrder(){this.currentOrder=null}},getters:{ordersByStatus:e=>t=>e.orders.filter(n=>n.status===t),createdOrders:e=>e.orders.filter(t=>t.status==="CREATED"),paidOrders:e=>e.orders.filter(t=>t.status==="PAID"),inProgressOrders:e=>e.orders.filter(t=>t.status==="IN_PROGRESS"),servedOrders:e=>e.orders.filter(t=>t.status==="SERVED")}}),gn={async startShift(e){return(await X.post("/waiter/shifts/start",e)).data},async endShift(e,t){return(await X.post(`/waiter/shifts/${e}/end`,{end_cash:t})).data},async closeShift(e,t){return(await X.post(`/cashier/shifts/${e}/close`,{end_cash:t})).data},async getCurrentShift(){return(await X.get("/waiter/shifts/current")).data},async getMyShifts(){return(await X.get("/waiter/shifts")).data},async getAllShifts(){return(await X.get("/cashier/shifts")).data},async getShift(e){return(await X.get(`/cashier/shifts/${e}`)).data}},nr=en("shift",{state:()=>({currentShift:null,shifts:[],loading:!1,error:null}),actions:{async startShift(e){var t,n;this.error=null;try{const s=await gn.startShift(e);return this.currentShift=s,s}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li m ca",s}},async endShift(e,t){var n,s;this.error=null;try{const o=await gn.endShift(e,t);return this.currentShift=null,o}catch(o){throw this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li kt ca",o}},async closeShift(e,t){var n,s;this.error=null;try{return await gn.closeShift(e,t)}catch(o){throw this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li cht ca",o}},async fetchCurrentShift(){var e,t,n,s;this.loading=!0,this.error=null;try{this.currentShift=await gn.getCurrentShift()}catch(o){this.currentShift=null,((t=(e=o.response)==null?void 0:e.data)==null?void 0:t.error)==="no open shift found"?this.error=null:this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li ti ca"}finally{this.loading=!1}},async fetchMyShifts(){var e,t;this.loading=!0,this.error=null;try{this.shifts=await gn.getMyShifts()||[]}catch(n){this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti shifts",this.shifts=[]}finally{this.loading=!1}},async fetchAllShifts(){var e,t;this.loading=!0,this.error=null;try{this.shifts=await gn.getAllShifts()||[]}catch(n){this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti shifts",this.shifts=[]}finally{this.loading=!1}}},getters:{hasOpenShift:e=>e.currentShift!==null&&e.currentShift.status==="OPEN",openShifts:e=>e.shifts.filter(t=>t.status==="OPEN"),closedShifts:e=>e.shifts.filter(t=>t.status==="CLOSED")}});const Z1={class:"min-h-screen bg-gray-100"},ex={class:"p-4"},tx={class:"flex justify-between items-center mb-6"},nx={key:0,class:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4"},sx={class:"flex gap-2 mb-4 overflow-x-auto"},rx=["onClick"],ox={key:1,class:"text-center py-10"},ix={key:2,class:"text-center py-10 text-gray-500"},lx={key:3,class:"grid gap-4"},ax={class:"flex justify-between items-start mb-3"},ux={class:"font-bold text-lg"},cx={class:"text-sm text-gray-600"},dx={class:"text-sm text-gray-500"},fx={class:"mb-3 space-y-1"},px={class:"font-medium"},hx={key:0,class:"mb-2 p-3 bg-gradient-to-r from-orange-50 to-yellow-50 rounded-lg border-l-4 border-orange-400 shadow-sm"},mx={class:"flex items-center gap-2 text-orange-700 font-medium"},gx={class:"font-bold text-orange-800"},yx={key:0,class:"text-sm text-orange-600 mt-1 ml-6"},vx={key:1,class:"mb-2 p-3 bg-gradient-to-r from-yellow-50 to-amber-50 rounded-lg border-l-4 border-yellow-400 shadow-sm"},bx={class:"flex items-center gap-2 text-yellow-700 font-medium"},xx={class:"font-bold text-yellow-800"},_x={class:"border-t pt-2 mb-3"},wx={class:"flex justify-between font-bold text-lg"},Cx={class:"text-green-600"},Sx={key:0,class:"flex justify-between text-sm text-gray-600"},kx={key:1,class:"flex justify-between text-sm text-orange-600"},$x={class:"grid grid-cols-2 gap-2"},Ex=["onClick"],Rx=["onClick"],Tx=["onClick"],Ax=["onClick"],Ox=["onClick"],Nx=["onClick"],Ix=["onClick"],Px=["onClick"],Dx={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Mx={class:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto"},Lx={class:"grid grid-cols-2 gap-2 max-h-60 overflow-y-auto"},Ux=["onClick"],Vx={class:"font-medium"},Fx={class:"text-sm text-gray-500"},jx={key:0},Bx={class:"space-y-2"},Hx={class:"flex-1"},qx=["onUpdate:modelValue"],Kx=["onClick"],Gx={class:"flex gap-2"},Wx=["disabled"],zx={key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Qx={class:"bg-white rounded-xl p-6 w-full max-w-md"},Jx={class:"mb-4"},Xx={class:"text-lg"},Yx={class:"font-bold text-green-600"},Zx={key:0,class:"text-sm text-gray-600"},e_={key:1,class:"text-sm text-red-600"},t_={class:"space-y-2"},n_={class:"flex items-center"},s_={class:"flex items-center"},r_={class:"flex items-center"},o_={class:"flex gap-2"},i_={key:6,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},l_={class:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto"},a_={class:"grid grid-cols-2 gap-2 max-h-60 overflow-y-auto"},u_=["onClick"],c_={class:"font-medium"},d_={class:"text-sm text-gray-500"},f_={key:0},p_={class:"space-y-2"},h_={class:"flex-1"},m_=["onUpdate:modelValue"],g_=["onClick"],y_={class:"flex gap-2"},v_=["disabled"],b_={key:7,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},x_={class:"bg-white rounded-xl p-6 w-full max-w-md"},__={class:"flex gap-2"},w_={key:8,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},C_={class:"bg-white rounded-xl p-6 w-full max-w-md"},S_={class:"mb-4"},k_={class:"text-sm text-gray-600"},$_=["max"],E_={class:"flex gap-2"},R_={__name:"OrderView",setup(e){const t=Y1(),n=nr(),s=Aa(),o=Nn(),i=H(!1),l=H(!1),a=H(!1),u=H(!1),c=H(!1),d=H(null),g=H(""),b=H("ALL"),w=H({customer_name:"",items:[],note:"",shift_id:""}),E=H({amount:0,payment_method:"CASH"}),T=H({items:[],discount:0,note:""}),A=H({amount:0,reason:""}),z=[{value:"ALL",label:"Tt c"},{value:"CREATED",label:"Mi to"},{value:"PAID",label:" thanh ton"},{value:"IN_PROGRESS",label:"ang pha ch"},{value:"SERVED",label:" phc v"},{value:"CANCELLED",label:" hy"}],K=ne(()=>t.loading),W=ne(()=>t.orders),j=ne(()=>s.items),B=ne(()=>n.hasOpenShift),D=ne(()=>{var R,m;return((R=o.user)==null?void 0:R.role)==="cashier"||((m=o.user)==null?void 0:m.role)==="manager"}),Y=ne(()=>b.value==="ALL"?W.value:W.value.filter(R=>R.status===b.value));_t(async()=>{await Promise.all([n.fetchCurrentShift(),t.fetchOrders(),s.fetchMenuItems()])});const M=R=>{const m=w.value.items.find(O=>O.menu_item_id===R.id);m?m.quantity++:w.value.items.push({menu_item_id:R.id,name:R.name,price:R.price,quantity:1})},L=R=>{w.value.items.splice(R,1)},G=async()=>{var R,m;try{w.value.shift_id=n.currentShift.id,await t.createOrder(w.value),i.value=!1,w.value={customer_name:"",items:[],note:"",shift_id:""}}catch(O){alert("Li: "+(((m=(R=O.response)==null?void 0:R.data)==null?void 0:m.error)||O.message))}},U=R=>{d.value=R,E.value.amount=R.amount_due||R.total,E.value.payment_method="CASH",l.value=!0},N=async()=>{try{await t.collectPayment(d.value.id,E.value),l.value=!1,d.value=null,E.value={amount:0,payment_method:"CASH"}}catch(R){alert("Li: "+R.message)}},ae=R=>{d.value=R,T.value={items:[...R.items],discount:R.discount||0,note:R.note||""},a.value=!0},$e=R=>{const m=T.value.items.find(O=>O.menu_item_id===R.id);m?m.quantity++:T.value.items.push({menu_item_id:R.id,name:R.name,price:R.price,quantity:1})},se=R=>{T.value.items.splice(R,1)},de=async()=>{try{const R=await t.editOrder(d.value.id,T.value);a.value=!1,d.value=null,T.value={items:[],discount:0,note:""},await t.fetchOrders()}catch(R){alert("Li: "+R.message)}},J=async R=>{try{await t.sendToBar(R)}catch(m){alert("Li: "+m.message)}},re=async R=>{try{await t.serveOrder(R)}catch(m){alert("Li: "+m.message)}},Ve=R=>{d.value=R,g.value="",u.value=!0},Fe=async()=>{try{await t.cancelOrder(d.value.id,g.value),u.value=!1,d.value=null,g.value=""}catch(R){alert("Li: "+R.message)}},he=R=>{d.value=R,A.value={amount:0,reason:""},c.value=!0},Ce=async()=>{try{await t.refundPartial(d.value.id,A.value.amount,A.value.reason),c.value=!1,d.value=null,A.value={amount:0,reason:""}}catch(R){alert("Li: "+R.message)}},Me=R=>R==="ALL"?W.value.length:W.value.filter(m=>m.status===R).length,De=R=>({CREATED:"bg-gray-100 text-gray-800",PAID:"bg-green-100 text-green-800",IN_PROGRESS:"bg-blue-100 text-blue-800",SERVED:"bg-purple-100 text-purple-800",CANCELLED:"bg-red-100 text-red-800",LOCKED:"bg-gray-200 text-gray-600"})[R]||"bg-gray-100 text-gray-800",je=R=>({CREATED:"Mi to",PAID:" thanh ton",IN_PROGRESS:"ang pha ch",SERVED:" phc v",CANCELLED:" hy",LOCKED:" kha"})[R]||R,_e=R=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R),V=R=>new Date(R).toLocaleString("vi-VN");return(R,m)=>{var O,ee,ge,y,S,C,p;return x(),_("div",Z1,[ye(Ct),r("div",ex,[r("div",tx,[m[18]||(m[18]=r("h2",{class:"text-2xl font-bold text-gray-800"}," Qun l Order",-1)),r("button",{onClick:m[0]||(m[0]=f=>i.value=!0),class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium"}," + To Order ")]),B.value?q("",!0):(x(),_("div",nx,[m[19]||(m[19]=r("p",{class:"text-yellow-700"}," Bn cha m ca. Vui lng m ca trc khi to order.",-1)),r("button",{onClick:m[1]||(m[1]=f=>R.$router.push("/shifts")),class:"mt-2 bg-yellow-500 text-white px-4 py-2 rounded"},"M ca ngay")])),r("div",sx,[(x(),_(oe,null,ue(z,f=>r("button",{key:f.value,onClick:k=>b.value=f.value,class:ve([b.value===f.value?"bg-blue-500 text-white":"bg-white text-gray-700","px-4 py-2 rounded-lg font-medium whitespace-nowrap"])},v(f.label)+" ("+v(Me(f.value))+") ",11,rx)),64))]),K.value?(x(),_("div",ox,"ang ti...")):Y.value.length===0?(x(),_("div",ix,"Khng c order no")):(x(),_("div",lx,[(x(!0),_(oe,null,ue(Y.value,f=>(x(),_("div",{key:f.id,class:ve(["bg-white rounded-xl p-4 shadow-sm transition-all duration-500",f.refund_amount>0?"ring-2 ring-orange-200 bg-gradient-to-r from-white to-orange-50":""])},[r("div",ax,[r("div",null,[r("h3",ux,v(f.order_number),1),r("p",cx,v(f.customer_name||"Khch l"),1),r("p",dx,v(V(f.created_at)),1)]),r("span",{class:ve([De(f.status),"px-3 py-1 rounded-full text-xs font-medium"])},v(je(f.status)),3)]),r("div",fx,[(x(!0),_(oe,null,ue(f.items,k=>(x(),_("div",{key:k.menu_item_id,class:"flex justify-between text-sm"},[r("span",null,v(k.name)+" x"+v(k.quantity),1),r("span",px,v(_e(k.subtotal)),1)]))),128))]),f.refund_amount>0?(x(),_("div",hx,[r("div",mx,[m[21]||(m[21]=r("span",{class:"text-lg"},"",-1)),r("span",null,[m[20]||(m[20]=Te(" hon tin: ",-1)),r("span",gx,v(_e(f.refund_amount)),1)])]),f.refund_reason?(x(),_("div",yx,v(f.refund_reason),1)):q("",!0)])):q("",!0),f.status==="PAID"&&f.amount_due>0?(x(),_("div",vx,[r("div",bx,[m[23]||(m[23]=r("span",{class:"text-lg"},"",-1)),r("span",null,[m[22]||(m[22]=Te("Cn thiu: ",-1)),r("span",xx,v(_e(f.amount_due)),1)])])])):q("",!0),r("div",_x,[r("div",wx,[m[24]||(m[24]=r("span",null,"Tng cng:",-1)),r("span",Cx,v(_e(f.total)),1)]),f.amount_paid>0?(x(),_("div",Sx,[m[25]||(m[25]=r("span",null," thu:",-1)),r("span",null,v(_e(f.amount_paid)),1)])):q("",!0),f.refund_amount>0?(x(),_("div",kx,[m[26]||(m[26]=r("span",null," hon:",-1)),r("span",null,"-"+v(_e(f.refund_amount)),1)])):q("",!0)]),r("div",$x,[f.status==="CREATED"?(x(),_("button",{key:0,onClick:k=>U(f),class:"bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg text-sm"},"  Thu tin ",8,Ex)):q("",!0),f.status==="CREATED"?(x(),_("button",{key:1,onClick:k=>ae(f),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm"},"  Chnh sa ",8,Rx)):q("",!0),f.status==="PAID"&&f.amount_due>0?(x(),_("button",{key:2,onClick:k=>U(f),class:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded-lg text-sm"},"  Thu thm ",8,Tx)):q("",!0),f.status==="PAID"&&f.amount_due<=0?(x(),_("button",{key:3,onClick:k=>J(f.id),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm"},"  Gi quy bar ",8,Ax)):q("",!0),f.status==="PAID"?(x(),_("button",{key:4,onClick:k=>ae(f),class:"bg-purple-500 hover:bg-purple-600 text-white px-3 py-2 rounded-lg text-sm"},"  Chnh sa ",8,Ox)):q("",!0),f.status==="IN_PROGRESS"?(x(),_("button",{key:5,onClick:k=>re(f.id),class:"bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg text-sm"},"   phc v ",8,Nx)):q("",!0),D.value&&["CREATED","PAID"].includes(f.status)?(x(),_("button",{key:6,onClick:k=>Ve(f),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm"},"  Hy order ",8,Ix)):q("",!0),D.value&&f.status==="PAID"&&f.amount_paid>0?(x(),_("button",{key:7,onClick:k=>he(f),class:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-2 rounded-lg text-sm"},"  Hon tin ",8,Px)):q("",!0)])],2))),128))])),i.value?(x(),_("div",Dx,[r("div",Mx,[m[31]||(m[31]=r("h3",{class:"text-xl font-bold mb-4"},"To Order Mi",-1)),r("form",{onSubmit:Ae(G,["prevent"]),class:"space-y-4"},[r("div",null,[m[27]||(m[27]=r("label",{class:"block text-sm font-medium mb-2"},"Tn khch hng",-1)),F(r("input",{"onUpdate:modelValue":m[2]||(m[2]=f=>w.value.customer_name=f),type:"text",class:"w-full p-3 border rounded-lg",placeholder:"Nhp tn khch hng (ty chn)"},null,512),[[Z,w.value.customer_name]])]),r("div",null,[m[28]||(m[28]=r("label",{class:"block text-sm font-medium mb-2"},"Chn mn",-1)),r("div",Lx,[(x(!0),_(oe,null,ue(j.value,f=>(x(),_("button",{key:f.id,type:"button",onClick:k=>M(f),class:"p-3 border rounded-lg hover:bg-blue-50 text-left"},[r("div",Vx,v(f.name),1),r("div",Fx,v(_e(f.price)),1)],8,Ux))),128))])]),w.value.items.length>0?(x(),_("div",jx,[m[29]||(m[29]=r("label",{class:"block text-sm font-medium mb-2"},"Mn  chn",-1)),r("div",Bx,[(x(!0),_(oe,null,ue(w.value.items,(f,k)=>(x(),_("div",{key:k,class:"flex items-center gap-2 p-2 bg-gray-50 rounded"},[r("span",Hx,v(f.name),1),F(r("input",{"onUpdate:modelValue":h=>f.quantity=h,type:"number",min:"1",class:"w-16 p-1 border rounded text-center"},null,8,qx),[[Z,f.quantity,void 0,{number:!0}]]),r("button",{type:"button",onClick:h=>L(k),class:"text-red-500 hover:text-red-700"},"",8,Kx)]))),128))])])):q("",!0),r("div",null,[m[30]||(m[30]=r("label",{class:"block text-sm font-medium mb-2"},"Ghi ch",-1)),F(r("textarea",{"onUpdate:modelValue":m[3]||(m[3]=f=>w.value.note=f),rows:"2",class:"w-full p-3 border rounded-lg",placeholder:"Ghi ch c bit..."},null,512),[[Z,w.value.note]])]),r("div",Gx,[r("button",{type:"button",onClick:m[4]||(m[4]=f=>i.value=!1),class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"}," Hy "),r("button",{type:"submit",disabled:w.value.items.length===0,class:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg"}," To Order ",8,Wx)])],32)])])):q("",!0),l.value?(x(),_("div",zx,[r("div",Qx,[m[39]||(m[39]=r("h3",{class:"text-xl font-bold mb-4"},"Thu tin",-1)),r("div",Jx,[r("p",Xx,[m[32]||(m[32]=Te("Tng tin: ",-1)),r("span",Yx,v(_e((O=d.value)==null?void 0:O.total)),1)]),((ee=d.value)==null?void 0:ee.amount_paid)>0?(x(),_("p",Zx," thu: "+v(_e((ge=d.value)==null?void 0:ge.amount_paid)),1)):q("",!0),((y=d.value)==null?void 0:y.amount_due)>0?(x(),_("p",e_,"Cn thiu: "+v(_e((S=d.value)==null?void 0:S.amount_due)),1)):q("",!0)]),r("form",{onSubmit:Ae(N,["prevent"]),class:"space-y-4"},[r("div",null,[m[33]||(m[33]=r("label",{class:"block text-sm font-medium mb-2"},"S tin thu *",-1)),F(r("input",{"onUpdate:modelValue":m[5]||(m[5]=f=>E.value.amount=f),type:"number",step:"0.01",min:"0",required:"",class:"w-full p-3 border rounded-lg",placeholder:"Nhp s tin"},null,512),[[Z,E.value.amount,void 0,{number:!0}]])]),r("div",null,[m[37]||(m[37]=r("label",{class:"block text-sm font-medium mb-2"},"Phng thc thanh ton *",-1)),r("div",t_,[r("label",n_,[F(r("input",{"onUpdate:modelValue":m[6]||(m[6]=f=>E.value.payment_method=f),type:"radio",value:"CASH",class:"mr-2"},null,512),[[pr,E.value.payment_method]]),m[34]||(m[34]=Te("  Tin mt ",-1))]),r("label",s_,[F(r("input",{"onUpdate:modelValue":m[7]||(m[7]=f=>E.value.payment_method=f),type:"radio",value:"QR",class:"mr-2"},null,512),[[pr,E.value.payment_method]]),m[35]||(m[35]=Te("  QR Code ",-1))]),r("label",r_,[F(r("input",{"onUpdate:modelValue":m[8]||(m[8]=f=>E.value.payment_method=f),type:"radio",value:"TRANSFER",class:"mr-2"},null,512),[[pr,E.value.payment_method]]),m[36]||(m[36]=Te("  Chuyn khon ",-1))])])]),r("div",o_,[r("button",{type:"button",onClick:m[9]||(m[9]=f=>l.value=!1),class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-3 rounded-lg font-medium"}," Hy "),m[38]||(m[38]=r("button",{type:"submit",class:"flex-1 bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-lg font-medium"}," Thu tin ",-1))])],32)])])):q("",!0),a.value?(x(),_("div",i_,[r("div",l_,[m[45]||(m[45]=r("h3",{class:"text-xl font-bold mb-4"},"Chnh sa Order",-1)),r("form",{onSubmit:Ae(de,["prevent"]),class:"space-y-4"},[r("div",null,[m[40]||(m[40]=r("label",{class:"block text-sm font-medium mb-2"},"Chn mn",-1)),r("div",a_,[(x(!0),_(oe,null,ue(j.value,f=>(x(),_("button",{key:f.id,type:"button",onClick:k=>$e(f),class:"p-3 border rounded-lg hover:bg-blue-50 text-left"},[r("div",c_,v(f.name),1),r("div",d_,v(_e(f.price)),1)],8,u_))),128))])]),T.value.items.length>0?(x(),_("div",f_,[m[41]||(m[41]=r("label",{class:"block text-sm font-medium mb-2"},"Mn  chn",-1)),r("div",p_,[(x(!0),_(oe,null,ue(T.value.items,(f,k)=>(x(),_("div",{key:k,class:"flex items-center gap-2 p-2 bg-gray-50 rounded"},[r("span",h_,v(f.name),1),F(r("input",{"onUpdate:modelValue":h=>f.quantity=h,type:"number",min:"1",class:"w-16 p-1 border rounded text-center"},null,8,m_),[[Z,f.quantity,void 0,{number:!0}]]),r("button",{type:"button",onClick:h=>se(k),class:"text-red-500 hover:text-red-700"},"",8,g_)]))),128))])])):q("",!0),r("div",null,[m[42]||(m[42]=r("label",{class:"block text-sm font-medium mb-2"},"Gim gi",-1)),F(r("input",{"onUpdate:modelValue":m[10]||(m[10]=f=>T.value.discount=f),type:"number",step:"0.01",min:"0",class:"w-full p-3 border rounded-lg",placeholder:"S tin gim gi"},null,512),[[Z,T.value.discount,void 0,{number:!0}]])]),r("div",null,[m[43]||(m[43]=r("label",{class:"block text-sm font-medium mb-2"},"Ghi ch",-1)),F(r("textarea",{"onUpdate:modelValue":m[11]||(m[11]=f=>T.value.note=f),rows:"2",class:"w-full p-3 border rounded-lg",placeholder:"Ghi ch c bit..."},null,512),[[Z,T.value.note]])]),r("div",y_,[r("button",{type:"button",onClick:m[12]||(m[12]=f=>a.value=!1),class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"}," Hy "),r("button",{type:"submit",disabled:T.value.items.length===0,class:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg"}," Cp nht Order ",8,v_)]),m[44]||(m[44]=r("div",{class:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-700"},"  Lu : Nu tng tin mi thp hn s tin  thu, h thng s t ng hon tin phn chnh lch. ",-1))],32)])])):q("",!0),u.value?(x(),_("div",b_,[r("div",x_,[m[48]||(m[48]=r("h3",{class:"text-xl font-bold mb-4"},"Hy Order",-1)),r("form",{onSubmit:Ae(Fe,["prevent"]),class:"space-y-4"},[r("div",null,[m[46]||(m[46]=r("label",{class:"block text-sm font-medium mb-2"},"L do hy *",-1)),F(r("textarea",{"onUpdate:modelValue":m[13]||(m[13]=f=>g.value=f),required:"",rows:"3",class:"w-full p-3 border rounded-lg",placeholder:"Nhp l do hy order..."},null,512),[[Z,g.value]])]),r("div",__,[r("button",{type:"button",onClick:m[14]||(m[14]=f=>u.value=!1),class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"}," Hy "),m[47]||(m[47]=r("button",{type:"submit",class:"flex-1 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg"}," Xc nhn hy ",-1))])],32)])])):q("",!0),c.value?(x(),_("div",w_,[r("div",C_,[m[52]||(m[52]=r("h3",{class:"text-xl font-bold mb-4"},"Hon tin",-1)),r("div",S_,[r("p",k_," thu: "+v(_e((C=d.value)==null?void 0:C.amount_paid)),1)]),r("form",{onSubmit:Ae(Ce,["prevent"]),class:"space-y-4"},[r("div",null,[m[49]||(m[49]=r("label",{class:"block text-sm font-medium mb-2"},"S tin hon *",-1)),F(r("input",{"onUpdate:modelValue":m[15]||(m[15]=f=>A.value.amount=f),type:"number",step:"0.01",min:"0",max:(p=d.value)==null?void 0:p.amount_paid,required:"",class:"w-full p-3 border rounded-lg",placeholder:"Nhp s tin hon"},null,8,$_),[[Z,A.value.amount,void 0,{number:!0}]])]),r("div",null,[m[50]||(m[50]=r("label",{class:"block text-sm font-medium mb-2"},"L do hon tin *",-1)),F(r("textarea",{"onUpdate:modelValue":m[16]||(m[16]=f=>A.value.reason=f),required:"",rows:"3",class:"w-full p-3 border rounded-lg",placeholder:"Nhp l do hon tin..."},null,512),[[Z,A.value.reason]])]),r("div",E_,[r("button",{type:"button",onClick:m[17]||(m[17]=f=>c.value=!1),class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"}," Hy "),m[51]||(m[51]=r("button",{type:"submit",class:"flex-1 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg"}," Xc nhn hon tin ",-1))])],32)])])):q("",!0)])])}}},T_=Xe(R_,[["__scopeId","data-v-5ba399ab"]]);const A_={class:"min-h-screen bg-gray-100"},O_={class:"p-4"},N_={key:0,class:"bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl p-6 mb-6 shadow-lg"},I_={class:"flex justify-between items-start mb-4"},P_={class:"text-blue-100"},D_={class:"grid grid-cols-2 gap-4 mb-4"},M_={class:"bg-white bg-opacity-20 rounded-lg p-3"},L_={class:"font-bold"},U_={class:"bg-white bg-opacity-20 rounded-lg p-3"},V_={class:"font-bold"},F_={key:1,class:"bg-white rounded-xl p-6 mb-6 shadow-sm"},j_={class:"bg-white rounded-xl p-6 shadow-sm"},B_={key:0,class:"text-center py-10"},H_={key:1,class:"text-center py-10 text-gray-500"},q_={key:2,class:"space-y-3"},K_={class:"flex justify-between items-start mb-3"},G_={class:"font-bold"},W_={class:"text-sm text-gray-500"},z_={class:"grid grid-cols-2 gap-3 text-sm"},Q_={class:"font-medium"},J_={key:0},X_={class:"font-medium"},Y_={key:1},Z_={class:"font-medium text-green-600"},ew={key:2},tw={class:"font-medium"},nw=["onClick"],sw={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},rw={class:"bg-white rounded-xl p-6 w-full max-w-md"},ow={class:"bg-blue-50 p-3 rounded-lg"},iw={class:"font-bold text-lg"},lw={class:"flex gap-2"},aw={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},uw={class:"bg-white rounded-xl p-6 w-full max-w-md"},cw={class:"flex gap-2"},dw={__name:"ShiftView",setup(e){const t=nr(),n=Nn(),s=H(!1),o=H(!1),i=H(null),l=H({type:"",start_cash:0}),a=H({end_cash:0}),u=H({end_cash:0}),c=ne(()=>t.loading),d=ne(()=>t.currentShift),g=ne(()=>t.shifts),b=ne(()=>{var B,D;return((B=n.user)==null?void 0:B.role)==="cashier"||((D=n.user)==null?void 0:D.role)==="manager"});_t(async()=>{await t.fetchCurrentShift(),b.value?await t.fetchAllShifts():await t.fetchMyShifts()});const w=async()=>{var B,D;try{await t.startShift(l.value),l.value={type:"",start_cash:0}}catch(Y){alert("Li: "+(((D=(B=Y.response)==null?void 0:B.data)==null?void 0:D.error)||Y.message))}},E=async()=>{var B,D;try{await t.endShift(d.value.id,a.value.end_cash),s.value=!1,a.value={end_cash:0},await t.fetchMyShifts()}catch(Y){alert("Li: "+(((D=(B=Y.response)==null?void 0:B.data)==null?void 0:D.error)||Y.message))}},T=B=>{i.value=B,o.value=!0},A=async()=>{var B,D;try{await t.closeShift(i.value.id,u.value.end_cash),o.value=!1,i.value=null,u.value={end_cash:0},await t.fetchAllShifts()}catch(Y){alert("Li: "+(((D=(B=Y.response)==null?void 0:B.data)==null?void 0:D.error)||Y.message))}},z=B=>({MORNING:"Ca sng",AFTERNOON:"Ca chiu",EVENING:"Ca ti"})[B]||B,K=B=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(B),W=B=>new Date(B).toLocaleString("vi-VN"),j=B=>new Date(B).toLocaleTimeString("vi-VN");return(B,D)=>{var Y;return x(),_("div",A_,[ye(Ct),r("div",O_,[D[29]||(D[29]=r("h2",{class:"text-2xl font-bold text-gray-800 mb-6"}," Qun l Ca lm vic",-1)),d.value?(x(),_("div",N_,[r("div",I_,[r("div",null,[D[7]||(D[7]=r("h3",{class:"text-2xl font-bold"},"Ca ang m",-1)),r("p",P_,v(z(d.value.type)),1)]),D[8]||(D[8]=r("span",{class:"bg-white text-blue-600 px-4 py-2 rounded-full font-bold"},"ANG M",-1))]),r("div",D_,[r("div",M_,[D[9]||(D[9]=r("p",{class:"text-sm text-blue-100"},"Bt u",-1)),r("p",L_,v(j(d.value.started_at)),1)]),r("div",U_,[D[10]||(D[10]=r("p",{class:"text-sm text-blue-100"},"Tin u ca",-1)),r("p",V_,v(K(d.value.start_cash)),1)])]),r("button",{onClick:D[0]||(D[0]=M=>s.value=!0),class:"w-full bg-white text-blue-600 hover:bg-blue-50 px-4 py-3 rounded-lg font-bold"}," Kt thc ca ")])):(x(),_("div",F_,[D[15]||(D[15]=r("h3",{class:"text-xl font-bold mb-4"},"M ca lm vic",-1)),r("form",{onSubmit:Ae(w,["prevent"]),class:"space-y-4"},[r("div",null,[D[12]||(D[12]=r("label",{class:"block text-sm font-medium mb-2"},"Chn ca *",-1)),F(r("select",{"onUpdate:modelValue":D[1]||(D[1]=M=>l.value.type=M),required:"",class:"w-full p-3 border rounded-lg"},[...D[11]||(D[11]=[r("option",{value:""},"-- Chn ca --",-1),r("option",{value:"MORNING"},"Ca sng (7:00 - 12:00)",-1),r("option",{value:"AFTERNOON"},"Ca chiu (12:00 - 18:00)",-1),r("option",{value:"EVENING"},"Ca ti (18:00 - 22:00)",-1)])],512),[[xe,l.value.type]])]),r("div",null,[D[13]||(D[13]=r("label",{class:"block text-sm font-medium mb-2"},"Tin u ca (VN) *",-1)),F(r("input",{"onUpdate:modelValue":D[2]||(D[2]=M=>l.value.start_cash=M),type:"number",min:"0",step:"1000",required:"",class:"w-full p-3 border rounded-lg"},null,512),[[Z,l.value.start_cash,void 0,{number:!0}]])]),D[14]||(D[14]=r("button",{type:"submit",class:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-lg font-bold"}," M ca ",-1))],32)])),r("div",j_,[D[20]||(D[20]=r("h3",{class:"text-xl font-bold mb-4"},"Lch s ca lm vic",-1)),c.value?(x(),_("div",B_,"ang ti...")):g.value.length===0?(x(),_("div",H_,"Cha c ca lm vic no")):(x(),_("div",q_,[(x(!0),_(oe,null,ue(g.value,M=>{var L;return x(),_("div",{key:M.id,class:"border rounded-lg p-4"},[r("div",K_,[r("div",null,[r("h4",G_,v(z(M.type)),1),r("p",W_,v(W(M.started_at)),1)]),r("span",{class:ve([M.status==="OPEN"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","px-3 py-1 rounded-full text-xs font-medium"])},v(M.status==="OPEN"?"ang m":" ng"),3)]),r("div",z_,[r("div",null,[D[16]||(D[16]=r("p",{class:"text-gray-500"},"Tin u ca",-1)),r("p",Q_,v(K(M.start_cash)),1)]),M.status==="CLOSED"?(x(),_("div",J_,[D[17]||(D[17]=r("p",{class:"text-gray-500"},"Tin cui ca",-1)),r("p",X_,v(K(M.end_cash)),1)])):q("",!0),M.status==="CLOSED"?(x(),_("div",Y_,[D[18]||(D[18]=r("p",{class:"text-gray-500"},"Doanh thu",-1)),r("p",Z_,v(K(M.total_revenue)),1)])):q("",!0),M.status==="CLOSED"?(x(),_("div",ew,[D[19]||(D[19]=r("p",{class:"text-gray-500"},"S order",-1)),r("p",tw,v(M.total_orders),1)])):q("",!0)]),b.value&&M.status==="OPEN"&&M.id!==((L=d.value)==null?void 0:L.id)?(x(),_("button",{key:0,onClick:G=>T(M),class:"mt-3 w-full bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium"}," Cht ca ",8,nw)):q("",!0)])}),128))]))]),s.value?(x(),_("div",sw,[r("div",rw,[D[24]||(D[24]=r("h3",{class:"text-xl font-bold mb-4"},"Kt thc ca",-1)),r("form",{onSubmit:Ae(E,["prevent"]),class:"space-y-4"},[r("div",null,[D[21]||(D[21]=r("label",{class:"block text-sm font-medium mb-2"},"Tin cui ca (VN) *",-1)),F(r("input",{"onUpdate:modelValue":D[3]||(D[3]=M=>a.value.end_cash=M),type:"number",min:"0",step:"1000",required:"",class:"w-full p-3 border rounded-lg"},null,512),[[Z,a.value.end_cash,void 0,{number:!0}]])]),r("div",ow,[D[22]||(D[22]=r("p",{class:"text-sm text-gray-600"},"Tin u ca",-1)),r("p",iw,v(K((Y=d.value)==null?void 0:Y.start_cash)),1)]),r("div",lw,[r("button",{type:"button",onClick:D[4]||(D[4]=M=>s.value=!1),class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"}," Hy "),D[23]||(D[23]=r("button",{type:"submit",class:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg"}," Kt thc ",-1))])],32)])])):q("",!0),o.value?(x(),_("div",aw,[r("div",uw,[D[27]||(D[27]=r("h3",{class:"text-xl font-bold mb-4"},"Cht ca",-1)),D[28]||(D[28]=r("p",{class:"text-sm text-gray-600 mb-4"},"Cht ca s kha tt c orders trong ca ny",-1)),r("form",{onSubmit:Ae(A,["prevent"]),class:"space-y-4"},[r("div",null,[D[25]||(D[25]=r("label",{class:"block text-sm font-medium mb-2"},"Tin cui ca (VN) *",-1)),F(r("input",{"onUpdate:modelValue":D[5]||(D[5]=M=>u.value.end_cash=M),type:"number",min:"0",step:"1000",required:"",class:"w-full p-3 border rounded-lg"},null,512),[[Z,u.value.end_cash,void 0,{number:!0}]])]),r("div",cw,[r("button",{type:"button",onClick:D[6]||(D[6]=M=>o.value=!1),class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"}," Hy "),D[26]||(D[26]=r("button",{type:"submit",class:"flex-1 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg"}," Cht ca ",-1))])],32)])])):q("",!0)])])}}},fw=Xe(dw,[["__scopeId","data-v-09ecdbe9"]]),ut={getShiftStatus:e=>X.get(`/cashier/shifts/${e}/status`),getPaymentsByShift:e=>X.get(`/cashier/shifts/${e}/payments`),reportDiscrepancy:e=>X.post("/cashier/discrepancies",e),getPendingDiscrepancies:()=>X.get("/cashier/discrepancies/pending"),resolveDiscrepancy:e=>X.post(`/cashier/discrepancies/${e}/resolve`),overridePayment:(e,t)=>X.post(`/cashier/orders/${e}/override`,t),lockOrder:e=>X.post(`/cashier/orders/${e}/lock`),reconcileCash:e=>X.post("/cashier/reconcile/cash",e),generateShiftReport:e=>X.get(`/cashier/reports/shift/${e}`),getDailyReport:e=>X.get(`/cashier/reports/daily?date=${e}`),handoverShift:e=>X.post("/cashier/handover",e),getOrderAudits:e=>X.get(`/cashier/orders/${e}/audits`)},Oa=en("cashier",{state:()=>({shiftStatus:null,payments:[],discrepancies:[],reconciliation:null,reports:[],audits:[],loading:!1,error:null}),getters:{pendingDiscrepancies:e=>e.discrepancies.filter(t=>t.status==="PENDING"),resolvedDiscrepancies:e=>e.discrepancies.filter(t=>t.status==="RESOLVED"),cashPayments:e=>e.payments.filter(t=>t.payment_method==="CASH"),transferPayments:e=>e.payments.filter(t=>t.payment_method==="TRANSFER"),qrPayments:e=>e.payments.filter(t=>t.payment_method==="QR"),totalCashAmount:e=>e.payments.filter(t=>t.payment_method==="CASH").reduce((t,n)=>t+n.amount,0),hasReconciliation:e=>!!e.reconciliation,reconciliationStatus:e=>{var t;return((t=e.reconciliation)==null?void 0:t.status)||null}},actions:{async getShiftStatus(e){var t,n;this.loading=!0,this.error=null;try{const s=await ut.getShiftStatus(e);return this.shiftStatus=s.data,s.data}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Failed to get shift status",s}finally{this.loading=!1}},async getPaymentsByShift(e){var t,n;this.loading=!0,this.error=null;try{const s=await ut.getPaymentsByShift(e);return this.payments=s.data.payments||[],s.data.payments}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Failed to get payments",s}finally{this.loading=!1}},async reportDiscrepancy(e){var t,n;this.loading=!0,this.error=null;try{return await ut.reportDiscrepancy(e),await this.getPendingDiscrepancies(),!0}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Failed to report discrepancy",s}finally{this.loading=!1}},async getPendingDiscrepancies(){var e,t;try{const n=await ut.getPendingDiscrepancies();return this.discrepancies=n.data.discrepancies||[],n.data.discrepancies}catch(n){throw this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to get discrepancies",n}},async resolveDiscrepancy(e){var t,n;this.loading=!0,this.error=null;try{return await ut.resolveDiscrepancy(e),await this.getPendingDiscrepancies(),!0}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Failed to resolve discrepancy",s}finally{this.loading=!1}},async reconcileCash(e){var t,n;this.loading=!0,this.error=null;try{const s=await ut.reconcileCash(e);return this.reconciliation=s.data,s.data}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Failed to reconcile cash",s}finally{this.loading=!1}},async overridePayment(e,t){var n,s;this.loading=!0,this.error=null;try{return await ut.overridePayment(e,{reason:t}),!0}catch(o){throw this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Failed to override payment",o}finally{this.loading=!1}},async lockOrder(e){var t,n;this.loading=!0,this.error=null;try{return await ut.lockOrder(e),!0}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Failed to lock order",s}finally{this.loading=!1}},async generateShiftReport(e){var t,n;this.loading=!0,this.error=null;try{const o=(await ut.generateShiftReport(e)).data;return this.reports.unshift(o),o}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Failed to generate report",s}finally{this.loading=!1}},async getDailyReport(e){var t,n;this.loading=!0,this.error=null;try{return(await ut.getDailyReport(e)).data}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Failed to get daily report",s}finally{this.loading=!1}},async handoverShift(e){var t,n;this.loading=!0,this.error=null;try{return await ut.handoverShift(e),!0}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Failed to handover shift",s}finally{this.loading=!1}},async getOrderAudits(e){var t,n;this.loading=!0,this.error=null;try{const s=await ut.getOrderAudits(e);return this.audits=s.data.audits||[],s.data.audits}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Failed to get audits",s}finally{this.loading=!1}},clearError(){this.error=null},reset(){this.shiftStatus=null,this.payments=[],this.discrepancies=[],this.reconciliation=null,this.reports=[],this.audits=[],this.loading=!1,this.error=null}}}),pw={name:"OverridePaymentModal",props:{show:{type:Boolean,default:!1},payment:{type:Object,default:null}},emits:["close","confirm"],setup(e,{emit:t}){const n=H("");return un(()=>e.show,l=>{l&&(n.value="")}),{reason:n,close:()=>{t("close")},confirm:()=>{n.value.trim()&&(t("confirm",n.value.trim()),n.value="")},formatCurrency:l=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l)}}},hw={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},mw={class:"bg-white rounded-lg p-6 w-96"},gw={class:"mb-4"},yw={class:"text-sm text-gray-600 mb-2"},vw={class:"text-sm text-gray-600 mb-2"},bw={class:"text-sm text-gray-600 mb-4"},xw={class:"mb-4"},_w={class:"flex justify-end space-x-3"},ww=["disabled"];function Cw(e,t,n,s,o,i){var l,a,u;return n.show?(x(),_("div",hw,[r("div",mw,[t[4]||(t[4]=r("h3",{class:"text-lg font-semibold mb-4"},"iu chnh thanh ton",-1)),r("div",gw,[r("p",yw,"Order: "+v((l=n.payment)==null?void 0:l.order_id),1),r("p",vw,"Bn: "+v((a=n.payment)==null?void 0:a.table_name),1),r("p",bw,"S tin: "+v(s.formatCurrency((u=n.payment)==null?void 0:u.amount)),1)]),r("div",xw,[t[3]||(t[3]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"L do iu chnh",-1)),F(r("textarea",{"onUpdate:modelValue":t[0]||(t[0]=c=>s.reason=c),class:"w-full border border-gray-300 rounded-lg px-3 py-2 h-20 resize-none",placeholder:"Nhp l do iu chnh...",required:""},null,512),[[Z,s.reason]])]),r("div",_w,[r("button",{onClick:t[1]||(t[1]=(...c)=>s.close&&s.close(...c)),class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50"}," Hy "),r("button",{onClick:t[2]||(t[2]=(...c)=>s.confirm&&s.confirm(...c)),disabled:!s.reason.trim(),class:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50"}," Xc nhn ",8,ww)])])])):q("",!0)}const Sw=Xe(pw,[["render",Cw]]),kw={name:"DiscrepancyModal",props:{show:{type:Boolean,default:!1},payment:{type:Object,default:null}},emits:["close","confirm"],setup(e,{emit:t}){const n=H(""),s=H(null);return un(()=>e.show,a=>{a&&(n.value="",s.value=null)}),{reason:n,amount:s,close:()=>{t("close")},confirm:()=>{n.value.trim()&&s.value&&(t("confirm",{reason:n.value.trim(),amount:s.value}),n.value="",s.value=null)},formatCurrency:a=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(a)}}},$w={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ew={class:"bg-white rounded-lg p-6 w-96"},Rw={class:"mb-4"},Tw={class:"text-sm text-gray-600 mb-2"},Aw={class:"text-sm text-gray-600 mb-2"},Ow={class:"text-sm text-gray-600 mb-4"},Nw={class:"mb-4"},Iw={class:"mb-4"},Pw={class:"flex justify-end space-x-3"},Dw=["disabled"];function Mw(e,t,n,s,o,i){var l,a,u;return n.show?(x(),_("div",$w,[r("div",Ew,[t[6]||(t[6]=r("h3",{class:"text-lg font-semibold mb-4"},"Bo co sai lch",-1)),r("div",Rw,[r("p",Tw,"Order: "+v((l=n.payment)==null?void 0:l.order_id),1),r("p",Aw,"Bn: "+v((a=n.payment)==null?void 0:a.table_name),1),r("p",Ow,"S tin gc: "+v(s.formatCurrency((u=n.payment)==null?void 0:u.amount)),1)]),r("div",Nw,[t[4]||(t[4]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"L do sai lch",-1)),F(r("textarea",{"onUpdate:modelValue":t[0]||(t[0]=c=>s.reason=c),class:"w-full border border-gray-300 rounded-lg px-3 py-2 h-20 resize-none",placeholder:"M t sai lch...",required:""},null,512),[[Z,s.reason]])]),r("div",Iw,[t[5]||(t[5]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"S tin sai lch",-1)),F(r("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>s.amount=c),type:"number",step:"0.01",class:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"0.00",required:""},null,512),[[Z,s.amount,void 0,{number:!0}]])]),r("div",Pw,[r("button",{onClick:t[2]||(t[2]=(...c)=>s.close&&s.close(...c)),class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50"}," Hy "),r("button",{onClick:t[3]||(t[3]=(...c)=>s.confirm&&s.confirm(...c)),disabled:!s.reason.trim()||!s.amount,class:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 disabled:opacity-50"}," Bo co ",8,Dw)])])])):q("",!0)}const Lw=Xe(kw,[["render",Mw]]),Uw={name:"CashierDashboard",components:{Navigation:Ct,OverridePaymentModal:Sw,DiscrepancyModal:Lw},setup(){const e=Oa(),t=nr(),n=H(""),s=H(!1),o=H(!1),i=H(null),l=H({actualCash:null,notes:""}),a=ne(()=>e.shiftStatus),u=ne(()=>e.payments),c=ne(()=>e.pendingDiscrepancies),d=ne(()=>e.reconciliation),g=ne(()=>e.hasReconciliation),b=ne(()=>e.loading),w=ne(()=>e.error),E=ne(()=>t.shifts);_t(async()=>{await t.fetchAllShifts(),await e.getPendingDiscrepancies()});const T=async()=>{n.value&&await Promise.all([e.getShiftStatus(n.value),e.getPaymentsByShift(n.value)]),await e.getPendingDiscrepancies()};return{selectedShift:n,showOverride:s,showDiscrepancy:o,selectedPayment:i,reconciliationForm:l,shiftStatus:a,payments:u,pendingDiscrepancies:c,reconciliation:d,hasReconciliation:g,loading:b,error:w,availableShifts:E,refreshData:T,loadPayments:async()=>{n.value&&await Promise.all([e.getShiftStatus(n.value),e.getPaymentsByShift(n.value)])},showOverrideModal:J=>{i.value=J,s.value=!0},showDiscrepancyModal:J=>{i.value=J,o.value=!0},handleOverridePayment:async J=>{try{await e.overridePayment(i.value.order_id,J),s.value=!1,await T()}catch(re){console.error("Override failed:",re)}},handleReportDiscrepancy:async J=>{try{await e.reportDiscrepancy({order_id:i.value.order_id,...J}),o.value=!1}catch(re){console.error("Report discrepancy failed:",re)}},lockOrder:async J=>{if(confirm("Bn c chc mun kha order ny?"))try{await e.lockOrder(J),await T()}catch(re){console.error("Lock order failed:",re)}},resolveDiscrepancy:async J=>{try{await e.resolveDiscrepancy(J)}catch(re){console.error("Resolve discrepancy failed:",re)}},performReconciliation:async()=>{try{await e.reconcileCash({shift_id:n.value,actual_cash:l.value.actualCash,notes:l.value.notes}),l.value={actualCash:null,notes:""}}catch(J){console.error("Reconciliation failed:",J)}},clearError:()=>{e.clearError()},formatCurrency:J=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(J),formatDate:J=>{if(!J)return"N/A";const re=new Date(J);return isNaN(re.getTime())?"Invalid Date":re.toLocaleDateString("vi-VN")},formatDateTime:J=>{if(!J)return"N/A";const re=new Date(J);return isNaN(re.getTime())?"Invalid Date":re.toLocaleString("vi-VN")},getPaymentMethodClass:J=>({CASH:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",TRANSFER:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",QR:"px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800"})[J]||"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800",getPaymentMethodText:J=>({CASH:"Tin mt",TRANSFER:"Chuyn khon",QR:"QR Code"})[J]||J,getStatusClass:J=>({PAID:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",IN_PROGRESS:"px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800",SERVED:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",LOCKED:"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800"})[J]||"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800",getStatusText:J=>({PAID:" thanh ton",IN_PROGRESS:"ang pha ch",SERVED:" phc v",LOCKED:" kha"})[J]||J,getDifferenceClass:J=>J>0?"font-medium text-green-600":J<0?"font-medium text-red-600":"font-medium text-gray-600"}}},Vw={class:"min-h-screen bg-gray-100"},Fw={class:"p-6 space-y-6"},jw={class:"flex justify-between items-center"},Bw={class:"flex space-x-2"},Hw=["disabled"],qw={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},Kw={key:1,class:"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg p-6"},Gw={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Ww={class:"text-center"},zw={class:"text-2xl font-bold"},Qw={class:"text-center"},Jw={class:"text-2xl font-bold"},Xw={class:"text-center"},Yw={class:"text-2xl font-bold"},Zw={class:"text-center"},e2={class:"text-2xl font-bold"},t2={class:"bg-white rounded-lg shadow p-6"},n2={class:"flex justify-between items-center mb-4"},s2=["value"],r2={key:0,class:"overflow-x-auto"},o2={class:"min-w-full divide-y divide-gray-200"},i2={class:"bg-white divide-y divide-gray-200"},l2={class:"px-6 py-4 whitespace-nowrap"},a2={class:"px-6 py-4 whitespace-nowrap font-medium"},u2={class:"px-6 py-4 whitespace-nowrap"},c2={class:"px-6 py-4 whitespace-nowrap"},d2={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},f2={class:"px-6 py-4 whitespace-nowrap text-sm space-x-2"},p2=["onClick"],h2=["onClick"],m2=["onClick"],g2={key:1,class:"text-center py-8 text-gray-500"},y2={class:"bg-white rounded-lg shadow p-6"},v2={key:0,class:"space-y-3"},b2={class:"flex justify-between items-start"},x2={class:"font-medium"},_2={class:"text-sm text-gray-600"},w2={class:"text-sm text-gray-500"},C2={class:"text-xs text-gray-400"},S2=["onClick"],k2={key:1,class:"text-center py-4 text-gray-500"},$2={class:"bg-white rounded-lg shadow p-6"},E2={key:0,class:"space-y-4"},R2={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},T2=["disabled"],A2={key:1,class:"bg-gray-50 rounded-lg p-4"},O2={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},N2={class:"font-medium"},I2={class:"font-medium"},P2={key:0,class:"mt-2 text-sm text-gray-600"};function D2(e,t,n,s,o,i){const l=wn("Navigation"),a=wn("OverridePaymentModal"),u=wn("DiscrepancyModal");return x(),_("div",Vw,[ye(l),r("div",Fw,[r("div",jw,[t[10]||(t[10]=r("h1",{class:"text-2xl font-bold text-gray-900"},"Thu ngn Dashboard",-1)),r("div",Bw,[r("button",{onClick:t[0]||(t[0]=(...c)=>s.refreshData&&s.refreshData(...c)),disabled:s.loading,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50"},[r("i",{class:ve(["fas fa-sync-alt mr-2",{"animate-spin":s.loading}])},null,2),t[9]||(t[9]=Te(" Lm mi ",-1))],8,Hw)])]),s.error?(x(),_("div",qw,[Te(v(s.error)+" ",1),r("button",{onClick:t[1]||(t[1]=(...c)=>s.clearError&&s.clearError(...c)),class:"float-right font-bold"},"")])):q("",!0),s.shiftStatus?(x(),_("div",Kw,[t[15]||(t[15]=r("h2",{class:"text-xl font-semibold mb-4"},"Trng thi ca lm vic",-1)),r("div",Gw,[r("div",Ww,[r("div",zw,v(s.shiftStatus.total_orders),1),t[11]||(t[11]=r("div",{class:"text-sm opacity-90"},"Tng n",-1))]),r("div",Qw,[r("div",Jw,v(s.formatCurrency(s.shiftStatus.total_revenue)),1),t[12]||(t[12]=r("div",{class:"text-sm opacity-90"},"Tng doanh thu",-1))]),r("div",Xw,[r("div",Yw,v(s.formatCurrency(s.shiftStatus.cash_revenue)),1),t[13]||(t[13]=r("div",{class:"text-sm opacity-90"},"Tin mt",-1))]),r("div",Zw,[r("div",e2,v(s.formatCurrency(s.shiftStatus.transfer_revenue+s.shiftStatus.qr_revenue)),1),t[14]||(t[14]=r("div",{class:"text-sm opacity-90"},"Chuyn khon",-1))])])])):q("",!0),r("div",t2,[r("div",n2,[t[17]||(t[17]=r("h2",{class:"text-lg font-semibold"},"Gim st thanh ton",-1)),F(r("select",{"onUpdate:modelValue":t[2]||(t[2]=c=>s.selectedShift=c),onChange:t[3]||(t[3]=(...c)=>s.loadPayments&&s.loadPayments(...c)),class:"border rounded px-3 py-1"},[t[16]||(t[16]=r("option",{value:""},"Chn ca",-1)),(x(!0),_(oe,null,ue(s.availableShifts,c=>(x(),_("option",{key:c.id,value:c.id},v(c.type)+" - "+v(s.formatDate(c.started_at)),9,s2))),128))],544),[[xe,s.selectedShift]])]),s.payments.length>0?(x(),_("div",r2,[r("table",o2,[t[21]||(t[21]=r("thead",{class:"bg-gray-50"},[r("tr",null,[r("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Bn"),r("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"S tin"),r("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Phng thc"),r("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Trng thi"),r("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Thi gian"),r("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Thao tc")])],-1)),r("tbody",i2,[(x(!0),_(oe,null,ue(s.payments,c=>(x(),_("tr",{key:c.order_id},[r("td",l2,v(c.table_name),1),r("td",a2,v(s.formatCurrency(c.amount)),1),r("td",u2,[r("span",{class:ve(s.getPaymentMethodClass(c.payment_method))},v(s.getPaymentMethodText(c.payment_method)),3)]),r("td",c2,[r("span",{class:ve(s.getStatusClass(c.status))},v(s.getStatusText(c.status)),3)]),r("td",d2,v(s.formatDateTime(c.paid_at)),1),r("td",f2,[r("button",{onClick:d=>s.showOverrideModal(c),class:"text-orange-600 hover:text-orange-900",title:"iu chnh"},[...t[18]||(t[18]=[r("i",{class:"fas fa-edit"},null,-1)])],8,p2),r("button",{onClick:d=>s.lockOrder(c.order_id),class:"text-red-600 hover:text-red-900",title:"Kha"},[...t[19]||(t[19]=[r("i",{class:"fas fa-lock"},null,-1)])],8,h2),r("button",{onClick:d=>s.showDiscrepancyModal(c),class:"text-yellow-600 hover:text-yellow-900",title:"Bo co sai lch"},[...t[20]||(t[20]=[r("i",{class:"fas fa-exclamation-triangle"},null,-1)])],8,m2)])]))),128))])])])):(x(),_("div",g2," Cha c thanh ton no "))]),r("div",y2,[t[22]||(t[22]=r("h2",{class:"text-lg font-semibold mb-4"},"Sai lch thanh ton",-1)),s.pendingDiscrepancies.length>0?(x(),_("div",v2,[(x(!0),_(oe,null,ue(s.pendingDiscrepancies,c=>(x(),_("div",{key:c.id,class:"border border-yellow-200 bg-yellow-50 rounded-lg p-4"},[r("div",b2,[r("div",null,[r("div",x2,"Order: "+v(c.order_id),1),r("div",_2,v(c.reason),1),r("div",w2,"S tin: "+v(s.formatCurrency(c.amount)),1),r("div",C2,v(s.formatDateTime(c.reported_at)),1)]),r("button",{onClick:d=>s.resolveDiscrepancy(c.id),class:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700"}," Gii quyt ",8,S2)])]))),128))])):(x(),_("div",k2," Khng c sai lch no "))]),r("div",$2,[t[28]||(t[28]=r("h2",{class:"text-lg font-semibold mb-4"},"i sot tin mt",-1)),!s.hasReconciliation&&s.selectedShift?(x(),_("div",E2,[r("div",R2,[r("div",null,[t[23]||(t[23]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tin mt thc t",-1)),F(r("input",{"onUpdate:modelValue":t[4]||(t[4]=c=>s.reconciliationForm.actualCash=c),type:"number",step:"0.01",class:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"0.00"},null,512),[[Z,s.reconciliationForm.actualCash,void 0,{number:!0}]])]),r("div",null,[t[24]||(t[24]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ghi ch",-1)),F(r("input",{"onUpdate:modelValue":t[5]||(t[5]=c=>s.reconciliationForm.notes=c),type:"text",class:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Ghi ch (ty chn)"},null,512),[[Z,s.reconciliationForm.notes]])])]),r("button",{onClick:t[6]||(t[6]=(...c)=>s.performReconciliation&&s.performReconciliation(...c)),disabled:!s.reconciliationForm.actualCash,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50"}," i sot ",8,T2)])):s.reconciliation?(x(),_("div",A2,[r("div",O2,[r("div",null,[t[25]||(t[25]=r("div",{class:"text-sm text-gray-600"},"Tin mt d kin",-1)),r("div",N2,v(s.formatCurrency(s.reconciliation.expected_cash)),1)]),r("div",null,[t[26]||(t[26]=r("div",{class:"text-sm text-gray-600"},"Tin mt thc t",-1)),r("div",I2,v(s.formatCurrency(s.reconciliation.actual_cash)),1)]),r("div",null,[t[27]||(t[27]=r("div",{class:"text-sm text-gray-600"},"Chnh lch",-1)),r("div",{class:ve(s.getDifferenceClass(s.reconciliation.difference))},v(s.formatCurrency(s.reconciliation.difference)),3)])]),s.reconciliation.notes?(x(),_("div",P2," Ghi ch: "+v(s.reconciliation.notes),1)):q("",!0)])):q("",!0)]),ye(a,{show:s.showOverride,payment:s.selectedPayment,onClose:t[7]||(t[7]=c=>s.showOverride=!1),onConfirm:s.handleOverridePayment},null,8,["show","payment","onConfirm"]),ye(u,{show:s.showDiscrepancy,payment:s.selectedPayment,onClose:t[8]||(t[8]=c=>s.showDiscrepancy=!1),onConfirm:s.handleReportDiscrepancy},null,8,["show","payment","onConfirm"])])])}const M2=Xe(Uw,[["render",D2]]),L2={name:"CashierReports",components:{Navigation:Ct},setup(){const e=Oa(),t=nr(),n=H(""),s=H(new Date().toISOString().split("T")[0]),o=H(null),i=H({toCashierID:"",notes:""}),l=ne(()=>e.loading),a=ne(()=>e.error),u=ne(()=>e.reports),c=ne(()=>t.shifts);_t(async()=>{await t.fetchAllShifts()});const d=async()=>{var M;try{const L=await e.generateShiftReport(n.value);o.value={...L,title:`Bo co ca ${((M=L.shift)==null?void 0:M.type)||"N/A"}`}}catch(L){console.error("Generate shift report failed:",L)}},g=async()=>{try{const M=await e.getDailyReport(s.value);o.value={...M,title:`Bo co ngy ${s.value}`}}catch(M){console.error("Generate daily report failed:",M)}},b=async()=>{if(confirm("Bn c chc mun bn giao ca?"))try{await e.handoverShift({from_cashier_id:"current_user",to_cashier_id:i.value.toCashierID,notes:i.value.notes}),i.value={toCashierID:"",notes:""},alert("Bn giao ca thnh cng!")}catch(M){console.error("Handover failed:",M)}},w=M=>{o.value={...M,title:Y(M)}},E=()=>{const M=document.getElementById("report-content"),L=window.open("","_blank");L.document.write(`
        <html>
          <head>
            <title>Bo co</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; }
              .text-center { text-align: center; }
              .grid { display: grid; gap: 1rem; }
              .grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
              .grid-cols-3 { grid-template-columns: repeat(3, 1fr); }
              .grid-cols-4 { grid-template-columns: repeat(4, 1fr); }
              .p-4 { padding: 1rem; }
              .bg-gray-50 { background-color: #f9fafb; }
              .rounded { border-radius: 0.375rem; }
              .font-bold { font-weight: bold; }
              .font-medium { font-weight: 500; }
              .text-sm { font-size: 0.875rem; }
              .text-lg { font-size: 1.125rem; }
              .text-xl { font-size: 1.25rem; }
              .text-2xl { font-size: 1.5rem; }
              .border-b { border-bottom: 1px solid #e5e7eb; }
              .pb-4 { padding-bottom: 1rem; }
              .mb-2 { margin-bottom: 0.5rem; }
              .mb-3 { margin-bottom: 0.75rem; }
              .mb-4 { margin-bottom: 1rem; }
              .space-y-3 > * + * { margin-top: 0.75rem; }
              .space-y-6 > * + * { margin-top: 1.5rem; }
              table { width: 100%; border-collapse: collapse; }
              th, td { padding: 0.5rem; border: 1px solid #e5e7eb; text-align: left; }
              th { background-color: #f9fafb; font-weight: 500; }
            </style>
          </head>
          <body>
            ${M.innerHTML}
          </body>
        </html>
      `),L.document.close(),L.print()},T=()=>{e.clearError()},A=M=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(M),z=M=>{if(!M)return"N/A";const L=new Date(M);return isNaN(L.getTime())?"Invalid Date":L.toLocaleDateString("vi-VN")},K=M=>{if(!M)return"N/A";const L=new Date(M);return isNaN(L.getTime())?"Invalid Date":L.toLocaleString("vi-VN")},W=(M,L)=>L===0?0:Math.round(M/L*100),j=M=>M>0?"font-medium text-green-600":M<0?"font-medium text-red-600":"font-medium text-gray-600",B=M=>({CANCEL:"px-2 py-1 text-xs rounded bg-red-100 text-red-800",REFUND:"px-2 py-1 text-xs rounded bg-orange-100 text-orange-800",OVERRIDE:"px-2 py-1 text-xs rounded bg-yellow-100 text-yellow-800",LOCK:"px-2 py-1 text-xs rounded bg-gray-100 text-gray-800"})[M]||"px-2 py-1 text-xs rounded bg-gray-100 text-gray-800",D=M=>({CANCEL:"Hy",REFUND:"Hon tin",OVERRIDE:"iu chnh",LOCK:"Kha"})[M]||M,Y=M=>M.shift?`Bo co ca ${M.shift.type}`:"Bo co tng hp";return{selectedShiftForReport:n,selectedDate:s,currentReport:o,handoverForm:i,loading:l,error:a,reports:u,availableShifts:c,generateShiftReport:d,generateDailyReport:g,performHandover:b,viewReport:w,printReport:E,clearError:T,formatCurrency:A,formatDate:z,formatDateTime:K,getPercentage:W,getDifferenceClass:j,getAuditActionClass:B,getAuditActionText:D,getReportTitle:Y}}},U2={class:"min-h-screen bg-gray-100"},V2={class:"p-6 space-y-6"},F2={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},j2={class:"bg-white rounded-lg shadow p-6"},B2={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},H2={class:"border rounded-lg p-4"},q2=["value"],K2=["disabled"],G2={class:"border rounded-lg p-4"},W2=["disabled"],z2={class:"border rounded-lg p-4"},Q2=["disabled"],J2={key:1,class:"bg-white rounded-lg shadow p-6"},X2={class:"flex justify-between items-center mb-4"},Y2={class:"text-lg font-semibold"},Z2={id:"report-content",class:"space-y-6"},e3={class:"text-center border-b pb-4"},t3={class:"text-lg"},n3={class:"text-sm text-gray-600"},s3={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},r3={class:"text-center p-4 bg-blue-50 rounded"},o3={class:"text-2xl font-bold text-blue-600"},i3={class:"text-center p-4 bg-green-50 rounded"},l3={class:"text-2xl font-bold text-green-600"},a3={class:"text-center p-4 bg-yellow-50 rounded"},u3={class:"text-2xl font-bold text-yellow-600"},c3={class:"text-center p-4 bg-purple-50 rounded"},d3={class:"text-2xl font-bold text-purple-600"},f3={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},p3={class:"bg-gray-50 p-4 rounded"},h3={class:"text-lg font-bold"},m3={class:"text-sm text-gray-600"},g3={class:"bg-gray-50 p-4 rounded"},y3={class:"text-lg font-bold"},v3={class:"text-sm text-gray-600"},b3={class:"bg-gray-50 p-4 rounded"},x3={class:"text-lg font-bold"},_3={class:"text-sm text-gray-600"},w3={key:0,class:"bg-gray-50 p-4 rounded"},C3={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},S3={class:"font-medium"},k3={class:"font-medium"},$3={class:"text-xs ml-1"},E3={key:0,class:"mt-2 text-sm text-gray-600"},R3={key:1,class:"space-y-3"},T3={class:"overflow-x-auto"},A3={class:"min-w-full divide-y divide-gray-200"},O3={class:"bg-white divide-y divide-gray-200"},N3={class:"px-4 py-2 text-sm"},I3={class:"px-4 py-2 text-sm"},P3={class:"px-4 py-2 text-sm font-mono"},D3={class:"px-4 py-2 text-sm"},M3={class:"px-4 py-2 text-sm font-medium"},L3={class:"bg-white rounded-lg shadow p-6"},U3={key:0,class:"space-y-3"},V3=["onClick"],F3={class:"flex justify-between items-center"},j3={class:"font-medium"},B3={class:"text-sm text-gray-600"},H3={class:"text-right"},q3={class:"font-medium"},K3={class:"text-sm text-gray-600"},G3={key:1,class:"text-center py-8 text-gray-500"};function W3(e,t,n,s,o,i){const l=wn("Navigation");return x(),_("div",U2,[ye(l),r("div",V2,[t[30]||(t[30]=r("div",{class:"flex justify-between items-center"},[r("h1",{class:"text-2xl font-bold text-gray-900"},"Bo co Thu ngn")],-1)),s.error?(x(),_("div",F2,[Te(v(s.error)+" ",1),r("button",{onClick:t[0]||(t[0]=(...a)=>s.clearError&&s.clearError(...a)),class:"float-right font-bold"},"")])):q("",!0),r("div",j2,[t[13]||(t[13]=r("h2",{class:"text-lg font-semibold mb-4"},"To bo co",-1)),r("div",B2,[r("div",H2,[t[10]||(t[10]=r("h3",{class:"font-medium mb-3"},"Bo co ca",-1)),F(r("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>s.selectedShiftForReport=a),class:"w-full border rounded px-3 py-2 mb-3"},[t[9]||(t[9]=r("option",{value:""},"Chn ca",-1)),(x(!0),_(oe,null,ue(s.availableShifts,a=>(x(),_("option",{key:a.id,value:a.id},v(a.type)+" - "+v(s.formatDate(a.started_at)),9,q2))),128))],512),[[xe,s.selectedShiftForReport]]),r("button",{onClick:t[2]||(t[2]=(...a)=>s.generateShiftReport&&s.generateShiftReport(...a)),disabled:!s.selectedShiftForReport||s.loading,class:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"}," To bo co ca ",8,K2)]),r("div",G2,[t[11]||(t[11]=r("h3",{class:"font-medium mb-3"},"Bo co ngy",-1)),F(r("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>s.selectedDate=a),type:"date",class:"w-full border rounded px-3 py-2 mb-3"},null,512),[[Z,s.selectedDate]]),r("button",{onClick:t[4]||(t[4]=(...a)=>s.generateDailyReport&&s.generateDailyReport(...a)),disabled:!s.selectedDate||s.loading,class:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50"}," To bo co ngy ",8,W2)]),r("div",z2,[t[12]||(t[12]=r("h3",{class:"font-medium mb-3"},"Bn giao ca",-1)),F(r("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>s.handoverForm.toCashierID=a),type:"text",placeholder:"ID thu ngn tip nhn",class:"w-full border rounded px-3 py-2 mb-2"},null,512),[[Z,s.handoverForm.toCashierID]]),F(r("textarea",{"onUpdate:modelValue":t[6]||(t[6]=a=>s.handoverForm.notes=a),placeholder:"Ghi ch bn giao",class:"w-full border rounded px-3 py-2 mb-3 h-20 resize-none"},null,512),[[Z,s.handoverForm.notes]]),r("button",{onClick:t[7]||(t[7]=(...a)=>s.performHandover&&s.performHandover(...a)),disabled:!s.handoverForm.toCashierID||s.loading,class:"w-full px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 disabled:opacity-50"}," Bn giao ca ",8,Q2)])])]),s.currentReport?(x(),_("div",J2,[r("div",X2,[r("h2",Y2,v(s.currentReport.title),1),r("button",{onClick:t[8]||(t[8]=(...a)=>s.printReport&&s.printReport(...a)),class:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700"},[...t[14]||(t[14]=[r("i",{class:"fas fa-print mr-2"},null,-1),Te("In bo co ",-1)])])]),r("div",Z2,[r("div",e3,[t[15]||(t[15]=r("h1",{class:"text-xl font-bold"},"QUN CAF",-1)),r("h2",t3,v(s.currentReport.title),1),r("p",n3,"Ngy to: "+v(s.formatDateTime(s.currentReport.generated_at)),1)]),r("div",s3,[r("div",r3,[r("div",o3,v(s.currentReport.total_orders),1),t[16]||(t[16]=r("div",{class:"text-sm text-gray-600"},"Tng n hng",-1))]),r("div",i3,[r("div",l3,v(s.formatCurrency(s.currentReport.total_revenue)),1),t[17]||(t[17]=r("div",{class:"text-sm text-gray-600"},"Tng doanh thu",-1))]),r("div",a3,[r("div",u3,v(s.formatCurrency(s.currentReport.cash_revenue)),1),t[18]||(t[18]=r("div",{class:"text-sm text-gray-600"},"Tin mt",-1))]),r("div",c3,[r("div",d3,v(s.formatCurrency(s.currentReport.transfer_revenue+s.currentReport.qr_revenue)),1),t[19]||(t[19]=r("div",{class:"text-sm text-gray-600"},"Chuyn khon",-1))])]),r("div",f3,[r("div",p3,[t[20]||(t[20]=r("h3",{class:"font-medium mb-2"},"Tin mt",-1)),r("div",h3,v(s.formatCurrency(s.currentReport.cash_revenue)),1),r("div",m3,v(s.getPercentage(s.currentReport.cash_revenue,s.currentReport.total_revenue))+"%",1)]),r("div",g3,[t[21]||(t[21]=r("h3",{class:"font-medium mb-2"},"Chuyn khon",-1)),r("div",y3,v(s.formatCurrency(s.currentReport.transfer_revenue)),1),r("div",v3,v(s.getPercentage(s.currentReport.transfer_revenue,s.currentReport.total_revenue))+"%",1)]),r("div",b3,[t[22]||(t[22]=r("h3",{class:"font-medium mb-2"},"QR Code",-1)),r("div",x3,v(s.formatCurrency(s.currentReport.qr_revenue)),1),r("div",_3,v(s.getPercentage(s.currentReport.qr_revenue,s.currentReport.total_revenue))+"%",1)])]),s.currentReport.reconciliation?(x(),_("div",w3,[t[26]||(t[26]=r("h3",{class:"font-medium mb-3"},"i sot tin mt",-1)),r("div",C3,[r("div",null,[t[23]||(t[23]=r("div",{class:"text-sm text-gray-600"},"Tin mt d kin",-1)),r("div",S3,v(s.formatCurrency(s.currentReport.reconciliation.expected_cash)),1)]),r("div",null,[t[24]||(t[24]=r("div",{class:"text-sm text-gray-600"},"Tin mt thc t",-1)),r("div",k3,v(s.formatCurrency(s.currentReport.reconciliation.actual_cash)),1)]),r("div",null,[t[25]||(t[25]=r("div",{class:"text-sm text-gray-600"},"Chnh lch",-1)),r("div",{class:ve(s.getDifferenceClass(s.currentReport.reconciliation.difference))},[Te(v(s.formatCurrency(s.currentReport.reconciliation.difference))+" ",1),r("span",$3,"("+v(s.currentReport.reconciliation.status)+")",1)],2)])]),s.currentReport.reconciliation.notes?(x(),_("div",E3," Ghi ch: "+v(s.currentReport.reconciliation.notes),1)):q("",!0)])):q("",!0),s.currentReport.audits&&s.currentReport.audits.length>0?(x(),_("div",R3,[t[28]||(t[28]=r("h3",{class:"font-medium"},"Nht k kim ton",-1)),r("div",T3,[r("table",A3,[t[27]||(t[27]=r("thead",{class:"bg-gray-50"},[r("tr",null,[r("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Thi gian"),r("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Hnh ng"),r("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Order ID"),r("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"L do"),r("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"S tin")])],-1)),r("tbody",O3,[(x(!0),_(oe,null,ue(s.currentReport.audits,a=>(x(),_("tr",{key:a.id},[r("td",N3,v(s.formatDateTime(a.audited_at)),1),r("td",I3,[r("span",{class:ve(s.getAuditActionClass(a.action))},v(s.getAuditActionText(a.action)),3)]),r("td",P3,v(a.order_id),1),r("td",D3,v(a.reason),1),r("td",M3,v(s.formatCurrency(a.amount)),1)]))),128))])])])])):q("",!0)])])):q("",!0),r("div",L3,[t[29]||(t[29]=r("h2",{class:"text-lg font-semibold mb-4"},"Lch s bo co",-1)),s.reports.length>0?(x(),_("div",U3,[(x(!0),_(oe,null,ue(s.reports,a=>(x(),_("div",{key:a.generated_at,class:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:u=>s.viewReport(a)},[r("div",F3,[r("div",null,[r("div",j3,v(s.getReportTitle(a)),1),r("div",B3,v(s.formatDateTime(a.generated_at)),1)]),r("div",H3,[r("div",q3,v(s.formatCurrency(a.total_revenue)),1),r("div",K3,v(a.total_orders)+" n",1)])])],8,V3))),128))])):(x(),_("div",G3," Cha c bo co no "))])])])}const z3=Xe(L2,[["render",W3]]),Et={async createUser(e){return(await X.post("/manager/users",e)).data},async getAllUsers(){return(await X.get("/manager/users")).data},async getUser(e){return(await X.get(`/manager/users/${e}`)).data},async updateUser(e,t){return(await X.put(`/manager/users/${e}`,t)).data},async resetPassword(e,t){return(await X.post(`/manager/users/${e}/reset-password`,{new_password:t})).data},async toggleUserStatus(e){return(await X.post(`/manager/users/${e}/toggle-status`)).data},async deleteUser(e){return(await X.delete(`/manager/users/${e}`)).data},async getUsersByRole(e){return(await X.get(`/manager/users/by-role?role=${e}`)).data},async getActiveUsers(){return(await X.get("/manager/users/active")).data},async getCurrentUser(){return(await X.get("/profile")).data},async changePassword(e,t){return(await X.post("/change-password",{current_password:e,new_password:t})).data}},Na=en("user",{state:()=>({users:[],currentUser:null,loading:!1,error:null}),actions:{async fetchUsers(){var e,t;this.loading=!0,this.error=null;try{this.users=await Et.getAllUsers()||[]}catch(n){this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti danh sch user",this.users=[]}finally{this.loading=!1}},async createUser(e){var t,n;this.error=null;try{const s=await Et.createUser(e);return this.users.unshift(s),s}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li to user",s}},async updateUser(e,t){var n,s;this.error=null;try{const o=await Et.updateUser(e,t);return this.updateUserInList(o),o}catch(o){throw this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li cp nht user",o}},async resetPassword(e,t){var n,s;this.error=null;try{return await Et.resetPassword(e,t),!0}catch(o){throw this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li reset password",o}},async toggleUserStatus(e){var t,n;this.error=null;try{const s=await Et.toggleUserStatus(e);return this.updateUserInList(s),s}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li thay i trng thi user",s}},async deleteUser(e){var t,n;this.error=null;try{return await Et.deleteUser(e),this.users=this.users.filter(s=>s.id!==e),!0}catch(s){throw this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li xa user",s}},async fetchUsersByRole(e){var t,n;this.loading=!0,this.error=null;try{this.users=await Et.getUsersByRole(e)||[]}catch(s){this.error=((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.error)||"Li ti users theo role",this.users=[]}finally{this.loading=!1}},async fetchActiveUsers(){var e,t;this.loading=!0,this.error=null;try{this.users=await Et.getActiveUsers()||[]}catch(n){this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti active users",this.users=[]}finally{this.loading=!1}},async fetchCurrentUser(){var e,t;this.error=null;try{return this.currentUser=await Et.getCurrentUser(),this.currentUser}catch(n){throw this.error=((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti thng tin user",n}},async changePassword(e,t){var n,s;this.error=null;try{return await Et.changePassword(e,t),!0}catch(o){throw this.error=((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.error)||"Li i mt khu",o}},updateUserInList(e){const t=this.users.findIndex(n=>n.id===e.id);t!==-1&&(this.users[t]=e)},setCurrentUser(e){this.currentUser=e},clearError(){this.error=null}},getters:{usersByRole:e=>t=>e.users.filter(n=>n.role===t),activeUsers:e=>e.users.filter(t=>t.active),inactiveUsers:e=>e.users.filter(t=>!t.active),managers:e=>e.users.filter(t=>t.role==="manager"),cashiers:e=>e.users.filter(t=>t.role==="cashier"),waiters:e=>e.users.filter(t=>t.role==="waiter")}});const Q3={class:"min-h-screen bg-gray-100"},J3={class:"p-4"},X3={class:"flex justify-between items-center mb-6"},Y3={class:"flex gap-2 mb-4 overflow-x-auto"},Z3=["onClick"],e4={key:0,class:"text-center py-10"},t4={key:1,class:"text-center py-10 text-gray-500"},n4={key:2,class:"grid gap-4"},s4={class:"flex justify-between items-start mb-3"},r4={class:"flex-1"},o4={class:"flex items-center gap-3 mb-2"},i4={class:"font-bold text-lg"},l4={class:"text-sm text-gray-600 mb-1"},a4={class:"text-sm text-gray-500"},u4={key:0,class:"text-sm text-gray-500"},c4={class:"flex gap-2"},d4=["onClick"],f4=["onClick"],p4=["onClick"],h4=["onClick"],m4={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},g4={class:"bg-white rounded-xl p-6 w-full max-w-md"},y4={class:"flex items-center"},v4={class:"flex gap-2"},b4={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},x4={class:"bg-white rounded-xl p-6 w-full max-w-md"},_4=["value"],w4={class:"flex items-center"},C4={class:"flex gap-2"},S4={key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},k4={class:"bg-white rounded-xl p-6 w-full max-w-md"},$4={class:"text-gray-600 mb-4"},E4={class:"flex gap-2"},R4={key:6,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},T4={class:"bg-white rounded-xl p-6 w-full max-w-md"},A4={class:"text-gray-600 mb-4"},O4={class:"flex gap-2"},N4={__name:"UserManagementView",setup(e){const t=Na(),n=H(!1),s=H(!1),o=H(!1),i=H(!1),l=H(null),a=H("ALL"),u=H({username:"",password:"",name:"",role:"",active:!0}),c=H({id:"",username:"",name:"",role:"",active:!0}),d=H({newPassword:""}),g=[{value:"ALL",label:"Tt c"},{value:"ACTIVE",label:"Hot ng"},{value:"INACTIVE",label:"Tm kha"},{value:"MANAGER",label:"Manager"},{value:"CASHIER",label:"Cashier"},{value:"WAITER",label:"Waiter"}],b=ne(()=>t.loading),w=ne(()=>t.users),E=ne(()=>{switch(a.value){case"ACTIVE":return w.value.filter(U=>U.active);case"INACTIVE":return w.value.filter(U=>!U.active);case"MANAGER":return w.value.filter(U=>U.role==="manager");case"CASHIER":return w.value.filter(U=>U.role==="cashier");case"WAITER":return w.value.filter(U=>U.role==="waiter");default:return w.value}});_t(async()=>{await t.fetchUsers()});const T=async()=>{var U,N;try{await t.createUser(u.value),n.value=!1,u.value={username:"",password:"",name:"",role:"",active:!0},alert("To user thnh cng!")}catch(ae){alert("Li: "+(((N=(U=ae.response)==null?void 0:U.data)==null?void 0:N.error)||ae.message))}},A=U=>{l.value=U,c.value={id:U.id,username:U.username,name:U.name,role:U.role,active:U.active},s.value=!0},z=async()=>{try{await t.updateUser(c.value.id,{name:c.value.name,role:c.value.role,active:c.value.active}),s.value=!1,l.value=null,alert("Cp nht user thnh cng!")}catch(U){alert("Li: "+U.message)}},K=U=>{l.value=U,d.value.newPassword="",o.value=!0},W=async()=>{try{await t.resetPassword(l.value.id,d.value.newPassword),o.value=!1,l.value=null,d.value.newPassword="",alert("Reset password thnh cng!")}catch(U){alert("Li: "+U.message)}},j=async U=>{try{await t.toggleUserStatus(U.id),alert(`${U.active?"Kha":"M kha"} user thnh cng!`)}catch(N){alert("Li: "+N.message)}},B=U=>{l.value=U,i.value=!0},D=async()=>{try{await t.deleteUser(l.value.id),i.value=!1,l.value=null,alert("Xa user thnh cng!")}catch(U){alert("Li: "+U.message)}},Y=U=>{switch(U){case"ACTIVE":return w.value.filter(N=>N.active).length;case"INACTIVE":return w.value.filter(N=>!N.active).length;case"MANAGER":return w.value.filter(N=>N.role==="manager").length;case"CASHIER":return w.value.filter(N=>N.role==="cashier").length;case"WAITER":return w.value.filter(N=>N.role==="waiter").length;default:return w.value.length}},M=U=>({manager:"bg-purple-100 text-purple-800",cashier:"bg-blue-100 text-blue-800",waiter:"bg-green-100 text-green-800"})[U]||"bg-gray-100 text-gray-800",L=U=>({manager:"Manager",cashier:"Cashier",waiter:"Waiter"})[U]||U,G=U=>new Date(U).toLocaleString("vi-VN");return(U,N)=>{var ae,$e;return x(),_("div",Q3,[ye(Ct),r("div",J3,[r("div",X3,[N[14]||(N[14]=r("h2",{class:"text-2xl font-bold text-gray-800"}," Qun l User",-1)),r("button",{onClick:N[0]||(N[0]=se=>n.value=!0),class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium"}," + Thm User ")]),r("div",Y3,[(x(),_(oe,null,ue(g,se=>r("button",{key:se.value,onClick:de=>a.value=se.value,class:ve([a.value===se.value?"bg-blue-500 text-white":"bg-white text-gray-700","px-4 py-2 rounded-lg font-medium whitespace-nowrap border"])},v(se.label)+" ("+v(Y(se.value))+") ",11,Z3)),64))]),b.value?(x(),_("div",e4,"ang ti...")):E.value.length===0?(x(),_("div",t4,"Khng c user no")):(x(),_("div",n4,[(x(!0),_(oe,null,ue(E.value,se=>(x(),_("div",{key:se.id,class:"bg-white rounded-xl p-4 shadow-sm"},[r("div",s4,[r("div",r4,[r("div",o4,[r("h3",i4,v(se.name),1),r("span",{class:ve([M(se.role),"px-2 py-1 rounded-full text-xs font-medium"])},v(L(se.role)),3),r("span",{class:ve([se.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800","px-2 py-1 rounded-full text-xs font-medium"])},v(se.active?"Hot ng":"Tm kha"),3)]),r("p",l4,"Username: "+v(se.username),1),r("p",a4,"To: "+v(G(se.created_at)),1),se.last_login?(x(),_("p",u4,"ng nhp cui: "+v(G(se.last_login)),1)):q("",!0)]),r("div",c4,[r("button",{onClick:de=>A(se),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm"},"  Sa ",8,d4),r("button",{onClick:de=>K(se),class:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded text-sm"},"  Reset PW ",8,f4),r("button",{onClick:de=>j(se),class:ve([se.active?"bg-orange-500 hover:bg-orange-600":"bg-green-500 hover:bg-green-600","text-white px-3 py-1 rounded text-sm"])},v(se.active?" Kha":" M"),11,p4),r("button",{onClick:de=>B(se),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm"},"  Xa ",8,h4)])])]))),128))])),n.value?(x(),_("div",m4,[r("div",g4,[N[22]||(N[22]=r("h3",{class:"text-xl font-bold mb-4"},"Thm User Mi",-1)),r("form",{onSubmit:Ae(T,["prevent"]),class:"space-y-4"},[r("div",null,[N[15]||(N[15]=r("label",{class:"block text-sm font-medium mb-2"},"Username *",-1)),F(r("input",{"onUpdate:modelValue":N[1]||(N[1]=se=>u.value.username=se),type:"text",required:"",minlength:"3",maxlength:"50",class:"w-full p-3 border rounded-lg",placeholder:"Nhp username"},null,512),[[Z,u.value.username]])]),r("div",null,[N[16]||(N[16]=r("label",{class:"block text-sm font-medium mb-2"},"Mt khu *",-1)),F(r("input",{"onUpdate:modelValue":N[2]||(N[2]=se=>u.value.password=se),type:"password",required:"",minlength:"6",class:"w-full p-3 border rounded-lg",placeholder:"Nhp mt khu"},null,512),[[Z,u.value.password]])]),r("div",null,[N[17]||(N[17]=r("label",{class:"block text-sm font-medium mb-2"},"Tn hin th *",-1)),F(r("input",{"onUpdate:modelValue":N[3]||(N[3]=se=>u.value.name=se),type:"text",required:"",minlength:"2",maxlength:"100",class:"w-full p-3 border rounded-lg",placeholder:"Nhp tn hin th"},null,512),[[Z,u.value.name]])]),r("div",null,[N[19]||(N[19]=r("label",{class:"block text-sm font-medium mb-2"},"Vai tr *",-1)),F(r("select",{"onUpdate:modelValue":N[4]||(N[4]=se=>u.value.role=se),required:"",class:"w-full p-3 border rounded-lg"},[...N[18]||(N[18]=[r("option",{value:""},"-- Chn vai tr --",-1),r("option",{value:"manager"},"Manager",-1),r("option",{value:"cashier"},"Cashier",-1),r("option",{value:"waiter"},"Waiter",-1)])],512),[[xe,u.value.role]])]),r("div",y4,[F(r("input",{"onUpdate:modelValue":N[5]||(N[5]=se=>u.value.active=se),type:"checkbox",id:"active",class:"mr-2"},null,512),[[Nr,u.value.active]]),N[20]||(N[20]=r("label",{for:"active",class:"text-sm"},"Kch hot ngay",-1))]),r("div",v4,[r("button",{type:"button",onClick:N[6]||(N[6]=se=>n.value=!1),class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"}," Hy "),N[21]||(N[21]=r("button",{type:"submit",class:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg"}," To User ",-1))])],32)])])):q("",!0),s.value?(x(),_("div",b4,[r("div",x4,[N[29]||(N[29]=r("h3",{class:"text-xl font-bold mb-4"},"Chnh sa User",-1)),r("form",{onSubmit:Ae(z,["prevent"]),class:"space-y-4"},[r("div",null,[N[23]||(N[23]=r("label",{class:"block text-sm font-medium mb-2"},"Username",-1)),r("input",{value:c.value.username,disabled:"",class:"w-full p-3 border rounded-lg bg-gray-100"},null,8,_4)]),r("div",null,[N[24]||(N[24]=r("label",{class:"block text-sm font-medium mb-2"},"Tn hin th *",-1)),F(r("input",{"onUpdate:modelValue":N[7]||(N[7]=se=>c.value.name=se),type:"text",required:"",minlength:"2",maxlength:"100",class:"w-full p-3 border rounded-lg",placeholder:"Nhp tn hin th"},null,512),[[Z,c.value.name]])]),r("div",null,[N[26]||(N[26]=r("label",{class:"block text-sm font-medium mb-2"},"Vai tr *",-1)),F(r("select",{"onUpdate:modelValue":N[8]||(N[8]=se=>c.value.role=se),required:"",class:"w-full p-3 border rounded-lg"},[...N[25]||(N[25]=[r("option",{value:"manager"},"Manager",-1),r("option",{value:"cashier"},"Cashier",-1),r("option",{value:"waiter"},"Waiter",-1)])],512),[[xe,c.value.role]])]),r("div",w4,[F(r("input",{"onUpdate:modelValue":N[9]||(N[9]=se=>c.value.active=se),type:"checkbox",id:"editActive",class:"mr-2"},null,512),[[Nr,c.value.active]]),N[27]||(N[27]=r("label",{for:"editActive",class:"text-sm"},"Kch hot",-1))]),r("div",C4,[r("button",{type:"button",onClick:N[10]||(N[10]=se=>s.value=!1),class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"}," Hy "),N[28]||(N[28]=r("button",{type:"submit",class:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg"}," Cp nht ",-1))])],32)])])):q("",!0),o.value?(x(),_("div",S4,[r("div",k4,[N[33]||(N[33]=r("h3",{class:"text-xl font-bold mb-4"},"Reset Mt khu",-1)),r("p",$4,[N[30]||(N[30]=Te("Reset mt khu cho: ",-1)),r("strong",null,v((ae=l.value)==null?void 0:ae.name),1)]),r("form",{onSubmit:Ae(W,["prevent"]),class:"space-y-4"},[r("div",null,[N[31]||(N[31]=r("label",{class:"block text-sm font-medium mb-2"},"Mt khu mi *",-1)),F(r("input",{"onUpdate:modelValue":N[11]||(N[11]=se=>d.value.newPassword=se),type:"password",required:"",minlength:"6",class:"w-full p-3 border rounded-lg",placeholder:"Nhp mt khu mi"},null,512),[[Z,d.value.newPassword]])]),r("div",E4,[r("button",{type:"button",onClick:N[12]||(N[12]=se=>o.value=!1),class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"}," Hy "),N[32]||(N[32]=r("button",{type:"submit",class:"flex-1 bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg"}," Reset Password ",-1))])],32)])])):q("",!0),i.value?(x(),_("div",R4,[r("div",T4,[N[36]||(N[36]=r("h3",{class:"text-xl font-bold mb-4 text-red-600"},"Xc nhn xa",-1)),r("p",A4,[N[34]||(N[34]=Te("Bn c chc chn mun xa user: ",-1)),r("strong",null,v(($e=l.value)==null?void 0:$e.name),1),N[35]||(N[35]=Te("?",-1))]),N[37]||(N[37]=r("p",{class:"text-sm text-red-500 mb-4"}," Hnh ng ny khng th hon tc!",-1)),r("div",O4,[r("button",{onClick:N[13]||(N[13]=se=>i.value=!1),class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"}," Hy "),r("button",{onClick:D,class:"flex-1 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg"}," Xa User ")])])])):q("",!0)])])}}},I4=Xe(N4,[["__scopeId","data-v-65d02e1c"]]);const P4={class:"min-h-screen bg-gray-100"},D4={class:"p-4"},M4={class:"max-w-2xl mx-auto space-y-6"},L4={class:"bg-white rounded-xl p-6 shadow-sm"},U4={key:0,class:"text-center py-4"},V4={key:1,class:"space-y-4"},F4={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},j4={class:"p-3 bg-gray-50 rounded-lg"},B4={class:"p-3 bg-gray-50 rounded-lg"},H4={class:"p-3 bg-gray-50 rounded-lg"},q4={class:"p-3 bg-gray-50 rounded-lg"},K4={class:"p-3 bg-gray-50 rounded-lg"},G4={class:"p-3 bg-gray-50 rounded-lg"},W4={class:"bg-white rounded-xl p-6 shadow-sm"},z4={key:0,class:"text-red-500 text-sm mt-1"},Q4={class:"flex gap-2"},J4=["disabled"],X4={__name:"ProfileView",setup(e){const t=Na(),n=H({currentPassword:"",newPassword:"",confirmPassword:""}),s=ne(()=>t.loading),o=ne(()=>t.currentUser),i=ne(()=>n.value.currentPassword&&n.value.newPassword&&n.value.confirmPassword&&n.value.newPassword===n.value.confirmPassword&&n.value.newPassword.length>=6);_t(async()=>{try{await t.fetchCurrentUser()}catch(g){console.error("Error loading profile:",g)}});const l=async()=>{if(!i.value){alert("Vui lng kim tra li thng tin mt khu");return}try{await t.changePassword(n.value.currentPassword,n.value.newPassword),alert("i mt khu thnh cng!"),a()}catch(g){alert("Li: "+g.message)}},a=()=>{n.value={currentPassword:"",newPassword:"",confirmPassword:""}},u=g=>({manager:"bg-purple-100 text-purple-800",cashier:"bg-blue-100 text-blue-800",waiter:"bg-green-100 text-green-800"})[g]||"bg-gray-100 text-gray-800",c=g=>({manager:"Manager",cashier:"Cashier",waiter:"Waiter"})[g]||g,d=g=>new Date(g).toLocaleString("vi-VN");return(g,b)=>(x(),_("div",P4,[ye(Ct),r("div",D4,[b[15]||(b[15]=r("div",{class:"flex justify-between items-center mb-6"},[r("h2",{class:"text-2xl font-bold text-gray-800"}," Thng tin c nhn")],-1)),r("div",M4,[r("div",L4,[b[9]||(b[9]=r("h3",{class:"text-lg font-bold mb-4"},"Thng tin ti khon",-1)),s.value?(x(),_("div",U4,"ang ti...")):o.value?(x(),_("div",V4,[r("div",F4,[r("div",null,[b[3]||(b[3]=r("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Username",-1)),r("div",j4,v(o.value.username),1)]),r("div",null,[b[4]||(b[4]=r("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tn hin th",-1)),r("div",B4,v(o.value.name),1)]),r("div",null,[b[5]||(b[5]=r("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Vai tr",-1)),r("div",H4,[r("span",{class:ve([u(o.value.role),"px-2 py-1 rounded-full text-xs font-medium"])},v(c(o.value.role)),3)])]),r("div",null,[b[6]||(b[6]=r("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Trng thi",-1)),r("div",q4,[r("span",{class:ve([o.value.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800","px-2 py-1 rounded-full text-xs font-medium"])},v(o.value.active?"Hot ng":"Tm kha"),3)])]),r("div",null,[b[7]||(b[7]=r("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ngy to",-1)),r("div",K4,v(d(o.value.created_at)),1)]),r("div",null,[b[8]||(b[8]=r("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ng nhp cui",-1)),r("div",G4,v(o.value.last_login?d(o.value.last_login):"Cha c"),1)])])])):q("",!0)]),r("div",W4,[b[13]||(b[13]=r("h3",{class:"text-lg font-bold mb-4"},"i mt khu",-1)),r("form",{onSubmit:Ae(l,["prevent"]),class:"space-y-4"},[r("div",null,[b[10]||(b[10]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mt khu hin ti *",-1)),F(r("input",{"onUpdate:modelValue":b[0]||(b[0]=w=>n.value.currentPassword=w),type:"password",required:"",class:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nhp mt khu hin ti"},null,512),[[Z,n.value.currentPassword]])]),r("div",null,[b[11]||(b[11]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mt khu mi *",-1)),F(r("input",{"onUpdate:modelValue":b[1]||(b[1]=w=>n.value.newPassword=w),type:"password",required:"",minlength:"6",class:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nhp mt khu mi (ti thiu 6 k t)"},null,512),[[Z,n.value.newPassword]])]),r("div",null,[b[12]||(b[12]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Xc nhn mt khu mi *",-1)),F(r("input",{"onUpdate:modelValue":b[2]||(b[2]=w=>n.value.confirmPassword=w),type:"password",required:"",class:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nhp li mt khu mi"},null,512),[[Z,n.value.confirmPassword]]),n.value.newPassword&&n.value.confirmPassword&&n.value.newPassword!==n.value.confirmPassword?(x(),_("div",z4," Mt khu xc nhn khng khp ")):q("",!0)]),r("div",Q4,[r("button",{type:"button",onClick:a,class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"}," Hy "),r("button",{type:"submit",disabled:!i.value,class:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed"}," i mt khu ",8,J4)])],32)]),b[14]||(b[14]=dt('<div class="bg-white rounded-xl p-6 shadow-sm" data-v-783e0a29><h3 class="text-lg font-bold mb-4" data-v-783e0a29>Thng k hot ng</h3><div class="grid grid-cols-1 md:grid-cols-3 gap-4" data-v-783e0a29><div class="text-center p-4 bg-blue-50 rounded-lg" data-v-783e0a29><div class="text-2xl font-bold text-blue-600" data-v-783e0a29>--</div><div class="text-sm text-gray-600" data-v-783e0a29>Orders hm nay</div></div><div class="text-center p-4 bg-green-50 rounded-lg" data-v-783e0a29><div class="text-2xl font-bold text-green-600" data-v-783e0a29>--</div><div class="text-sm text-gray-600" data-v-783e0a29>Ca lm vic</div></div><div class="text-center p-4 bg-purple-50 rounded-lg" data-v-783e0a29><div class="text-2xl font-bold text-purple-600" data-v-783e0a29>--</div><div class="text-sm text-gray-600" data-v-783e0a29>Doanh thu</div></div></div><p class="text-sm text-gray-500 text-center mt-4" data-v-783e0a29> * Thng k chi tit s c cp nht trong phin bn tip theo </p></div>',1))])])]))}},Y4=Xe(X4,[["__scopeId","data-v-783e0a29"]]),Z4=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:ah,meta:{requiresGuest:!0}},{path:"/dashboard",name:"Dashboard",component:$h,meta:{requiresAuth:!0}},{path:"/menu",name:"Menu",component:vm,meta:{requiresAuth:!0,requiresManager:!0}},{path:"/ingredients",name:"Ingredients",component:Kg,meta:{requiresAuth:!0,requiresManager:!0}},{path:"/facilities",name:"Facilities",component:yv,meta:{requiresAuth:!0,requiresManager:!0}},{path:"/expenses",name:"Expenses",component:X1,meta:{requiresAuth:!0,requiresManager:!0}},{path:"/orders",name:"Orders",component:T_,meta:{requiresAuth:!0}},{path:"/shifts",name:"Shifts",component:fw,meta:{requiresAuth:!0}},{path:"/users",name:"UserManagement",component:I4,meta:{requiresAuth:!0,requiresManager:!0}},{path:"/profile",name:"Profile",component:Y4,meta:{requiresAuth:!0}},{path:"/cashier",name:"CashierDashboard",component:M2,meta:{requiresAuth:!0,requiresCashier:!0}},{path:"/cashier/reports",name:"CashierReports",component:z3,meta:{requiresAuth:!0,requiresCashier:!0}}],Ia=bf({history:Jd(),routes:Z4});Ia.beforeEach((e,t,n)=>{var o,i;const s=Nn();e.meta.requiresAuth&&!s.isAuthenticated?n("/login"):e.meta.requiresGuest&&s.isAuthenticated||e.meta.requiresManager&&((o=s.user)==null?void 0:o.role)!=="manager"||e.meta.requiresCashier&&!["cashier","manager"].includes((i=s.user)==null?void 0:i.role)?n("/dashboard"):n()});const go=ed(fd),eC=rd();go.use(eC);go.use(Ia);go.mount("#app");
