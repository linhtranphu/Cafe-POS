(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function mo(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Ae={},Ns=[],St=()=>{},va=()=>!1,sr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),yo=e=>e.startsWith("onUpdate:"),Ue=Object.assign,bo=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ru=Object.prototype.hasOwnProperty,Ee=(e,t)=>Ru.call(e,t),ge=Array.isArray,Ds=e=>vn(e)==="[object Map]",Bs=e=>vn(e)==="[object Set]",Xo=e=>vn(e)==="[object Date]",we=e=>typeof e=="function",Fe=e=>typeof e=="string",Vt=e=>typeof e=="symbol",Re=e=>e!==null&&typeof e=="object",wa=e=>(Re(e)||we(e))&&we(e.then)&&we(e.catch),_a=Object.prototype.toString,vn=e=>_a.call(e),Au=e=>vn(e).slice(8,-1),Ca=e=>vn(e)==="[object Object]",nr=e=>Fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,en=mo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rr=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Iu=/-\w/g,wt=rr(e=>e.replace(Iu,t=>t.slice(1).toUpperCase())),Nu=/\B([A-Z])/g,ks=rr(e=>e.replace(Nu,"-$1").toLowerCase()),or=rr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Er=rr(e=>e?`on${or(e)}`:""),cs=(e,t)=>!Object.is(e,t),Dn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Sa=(e,t,s,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:s})},ir=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Du=e=>{const t=Fe(e)?Number(e):NaN;return isNaN(t)?e:t};let Yo;const ar=()=>Yo||(Yo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xo(e){if(ge(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],o=Fe(r)?Uu(r):xo(r);if(o)for(const i in o)t[i]=o[i]}return t}else if(Fe(e)||Re(e))return e}const Pu=/;(?![^(]*\))/g,Lu=/:([^]+)/,Mu=/\/\*[^]*?\*\//g;function Uu(e){const t={};return e.replace(Mu,"").split(Pu).forEach(s=>{if(s){const r=s.split(Lu);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function he(e){let t="";if(Fe(e))t=e;else if(ge(e))for(let s=0;s<e.length;s++){const r=he(e[s]);r&&(t+=r+" ")}else if(Re(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Fu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ju=mo(Fu);function $a(e){return!!e||e===""}function Vu(e,t){if(e.length!==t.length)return!1;let s=!0;for(let r=0;s&&r<e.length;r++)s=wn(e[r],t[r]);return s}function wn(e,t){if(e===t)return!0;let s=Xo(e),r=Xo(t);if(s||r)return s&&r?e.getTime()===t.getTime():!1;if(s=Vt(e),r=Vt(t),s||r)return e===t;if(s=ge(e),r=ge(t),s||r)return s&&r?Vu(e,t):!1;if(s=Re(e),r=Re(t),s||r){if(!s||!r)return!1;const o=Object.keys(e).length,i=Object.keys(t).length;if(o!==i)return!1;for(const a in e){const l=e.hasOwnProperty(a),u=t.hasOwnProperty(a);if(l&&!u||!l&&u||!wn(e[a],t[a]))return!1}}return String(e)===String(t)}function vo(e,t){return e.findIndex(s=>wn(s,t))}const ka=e=>!!(e&&e.__v_isRef===!0),h=e=>Fe(e)?e:e==null?"":ge(e)||Re(e)&&(e.toString===_a||!we(e.toString))?ka(e)?h(e.value):JSON.stringify(e,Ea,2):String(e),Ea=(e,t)=>ka(t)?Ea(e,t.value):Ds(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,o],i)=>(s[Tr(r,i)+" =>"]=o,s),{})}:Bs(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Tr(s))}:Vt(t)?Tr(t):Re(t)&&!ge(t)&&!Ca(t)?String(t):t,Tr=(e,t="")=>{var s;return Vt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Je;class Ta{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Je,!t&&Je&&(this.index=(Je.scopes||(Je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Je;try{return Je=this,t()}finally{Je=s}}}on(){++this._on===1&&(this.prevScope=Je,Je=this)}off(){this._on>0&&--this._on===0&&(Je=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Oa(e){return new Ta(e)}function Ra(){return Je}function Bu(e,t=!1){Je&&Je.cleanups.push(e)}let Ne;const Or=new WeakSet;class Aa{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Je&&Je.active&&Je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Or.has(this)&&(Or.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Na(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zo(this),Da(this);const t=Ne,s=$t;Ne=this,$t=!0;try{return this.fn()}finally{Pa(this),Ne=t,$t=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Co(t);this.deps=this.depsTail=void 0,Zo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Or.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){zr(this)&&this.run()}get dirty(){return zr(this)}}let Ia=0,tn,sn;function Na(e,t=!1){if(e.flags|=8,t){e.next=sn,sn=e;return}e.next=tn,tn=e}function wo(){Ia++}function _o(){if(--Ia>0)return;if(sn){let t=sn;for(sn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;tn;){let t=tn;for(tn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=s}}if(e)throw e}function Da(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Pa(e){let t,s=e.depsTail,r=s;for(;r;){const o=r.prevDep;r.version===-1?(r===s&&(s=o),Co(r),Hu(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=t,e.depsTail=s}function zr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(La(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function La(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===dn)||(e.globalVersion=dn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!zr(e))))return;e.flags|=2;const t=e.dep,s=Ne,r=$t;Ne=e,$t=!0;try{Da(e);const o=e.fn(e._value);(t.version===0||cs(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Ne=s,$t=r,Pa(e),e.flags&=-3}}function Co(e,t=!1){const{dep:s,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Co(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Hu(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let $t=!0;const Ma=[];function Yt(){Ma.push($t),$t=!1}function Zt(){const e=Ma.pop();$t=e===void 0?!0:e}function Zo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ne;Ne=void 0;try{t()}finally{Ne=s}}}let dn=0;class qu{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class So{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ne||!$t||Ne===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ne)s=this.activeLink=new qu(Ne,this),Ne.deps?(s.prevDep=Ne.depsTail,Ne.depsTail.nextDep=s,Ne.depsTail=s):Ne.deps=Ne.depsTail=s,Ua(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=Ne.depsTail,s.nextDep=void 0,Ne.depsTail.nextDep=s,Ne.depsTail=s,Ne.deps===s&&(Ne.deps=r)}return s}trigger(t){this.version++,dn++,this.notify(t)}notify(t){wo();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{_o()}}}function Ua(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Ua(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Hn=new WeakMap,Cs=Symbol(""),Qr=Symbol(""),fn=Symbol("");function Xe(e,t,s){if($t&&Ne){let r=Hn.get(e);r||Hn.set(e,r=new Map);let o=r.get(s);o||(r.set(s,o=new So),o.map=r,o.key=s),o.track()}}function zt(e,t,s,r,o,i){const a=Hn.get(e);if(!a){dn++;return}const l=u=>{u&&u.trigger()};if(wo(),t==="clear")a.forEach(l);else{const u=ge(e),d=u&&nr(s);if(u&&s==="length"){const c=Number(r);a.forEach((f,w)=>{(w==="length"||w===fn||!Vt(w)&&w>=c)&&l(f)})}else switch((s!==void 0||a.has(void 0))&&l(a.get(s)),d&&l(a.get(fn)),t){case"add":u?d&&l(a.get("length")):(l(a.get(Cs)),Ds(e)&&l(a.get(Qr)));break;case"delete":u||(l(a.get(Cs)),Ds(e)&&l(a.get(Qr)));break;case"set":Ds(e)&&l(a.get(Cs));break}}_o()}function Ku(e,t){const s=Hn.get(e);return s&&s.get(t)}function Ts(e){const t=$e(e);return t===e?t:(Xe(t,"iterate",fn),yt(e)?t:t.map(Et))}function lr(e){return Xe(e=$e(e),"iterate",fn),e}function os(e,t){return es(e)?Ms(Jt(e)?Et(t):t):Et(t)}const Gu={__proto__:null,[Symbol.iterator](){return Rr(this,Symbol.iterator,e=>os(this,e))},concat(...e){return Ts(this).concat(...e.map(t=>ge(t)?Ts(t):t))},entries(){return Rr(this,"entries",e=>(e[1]=os(this,e[1]),e))},every(e,t){return Bt(this,"every",e,t,void 0,arguments)},filter(e,t){return Bt(this,"filter",e,t,s=>s.map(r=>os(this,r)),arguments)},find(e,t){return Bt(this,"find",e,t,s=>os(this,s),arguments)},findIndex(e,t){return Bt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Bt(this,"findLast",e,t,s=>os(this,s),arguments)},findLastIndex(e,t){return Bt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Bt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ar(this,"includes",e)},indexOf(...e){return Ar(this,"indexOf",e)},join(e){return Ts(this).join(e)},lastIndexOf(...e){return Ar(this,"lastIndexOf",e)},map(e,t){return Bt(this,"map",e,t,void 0,arguments)},pop(){return Ws(this,"pop")},push(...e){return Ws(this,"push",e)},reduce(e,...t){return ei(this,"reduce",e,t)},reduceRight(e,...t){return ei(this,"reduceRight",e,t)},shift(){return Ws(this,"shift")},some(e,t){return Bt(this,"some",e,t,void 0,arguments)},splice(...e){return Ws(this,"splice",e)},toReversed(){return Ts(this).toReversed()},toSorted(e){return Ts(this).toSorted(e)},toSpliced(...e){return Ts(this).toSpliced(...e)},unshift(...e){return Ws(this,"unshift",e)},values(){return Rr(this,"values",e=>os(this,e))}};function Rr(e,t,s){const r=lr(e),o=r[t]();return r!==e&&!yt(e)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.done||(i.value=s(i.value)),i}),o}const Wu=Array.prototype;function Bt(e,t,s,r,o,i){const a=lr(e),l=a!==e&&!yt(e),u=a[t];if(u!==Wu[t]){const f=u.apply(e,i);return l?Et(f):f}let d=s;a!==e&&(l?d=function(f,w){return s.call(this,os(e,f),w,e)}:s.length>2&&(d=function(f,w){return s.call(this,f,w,e)}));const c=u.call(a,d,r);return l&&o?o(c):c}function ei(e,t,s,r){const o=lr(e);let i=s;return o!==e&&(yt(e)?s.length>3&&(i=function(a,l,u){return s.call(this,a,l,u,e)}):i=function(a,l,u){return s.call(this,a,os(e,l),u,e)}),o[t](i,...r)}function Ar(e,t,s){const r=$e(e);Xe(r,"iterate",fn);const o=r[t](...s);return(o===-1||o===!1)&&ur(s[0])?(s[0]=$e(s[0]),r[t](...s)):o}function Ws(e,t,s=[]){Yt(),wo();const r=$e(e)[t].apply(e,s);return _o(),Zt(),r}const zu=mo("__proto__,__v_isRef,__isVue"),Fa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Vt));function Qu(e){Vt(e)||(e=String(e));const t=$e(this);return Xe(t,"has",e),t.hasOwnProperty(e)}class ja{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,r){if(s==="__v_skip")return t.__v_skip;const o=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(o?i?oc:qa:i?Ha:Ba).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=ge(t);if(!o){let u;if(a&&(u=Gu[s]))return u;if(s==="hasOwnProperty")return Qu}const l=Reflect.get(t,s,Me(t)?t:r);if((Vt(s)?Fa.has(s):zu(s))||(o||Xe(t,"get",s),i))return l;if(Me(l)){const u=a&&nr(s)?l:l.value;return o&&Re(u)?Xr(u):u}return Re(l)?o?Xr(l):_n(l):l}}class Va extends ja{constructor(t=!1){super(!1,t)}set(t,s,r,o){let i=t[s];const a=ge(t)&&nr(s);if(!this._isShallow){const d=es(i);if(!yt(r)&&!es(r)&&(i=$e(i),r=$e(r)),!a&&Me(i)&&!Me(r))return d||(i.value=r),!0}const l=a?Number(s)<t.length:Ee(t,s),u=Reflect.set(t,s,r,Me(t)?t:o);return t===$e(o)&&(l?cs(r,i)&&zt(t,"set",s,r):zt(t,"add",s,r)),u}deleteProperty(t,s){const r=Ee(t,s);t[s];const o=Reflect.deleteProperty(t,s);return o&&r&&zt(t,"delete",s,void 0),o}has(t,s){const r=Reflect.has(t,s);return(!Vt(s)||!Fa.has(s))&&Xe(t,"has",s),r}ownKeys(t){return Xe(t,"iterate",ge(t)?"length":Cs),Reflect.ownKeys(t)}}class Ju extends ja{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Xu=new Va,Yu=new Ju,Zu=new Va(!0);const Jr=e=>e,Tn=e=>Reflect.getPrototypeOf(e);function ec(e,t,s){return function(...r){const o=this.__v_raw,i=$e(o),a=Ds(i),l=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,d=o[e](...r),c=s?Jr:t?Ms:Et;return!t&&Xe(i,"iterate",u?Qr:Cs),Ue(Object.create(d),{next(){const{value:f,done:w}=d.next();return w?{value:f,done:w}:{value:l?[c(f[0]),c(f[1])]:c(f),done:w}}})}}function On(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function tc(e,t){const s={get(o){const i=this.__v_raw,a=$e(i),l=$e(o);e||(cs(o,l)&&Xe(a,"get",o),Xe(a,"get",l));const{has:u}=Tn(a),d=t?Jr:e?Ms:Et;if(u.call(a,o))return d(i.get(o));if(u.call(a,l))return d(i.get(l));i!==a&&i.get(o)},get size(){const o=this.__v_raw;return!e&&Xe($e(o),"iterate",Cs),o.size},has(o){const i=this.__v_raw,a=$e(i),l=$e(o);return e||(cs(o,l)&&Xe(a,"has",o),Xe(a,"has",l)),o===l?i.has(o):i.has(o)||i.has(l)},forEach(o,i){const a=this,l=a.__v_raw,u=$e(l),d=t?Jr:e?Ms:Et;return!e&&Xe(u,"iterate",Cs),l.forEach((c,f)=>o.call(i,d(c),d(f),a))}};return Ue(s,e?{add:On("add"),set:On("set"),delete:On("delete"),clear:On("clear")}:{add(o){!t&&!yt(o)&&!es(o)&&(o=$e(o));const i=$e(this);return Tn(i).has.call(i,o)||(i.add(o),zt(i,"add",o,o)),this},set(o,i){!t&&!yt(i)&&!es(i)&&(i=$e(i));const a=$e(this),{has:l,get:u}=Tn(a);let d=l.call(a,o);d||(o=$e(o),d=l.call(a,o));const c=u.call(a,o);return a.set(o,i),d?cs(i,c)&&zt(a,"set",o,i):zt(a,"add",o,i),this},delete(o){const i=$e(this),{has:a,get:l}=Tn(i);let u=a.call(i,o);u||(o=$e(o),u=a.call(i,o)),l&&l.call(i,o);const d=i.delete(o);return u&&zt(i,"delete",o,void 0),d},clear(){const o=$e(this),i=o.size!==0,a=o.clear();return i&&zt(o,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=ec(o,e,t)}),s}function $o(e,t){const s=tc(e,t);return(r,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Ee(s,o)&&o in r?s:r,o,i)}const sc={get:$o(!1,!1)},nc={get:$o(!1,!0)},rc={get:$o(!0,!1)};const Ba=new WeakMap,Ha=new WeakMap,qa=new WeakMap,oc=new WeakMap;function ic(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ac(e){return e.__v_skip||!Object.isExtensible(e)?0:ic(Au(e))}function _n(e){return es(e)?e:ko(e,!1,Xu,sc,Ba)}function Ka(e){return ko(e,!1,Zu,nc,Ha)}function Xr(e){return ko(e,!0,Yu,rc,qa)}function ko(e,t,s,r,o){if(!Re(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=ac(e);if(i===0)return e;const a=o.get(e);if(a)return a;const l=new Proxy(e,i===2?r:s);return o.set(e,l),l}function Jt(e){return es(e)?Jt(e.__v_raw):!!(e&&e.__v_isReactive)}function es(e){return!!(e&&e.__v_isReadonly)}function yt(e){return!!(e&&e.__v_isShallow)}function ur(e){return e?!!e.__v_raw:!1}function $e(e){const t=e&&e.__v_raw;return t?$e(t):e}function Eo(e){return!Ee(e,"__v_skip")&&Object.isExtensible(e)&&Sa(e,"__v_skip",!0),e}const Et=e=>Re(e)?_n(e):e,Ms=e=>Re(e)?Xr(e):e;function Me(e){return e?e.__v_isRef===!0:!1}function Z(e){return Ga(e,!1)}function lc(e){return Ga(e,!0)}function Ga(e,t){return Me(e)?e:new uc(e,t)}class uc{constructor(t,s){this.dep=new So,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:$e(t),this._value=s?t:Et(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,r=this.__v_isShallow||yt(t)||es(t);t=r?t:$e(t),cs(t,s)&&(this._rawValue=t,this._value=r?t:Et(t),this.dep.trigger())}}function _e(e){return Me(e)?e.value:e}const cc={get:(e,t,s)=>t==="__v_raw"?e:_e(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const o=e[t];return Me(o)&&!Me(s)?(o.value=s,!0):Reflect.set(e,t,s,r)}};function Wa(e){return Jt(e)?e:new Proxy(e,cc)}function dc(e){const t=ge(e)?new Array(e.length):{};for(const s in e)t[s]=pc(e,s);return t}class fc{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=$e(t);let o=!0,i=t;if(!ge(t)||!nr(String(s)))do o=!ur(i)||yt(i);while(o&&(i=i.__v_raw));this._shallow=o}get value(){let t=this._object[this._key];return this._shallow&&(t=_e(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Me(this._raw[this._key])){const s=this._object[this._key];if(Me(s)){s.value=t;return}}this._object[this._key]=t}get dep(){return Ku(this._raw,this._key)}}function pc(e,t,s){return new fc(e,t,s)}class hc{constructor(t,s,r){this.fn=t,this.setter=s,this._value=void 0,this.dep=new So(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=dn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ne!==this)return Na(this,!0),!0}get value(){const t=this.dep.track();return La(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function gc(e,t,s=!1){let r,o;return we(e)?r=e:(r=e.get,o=e.set),new hc(r,o,s)}const Rn={},qn=new WeakMap;let xs;function mc(e,t=!1,s=xs){if(s){let r=qn.get(s);r||qn.set(s,r=[]),r.push(e)}}function yc(e,t,s=Ae){const{immediate:r,deep:o,once:i,scheduler:a,augmentJob:l,call:u}=s,d=N=>o?N:yt(N)||o===!1||o===0?Qt(N,1):Qt(N);let c,f,w,g,S=!1,T=!1;if(Me(e)?(f=()=>e.value,S=yt(e)):Jt(e)?(f=()=>d(e),S=!0):ge(e)?(T=!0,S=e.some(N=>Jt(N)||yt(N)),f=()=>e.map(N=>{if(Me(N))return N.value;if(Jt(N))return d(N);if(we(N))return u?u(N,2):N()})):we(e)?t?f=u?()=>u(e,2):e:f=()=>{if(w){Yt();try{w()}finally{Zt()}}const N=xs;xs=c;try{return u?u(e,3,[g]):e(g)}finally{xs=N}}:f=St,t&&o){const N=f,L=o===!0?1/0:o;f=()=>Qt(N(),L)}const k=Ra(),U=()=>{c.stop(),k&&k.active&&bo(k.effects,c)};if(i&&t){const N=t;t=(...L)=>{N(...L),U()}}let z=T?new Array(e.length).fill(Rn):Rn;const F=N=>{if(!(!(c.flags&1)||!c.dirty&&!N))if(t){const L=c.run();if(o||S||(T?L.some((V,R)=>cs(V,z[R])):cs(L,z))){w&&w();const V=xs;xs=c;try{const R=[L,z===Rn?void 0:T&&z[0]===Rn?[]:z,g];z=L,u?u(t,3,R):t(...R)}finally{xs=V}}}else c.run()};return l&&l(F),c=new Aa(f),c.scheduler=a?()=>a(F,!1):F,g=N=>mc(N,!1,c),w=c.onStop=()=>{const N=qn.get(c);if(N){if(u)u(N,4);else for(const L of N)L();qn.delete(c)}},t?r?F(!0):z=c.run():a?a(F.bind(null,!0),!0):c.run(),U.pause=c.pause.bind(c),U.resume=c.resume.bind(c),U.stop=U,U}function Qt(e,t=1/0,s){if(t<=0||!Re(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Me(e))Qt(e.value,t,s);else if(ge(e))for(let r=0;r<e.length;r++)Qt(e[r],t,s);else if(Bs(e)||Ds(e))e.forEach(r=>{Qt(r,t,s)});else if(Ca(e)){for(const r in e)Qt(e[r],t,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Qt(e[r],t,s)}return e}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Cn(e,t,s,r){try{return r?e(...r):e()}catch(o){cr(o,t,s)}}function Tt(e,t,s,r){if(we(e)){const o=Cn(e,t,s,r);return o&&wa(o)&&o.catch(i=>{cr(i,t,s)}),o}if(ge(e)){const o=[];for(let i=0;i<e.length;i++)o.push(Tt(e[i],t,s,r));return o}}function cr(e,t,s,r=!0){const o=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Ae;if(t){let l=t.parent;const u=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const c=l.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,u,d)===!1)return}l=l.parent}if(i){Yt(),Cn(i,null,10,[e,u,d]),Zt();return}}bc(e,s,o,r,a)}function bc(e,t,s,r=!0,o=!1){if(o)throw e;console.error(e)}const nt=[];let Ut=-1;const Ps=[];let is=null,As=0;const za=Promise.resolve();let Kn=null;function dr(e){const t=Kn||za;return e?t.then(this?e.bind(this):e):t}function xc(e){let t=Ut+1,s=nt.length;for(;t<s;){const r=t+s>>>1,o=nt[r],i=pn(o);i<e||i===e&&o.flags&2?t=r+1:s=r}return t}function To(e){if(!(e.flags&1)){const t=pn(e),s=nt[nt.length-1];!s||!(e.flags&2)&&t>=pn(s)?nt.push(e):nt.splice(xc(t),0,e),e.flags|=1,Qa()}}function Qa(){Kn||(Kn=za.then(Xa))}function vc(e){ge(e)?Ps.push(...e):is&&e.id===-1?is.splice(As+1,0,e):e.flags&1||(Ps.push(e),e.flags|=1),Qa()}function ti(e,t,s=Ut+1){for(;s<nt.length;s++){const r=nt[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;nt.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ja(e){if(Ps.length){const t=[...new Set(Ps)].sort((s,r)=>pn(s)-pn(r));if(Ps.length=0,is){is.push(...t);return}for(is=t,As=0;As<is.length;As++){const s=is[As];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}is=null,As=0}}const pn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Xa(e){const t=St;try{for(Ut=0;Ut<nt.length;Ut++){const s=nt[Ut];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),Cn(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;Ut<nt.length;Ut++){const s=nt[Ut];s&&(s.flags&=-2)}Ut=-1,nt.length=0,Ja(),Kn=null,(nt.length||Ps.length)&&Xa()}}let ht=null,Ya=null;function Gn(e){const t=ht;return ht=e,Ya=e&&e.type.__scopeId||null,t}function De(e,t=ht,s){if(!t||e._n)return e;const r=(...o)=>{r._d&&Qn(-1);const i=Gn(t);let a;try{a=e(...o)}finally{Gn(i),r._d&&Qn(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function ae(e,t){if(ht===null)return e;const s=yr(ht),r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[i,a,l,u=Ae]=t[o];i&&(we(i)&&(i={mounted:i,updated:i}),i.deep&&Qt(a),r.push({dir:i,instance:s,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function hs(e,t,s,r){const o=e.dirs,i=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];i&&(l.oldValue=i[a].value);let u=l.dir[r];u&&(Yt(),Tt(u,s,8,[e.el,l,e,t]),Zt())}}function Pn(e,t){if(Ye){let s=Ye.provides;const r=Ye.parent&&Ye.parent.provides;r===s&&(s=Ye.provides=Object.create(r)),s[e]=t}}function vt(e,t,s=!1){const r=Po();if(r||Ss){let o=Ss?Ss._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&we(t)?t.call(r&&r.proxy):t}}function wc(){return!!(Po()||Ss)}const _c=Symbol.for("v-scx"),Cc=()=>vt(_c);function ds(e,t,s){return Za(e,t,s)}function Za(e,t,s=Ae){const{immediate:r,deep:o,flush:i,once:a}=s,l=Ue({},s),u=t&&r||!t&&i!=="post";let d;if(mn){if(i==="sync"){const g=Cc();d=g.__watcherHandles||(g.__watcherHandles=[])}else if(!u){const g=()=>{};return g.stop=St,g.resume=St,g.pause=St,g}}const c=Ye;l.call=(g,S,T)=>Tt(g,c,S,T);let f=!1;i==="post"?l.scheduler=g=>{ft(g,c&&c.suspense)}:i!=="sync"&&(f=!0,l.scheduler=(g,S)=>{S?g():To(g)}),l.augmentJob=g=>{t&&(g.flags|=4),f&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const w=yc(e,t,l);return mn&&(d?d.push(w):u&&w()),w}function Sc(e,t,s){const r=this.proxy,o=Fe(e)?e.includes(".")?el(r,e):()=>r[e]:e.bind(r,r);let i;we(t)?i=t:(i=t.handler,s=t);const a=Sn(this),l=Za(o,i.bind(r),s);return a(),l}function el(e,t){const s=t.split(".");return()=>{let r=e;for(let o=0;o<s.length&&r;o++)r=r[s[o]];return r}}const $c=Symbol("_vte"),tl=e=>e.__isTeleport,Wt=Symbol("_leaveCb"),An=Symbol("_enterCb");function kc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ge(()=>{e.isMounted=!0}),cl(()=>{e.isUnmounting=!0}),e}const bt=[Function,Array],sl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:bt,onEnter:bt,onAfterEnter:bt,onEnterCancelled:bt,onBeforeLeave:bt,onLeave:bt,onAfterLeave:bt,onLeaveCancelled:bt,onBeforeAppear:bt,onAppear:bt,onAfterAppear:bt,onAppearCancelled:bt},nl=e=>{const t=e.subTree;return t.component?nl(t.component):t},Ec={name:"BaseTransition",props:sl,setup(e,{slots:t}){const s=Po(),r=kc();return()=>{const o=t.default&&il(t.default(),!0);if(!o||!o.length)return;const i=rl(o),a=$e(e),{mode:l}=a;if(r.isLeaving)return Ir(i);const u=si(i);if(!u)return Ir(i);let d=Yr(u,a,r,s,f=>d=f);u.type!==rt&&hn(u,d);let c=s.subTree&&si(s.subTree);if(c&&c.type!==rt&&!vs(c,u)&&nl(s).type!==rt){let f=Yr(c,a,r,s);if(hn(c,f),l==="out-in"&&u.type!==rt)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,s.job.flags&8||s.update(),delete f.afterLeave,c=void 0},Ir(i);l==="in-out"&&u.type!==rt?f.delayLeave=(w,g,S)=>{const T=ol(r,c);T[String(c.key)]=c,w[Wt]=()=>{g(),w[Wt]=void 0,delete d.delayedLeave,c=void 0},d.delayedLeave=()=>{S(),delete d.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function rl(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==rt){t=s;break}}return t}const Tc=Ec;function ol(e,t){const{leavingVNodes:s}=e;let r=s.get(t.type);return r||(r=Object.create(null),s.set(t.type,r)),r}function Yr(e,t,s,r,o){const{appear:i,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:d,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:w,onLeave:g,onAfterLeave:S,onLeaveCancelled:T,onBeforeAppear:k,onAppear:U,onAfterAppear:z,onAppearCancelled:F}=t,N=String(e.key),L=ol(s,e),V=(O,_)=>{O&&Tt(O,r,9,_)},R=(O,_)=>{const v=_[1];V(O,_),ge(O)?O.every(p=>p.length<=1)&&v():O.length<=1&&v()},B={mode:a,persisted:l,beforeEnter(O){let _=u;if(!s.isMounted)if(i)_=k||u;else return;O[Wt]&&O[Wt](!0);const v=L[N];v&&vs(e,v)&&v.el[Wt]&&v.el[Wt](),V(_,[O])},enter(O){let _=d,v=c,p=f;if(!s.isMounted)if(i)_=U||d,v=z||c,p=F||f;else return;let A=!1;const I=O[An]=P=>{A||(A=!0,P?V(p,[O]):V(v,[O]),B.delayedLeave&&B.delayedLeave(),O[An]=void 0)};_?R(_,[O,I]):I()},leave(O,_){const v=String(e.key);if(O[An]&&O[An](!0),s.isUnmounting)return _();V(w,[O]);let p=!1;const A=O[Wt]=I=>{p||(p=!0,_(),I?V(T,[O]):V(S,[O]),O[Wt]=void 0,L[v]===e&&delete L[v])};L[v]=e,g?R(g,[O,A]):A()},clone(O){const _=Yr(O,t,s,r,o);return o&&o(_),_}};return B}function Ir(e){if(fr(e))return e=fs(e),e.children=null,e}function si(e){if(!fr(e))return tl(e.type)&&e.children?rl(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&we(s.default))return s.default()}}function hn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,hn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function il(e,t=!1,s){let r=[],o=0;for(let i=0;i<e.length;i++){let a=e[i];const l=s==null?a.key:String(s)+String(a.key!=null?a.key:i);a.type===de?(a.patchFlag&128&&o++,r=r.concat(il(a.children,t,l))):(t||a.type!==rt)&&r.push(l!=null?fs(a,{key:l}):a)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function al(e,t){return we(e)?(()=>Ue({name:e.name},t,{setup:e}))():e}function ll(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Wn=new WeakMap;function nn(e,t,s,r,o=!1){if(ge(e)){e.forEach((S,T)=>nn(S,t&&(ge(t)?t[T]:t),s,r,o));return}if(rn(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&nn(e,t,s,r.component.subTree);return}const i=r.shapeFlag&4?yr(r.component):r.el,a=o?null:i,{i:l,r:u}=e,d=t&&t.r,c=l.refs===Ae?l.refs={}:l.refs,f=l.setupState,w=$e(f),g=f===Ae?va:S=>Ee(w,S);if(d!=null&&d!==u){if(ni(t),Fe(d))c[d]=null,g(d)&&(f[d]=null);else if(Me(d)){d.value=null;const S=t;S.k&&(c[S.k]=null)}}if(we(u))Cn(u,l,12,[a,c]);else{const S=Fe(u),T=Me(u);if(S||T){const k=()=>{if(e.f){const U=S?g(u)?f[u]:c[u]:u.value;if(o)ge(U)&&bo(U,i);else if(ge(U))U.includes(i)||U.push(i);else if(S)c[u]=[i],g(u)&&(f[u]=c[u]);else{const z=[i];u.value=z,e.k&&(c[e.k]=z)}}else S?(c[u]=a,g(u)&&(f[u]=a)):T&&(u.value=a,e.k&&(c[e.k]=a))};if(a){const U=()=>{k(),Wn.delete(e)};U.id=-1,Wn.set(e,U),ft(U,s)}else ni(e),k()}}}function ni(e){const t=Wn.get(e);t&&(t.flags|=8,Wn.delete(e))}ar().requestIdleCallback;ar().cancelIdleCallback;const rn=e=>!!e.type.__asyncLoader,fr=e=>e.type.__isKeepAlive;function Oc(e,t){ul(e,"a",t)}function Rc(e,t){ul(e,"da",t)}function ul(e,t,s=Ye){const r=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(pr(t,r,s),s){let o=s.parent;for(;o&&o.parent;)fr(o.parent.vnode)&&Ac(r,t,s,o),o=o.parent}}function Ac(e,t,s,r){const o=pr(t,e,r,!0);hr(()=>{bo(r[t],o)},s)}function pr(e,t,s=Ye,r=!1){if(s){const o=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...a)=>{Yt();const l=Sn(s),u=Tt(t,s,e,a);return l(),Zt(),u});return r?o.unshift(i):o.push(i),i}}const ts=e=>(t,s=Ye)=>{(!mn||e==="sp")&&pr(e,(...r)=>t(...r),s)},Ic=ts("bm"),Ge=ts("m"),Nc=ts("bu"),Dc=ts("u"),cl=ts("bum"),hr=ts("um"),Pc=ts("sp"),Lc=ts("rtg"),Mc=ts("rtc");function Uc(e,t=Ye){pr("ec",e,t)}const dl="components";function Oo(e,t){return jc(dl,e,!0,t)||e}const Fc=Symbol.for("v-ndc");function jc(e,t,s=!0,r=!1){const o=ht||Ye;if(o){const i=o.type;if(e===dl){const l=Sd(i,!1);if(l&&(l===t||l===wt(t)||l===or(wt(t))))return i}const a=ri(o[e]||i[e],t)||ri(o.appContext[e],t);return!a&&r?i:a}}function ri(e,t){return e&&(e[t]||e[wt(t)]||e[or(wt(t))])}function me(e,t,s,r){let o;const i=s&&s[r],a=ge(e);if(a||Fe(e)){const l=a&&Jt(e);let u=!1,d=!1;l&&(u=!yt(e),d=es(e),e=lr(e)),o=new Array(e.length);for(let c=0,f=e.length;c<f;c++)o[c]=t(u?d?Ms(Et(e[c])):Et(e[c]):e[c],c,void 0,i&&i[c])}else if(typeof e=="number"){o=new Array(e);for(let l=0;l<e;l++)o[l]=t(l+1,l,void 0,i&&i[l])}else if(Re(e))if(e[Symbol.iterator])o=Array.from(e,(l,u)=>t(l,u,void 0,i&&i[u]));else{const l=Object.keys(e);o=new Array(l.length);for(let u=0,d=l.length;u<d;u++){const c=l[u];o[u]=t(e[c],c,u,i&&i[u])}}else o=[];return s&&(s[r]=o),o}const Zr=e=>e?Ol(e)?yr(e):Zr(e.parent):null,on=Ue(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Zr(e.parent),$root:e=>Zr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ro(e),$forceUpdate:e=>e.f||(e.f=()=>{To(e.update)}),$nextTick:e=>e.n||(e.n=dr.bind(e.proxy)),$watch:e=>Sc.bind(e)}),Nr=(e,t)=>e!==Ae&&!e.__isScriptSetup&&Ee(e,t),Vc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:r,data:o,props:i,accessCache:a,type:l,appContext:u}=e;if(t[0]!=="$"){const w=a[t];if(w!==void 0)switch(w){case 1:return r[t];case 2:return o[t];case 4:return s[t];case 3:return i[t]}else{if(Nr(r,t))return a[t]=1,r[t];if(o!==Ae&&Ee(o,t))return a[t]=2,o[t];if(Ee(i,t))return a[t]=3,i[t];if(s!==Ae&&Ee(s,t))return a[t]=4,s[t];eo&&(a[t]=0)}}const d=on[t];let c,f;if(d)return t==="$attrs"&&Xe(e.attrs,"get",""),d(e);if((c=l.__cssModules)&&(c=c[t]))return c;if(s!==Ae&&Ee(s,t))return a[t]=4,s[t];if(f=u.config.globalProperties,Ee(f,t))return f[t]},set({_:e},t,s){const{data:r,setupState:o,ctx:i}=e;return Nr(o,t)?(o[t]=s,!0):r!==Ae&&Ee(r,t)?(r[t]=s,!0):Ee(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:o,props:i,type:a}},l){let u;return!!(s[l]||e!==Ae&&l[0]!=="$"&&Ee(e,l)||Nr(t,l)||Ee(i,l)||Ee(r,l)||Ee(on,l)||Ee(o.config.globalProperties,l)||(u=a.__cssModules)&&u[l])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ee(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function oi(e){return ge(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let eo=!0;function Bc(e){const t=Ro(e),s=e.proxy,r=e.ctx;eo=!1,t.beforeCreate&&ii(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:a,watch:l,provide:u,inject:d,created:c,beforeMount:f,mounted:w,beforeUpdate:g,updated:S,activated:T,deactivated:k,beforeDestroy:U,beforeUnmount:z,destroyed:F,unmounted:N,render:L,renderTracked:V,renderTriggered:R,errorCaptured:B,serverPrefetch:O,expose:_,inheritAttrs:v,components:p,directives:A,filters:I}=t;if(d&&Hc(d,r,null),a)for(const E in a){const j=a[E];we(j)&&(r[E]=j.bind(s))}if(o){const E=o.call(s,s);Re(E)&&(e.data=_n(E))}if(eo=!0,i)for(const E in i){const j=i[E],$=we(j)?j.bind(s,s):we(j.get)?j.get.bind(s,s):St,m=!we(j)&&we(j.set)?j.set.bind(s):St,oe=J({get:$,set:m});Object.defineProperty(r,E,{enumerable:!0,configurable:!0,get:()=>oe.value,set:xe=>oe.value=xe})}if(l)for(const E in l)fl(l[E],r,s,E);if(u){const E=we(u)?u.call(s):u;Reflect.ownKeys(E).forEach(j=>{Pn(j,E[j])})}c&&ii(c,e,"c");function Y(E,j){ge(j)?j.forEach($=>E($.bind(s))):j&&E(j.bind(s))}if(Y(Ic,f),Y(Ge,w),Y(Nc,g),Y(Dc,S),Y(Oc,T),Y(Rc,k),Y(Uc,B),Y(Mc,V),Y(Lc,R),Y(cl,z),Y(hr,N),Y(Pc,O),ge(_))if(_.length){const E=e.exposed||(e.exposed={});_.forEach(j=>{Object.defineProperty(E,j,{get:()=>s[j],set:$=>s[j]=$,enumerable:!0})})}else e.exposed||(e.exposed={});L&&e.render===St&&(e.render=L),v!=null&&(e.inheritAttrs=v),p&&(e.components=p),A&&(e.directives=A),O&&ll(e)}function Hc(e,t,s=St){ge(e)&&(e=to(e));for(const r in e){const o=e[r];let i;Re(o)?"default"in o?i=vt(o.from||r,o.default,!0):i=vt(o.from||r):i=vt(o),Me(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[r]=i}}function ii(e,t,s){Tt(ge(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function fl(e,t,s,r){let o=r.includes(".")?el(s,r):()=>s[r];if(Fe(e)){const i=t[e];we(i)&&ds(o,i)}else if(we(e))ds(o,e.bind(s));else if(Re(e))if(ge(e))e.forEach(i=>fl(i,t,s,r));else{const i=we(e.handler)?e.handler.bind(s):t[e.handler];we(i)&&ds(o,i,e)}}function Ro(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,l=i.get(t);let u;return l?u=l:!o.length&&!s&&!r?u=t:(u={},o.length&&o.forEach(d=>zn(u,d,a,!0)),zn(u,t,a)),Re(t)&&i.set(t,u),u}function zn(e,t,s,r=!1){const{mixins:o,extends:i}=t;i&&zn(e,i,s,!0),o&&o.forEach(a=>zn(e,a,s,!0));for(const a in t)if(!(r&&a==="expose")){const l=qc[a]||s&&s[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const qc={data:ai,props:li,emits:li,methods:Zs,computed:Zs,beforeCreate:tt,created:tt,beforeMount:tt,mounted:tt,beforeUpdate:tt,updated:tt,beforeDestroy:tt,beforeUnmount:tt,destroyed:tt,unmounted:tt,activated:tt,deactivated:tt,errorCaptured:tt,serverPrefetch:tt,components:Zs,directives:Zs,watch:Gc,provide:ai,inject:Kc};function ai(e,t){return t?e?function(){return Ue(we(e)?e.call(this,this):e,we(t)?t.call(this,this):t)}:t:e}function Kc(e,t){return Zs(to(e),to(t))}function to(e){if(ge(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function tt(e,t){return e?[...new Set([].concat(e,t))]:t}function Zs(e,t){return e?Ue(Object.create(null),e,t):t}function li(e,t){return e?ge(e)&&ge(t)?[...new Set([...e,...t])]:Ue(Object.create(null),oi(e),oi(t??{})):t}function Gc(e,t){if(!e)return t;if(!t)return e;const s=Ue(Object.create(null),e);for(const r in t)s[r]=tt(e[r],t[r]);return s}function pl(){return{app:null,config:{isNativeTag:va,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wc=0;function zc(e,t){return function(r,o=null){we(r)||(r=Ue({},r)),o!=null&&!Re(o)&&(o=null);const i=pl(),a=new WeakSet,l=[];let u=!1;const d=i.app={_uid:Wc++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:kd,get config(){return i.config},set config(c){},use(c,...f){return a.has(c)||(c&&we(c.install)?(a.add(c),c.install(d,...f)):we(c)&&(a.add(c),c(d,...f))),d},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),d},component(c,f){return f?(i.components[c]=f,d):i.components[c]},directive(c,f){return f?(i.directives[c]=f,d):i.directives[c]},mount(c,f,w){if(!u){const g=d._ceVNode||ye(r,o);return g.appContext=i,w===!0?w="svg":w===!1&&(w=void 0),f&&t?t(g,c):e(g,c,w),u=!0,d._container=c,c.__vue_app__=d,yr(g.component)}},onUnmount(c){l.push(c)},unmount(){u&&(Tt(l,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(c,f){return i.provides[c]=f,d},runWithContext(c){const f=Ss;Ss=d;try{return c()}finally{Ss=f}}};return d}}let Ss=null;const Qc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${wt(t)}Modifiers`]||e[`${ks(t)}Modifiers`];function Jc(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||Ae;let o=s;const i=t.startsWith("update:"),a=i&&Qc(r,t.slice(7));a&&(a.trim&&(o=s.map(c=>Fe(c)?c.trim():c)),a.number&&(o=s.map(ir)));let l,u=r[l=Er(t)]||r[l=Er(wt(t))];!u&&i&&(u=r[l=Er(ks(t))]),u&&Tt(u,e,6,o);const d=r[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Tt(d,e,6,o)}}const Xc=new WeakMap;function hl(e,t,s=!1){const r=s?Xc:t.emitsCache,o=r.get(e);if(o!==void 0)return o;const i=e.emits;let a={},l=!1;if(!we(e)){const u=d=>{const c=hl(d,t,!0);c&&(l=!0,Ue(a,c))};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!l?(Re(e)&&r.set(e,null),null):(ge(i)?i.forEach(u=>a[u]=null):Ue(a,i),Re(e)&&r.set(e,a),a)}function gr(e,t){return!e||!sr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ee(e,t[0].toLowerCase()+t.slice(1))||Ee(e,ks(t))||Ee(e,t))}function Dr(e){const{type:t,vnode:s,proxy:r,withProxy:o,propsOptions:[i],slots:a,attrs:l,emit:u,render:d,renderCache:c,props:f,data:w,setupState:g,ctx:S,inheritAttrs:T}=e,k=Gn(e);let U,z;try{if(s.shapeFlag&4){const N=o||r,L=N;U=Ft(d.call(L,N,c,f,g,w,S)),z=l}else{const N=t;U=Ft(N.length>1?N(f,{attrs:l,slots:a,emit:u}):N(f,null)),z=t.props?l:Yc(l)}}catch(N){an.length=0,cr(N,e,1),U=ye(rt)}let F=U;if(z&&T!==!1){const N=Object.keys(z),{shapeFlag:L}=F;N.length&&L&7&&(i&&N.some(yo)&&(z=Zc(z,i)),F=fs(F,z,!1,!0))}return s.dirs&&(F=fs(F,null,!1,!0),F.dirs=F.dirs?F.dirs.concat(s.dirs):s.dirs),s.transition&&hn(F,s.transition),U=F,Gn(k),U}const Yc=e=>{let t;for(const s in e)(s==="class"||s==="style"||sr(s))&&((t||(t={}))[s]=e[s]);return t},Zc=(e,t)=>{const s={};for(const r in e)(!yo(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function ed(e,t,s){const{props:r,children:o,component:i}=e,{props:a,children:l,patchFlag:u}=t,d=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&u>=0){if(u&1024)return!0;if(u&16)return r?ui(r,a,d):!!a;if(u&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const w=c[f];if(a[w]!==r[w]&&!gr(d,w))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?ui(r,a,d):!0:!!a;return!1}function ui(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!gr(s,i))return!0}return!1}function td({vnode:e,parent:t},s){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=s,t=t.parent;else break}}const gl={},ml=()=>Object.create(gl),yl=e=>Object.getPrototypeOf(e)===gl;function sd(e,t,s,r=!1){const o={},i=ml();e.propsDefaults=Object.create(null),bl(e,t,o,i);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);s?e.props=r?o:Ka(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function nd(e,t,s,r){const{props:o,attrs:i,vnode:{patchFlag:a}}=e,l=$e(o),[u]=e.propsOptions;let d=!1;if((r||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let w=c[f];if(gr(e.emitsOptions,w))continue;const g=t[w];if(u)if(Ee(i,w))g!==i[w]&&(i[w]=g,d=!0);else{const S=wt(w);o[S]=so(u,l,S,g,e,!1)}else g!==i[w]&&(i[w]=g,d=!0)}}}else{bl(e,t,o,i)&&(d=!0);let c;for(const f in l)(!t||!Ee(t,f)&&((c=ks(f))===f||!Ee(t,c)))&&(u?s&&(s[f]!==void 0||s[c]!==void 0)&&(o[f]=so(u,l,f,void 0,e,!0)):delete o[f]);if(i!==l)for(const f in i)(!t||!Ee(t,f))&&(delete i[f],d=!0)}d&&zt(e.attrs,"set","")}function bl(e,t,s,r){const[o,i]=e.propsOptions;let a=!1,l;if(t)for(let u in t){if(en(u))continue;const d=t[u];let c;o&&Ee(o,c=wt(u))?!i||!i.includes(c)?s[c]=d:(l||(l={}))[c]=d:gr(e.emitsOptions,u)||(!(u in r)||d!==r[u])&&(r[u]=d,a=!0)}if(i){const u=$e(s),d=l||Ae;for(let c=0;c<i.length;c++){const f=i[c];s[f]=so(o,u,f,d[f],e,!Ee(d,f))}}return a}function so(e,t,s,r,o,i){const a=e[s];if(a!=null){const l=Ee(a,"default");if(l&&r===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&we(u)){const{propsDefaults:d}=o;if(s in d)r=d[s];else{const c=Sn(o);r=d[s]=u.call(null,t),c()}}else r=u;o.ce&&o.ce._setProp(s,r)}a[0]&&(i&&!l?r=!1:a[1]&&(r===""||r===ks(s))&&(r=!0))}return r}const rd=new WeakMap;function xl(e,t,s=!1){const r=s?rd:t.propsCache,o=r.get(e);if(o)return o;const i=e.props,a={},l=[];let u=!1;if(!we(e)){const c=f=>{u=!0;const[w,g]=xl(f,t,!0);Ue(a,w),g&&l.push(...g)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!u)return Re(e)&&r.set(e,Ns),Ns;if(ge(i))for(let c=0;c<i.length;c++){const f=wt(i[c]);ci(f)&&(a[f]=Ae)}else if(i)for(const c in i){const f=wt(c);if(ci(f)){const w=i[c],g=a[f]=ge(w)||we(w)?{type:w}:Ue({},w),S=g.type;let T=!1,k=!0;if(ge(S))for(let U=0;U<S.length;++U){const z=S[U],F=we(z)&&z.name;if(F==="Boolean"){T=!0;break}else F==="String"&&(k=!1)}else T=we(S)&&S.name==="Boolean";g[0]=T,g[1]=k,(T||Ee(g,"default"))&&l.push(f)}}const d=[a,l];return Re(e)&&r.set(e,d),d}function ci(e){return e[0]!=="$"&&!en(e)}const Ao=e=>e==="_"||e==="_ctx"||e==="$stable",Io=e=>ge(e)?e.map(Ft):[Ft(e)],od=(e,t,s)=>{if(t._n)return t;const r=De((...o)=>Io(t(...o)),s);return r._c=!1,r},vl=(e,t,s)=>{const r=e._ctx;for(const o in e){if(Ao(o))continue;const i=e[o];if(we(i))t[o]=od(o,i,r);else if(i!=null){const a=Io(i);t[o]=()=>a}}},wl=(e,t)=>{const s=Io(t);e.slots.default=()=>s},_l=(e,t,s)=>{for(const r in t)(s||!Ao(r))&&(e[r]=t[r])},id=(e,t,s)=>{const r=e.slots=ml();if(e.vnode.shapeFlag&32){const o=t._;o?(_l(r,t,s),s&&Sa(r,"_",o,!0)):vl(t,r)}else t&&wl(e,t)},ad=(e,t,s)=>{const{vnode:r,slots:o}=e;let i=!0,a=Ae;if(r.shapeFlag&32){const l=t._;l?s&&l===1?i=!1:_l(o,t,s):(i=!t.$stable,vl(t,o)),a=t}else t&&(wl(e,t),a={default:1});if(i)for(const l in o)!Ao(l)&&a[l]==null&&delete o[l]},ft=fd;function ld(e){return ud(e)}function ud(e,t){const s=ar();s.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:a,createText:l,createComment:u,setText:d,setElementText:c,parentNode:f,nextSibling:w,setScopeId:g=St,insertStaticContent:S}=e,T=(x,C,D,ee=null,G=null,te=null,le=void 0,ie=null,re=!!C.dynamicChildren)=>{if(x===C)return;x&&!vs(x,C)&&(ee=q(x),xe(x,G,te,!0),x=null),C.patchFlag===-2&&(re=!1,C.dynamicChildren=null);const{type:se,ref:be,shapeFlag:ce}=C;switch(se){case mr:k(x,C,D,ee);break;case rt:U(x,C,D,ee);break;case Ln:x==null&&z(C,D,ee,le);break;case de:p(x,C,D,ee,G,te,le,ie,re);break;default:ce&1?L(x,C,D,ee,G,te,le,ie,re):ce&6?A(x,C,D,ee,G,te,le,ie,re):(ce&64||ce&128)&&se.process(x,C,D,ee,G,te,le,ie,re,K)}be!=null&&G?nn(be,x&&x.ref,te,C||x,!C):be==null&&x&&x.ref!=null&&nn(x.ref,null,te,x,!0)},k=(x,C,D,ee)=>{if(x==null)r(C.el=l(C.children),D,ee);else{const G=C.el=x.el;C.children!==x.children&&d(G,C.children)}},U=(x,C,D,ee)=>{x==null?r(C.el=u(C.children||""),D,ee):C.el=x.el},z=(x,C,D,ee)=>{[x.el,x.anchor]=S(x.children,C,D,ee,x.el,x.anchor)},F=({el:x,anchor:C},D,ee)=>{let G;for(;x&&x!==C;)G=w(x),r(x,D,ee),x=G;r(C,D,ee)},N=({el:x,anchor:C})=>{let D;for(;x&&x!==C;)D=w(x),o(x),x=D;o(C)},L=(x,C,D,ee,G,te,le,ie,re)=>{if(C.type==="svg"?le="svg":C.type==="math"&&(le="mathml"),x==null)V(C,D,ee,G,te,le,ie,re);else{const se=x.el&&x.el._isVueCE?x.el:null;try{se&&se._beginPatch(),O(x,C,G,te,le,ie,re)}finally{se&&se._endPatch()}}},V=(x,C,D,ee,G,te,le,ie)=>{let re,se;const{props:be,shapeFlag:ce,transition:pe,dirs:ve}=x;if(re=x.el=a(x.type,te,be&&be.is,be),ce&8?c(re,x.children):ce&16&&B(x.children,re,null,ee,G,Pr(x,te),le,ie),ve&&hs(x,null,ee,"created"),R(re,x,x.scopeId,le,ee),be){for(const Ie in be)Ie!=="value"&&!en(Ie)&&i(re,Ie,null,be[Ie],te,ee);"value"in be&&i(re,"value",null,be.value,te),(se=be.onVnodeBeforeMount)&&Dt(se,ee,x)}ve&&hs(x,null,ee,"beforeMount");const Se=cd(G,pe);Se&&pe.beforeEnter(re),r(re,C,D),((se=be&&be.onVnodeMounted)||Se||ve)&&ft(()=>{se&&Dt(se,ee,x),Se&&pe.enter(re),ve&&hs(x,null,ee,"mounted")},G)},R=(x,C,D,ee,G)=>{if(D&&g(x,D),ee)for(let te=0;te<ee.length;te++)g(x,ee[te]);if(G){let te=G.subTree;if(C===te||kl(te.type)&&(te.ssContent===C||te.ssFallback===C)){const le=G.vnode;R(x,le,le.scopeId,le.slotScopeIds,G.parent)}}},B=(x,C,D,ee,G,te,le,ie,re=0)=>{for(let se=re;se<x.length;se++){const be=x[se]=ie?as(x[se]):Ft(x[se]);T(null,be,C,D,ee,G,te,le,ie)}},O=(x,C,D,ee,G,te,le)=>{const ie=C.el=x.el;let{patchFlag:re,dynamicChildren:se,dirs:be}=C;re|=x.patchFlag&16;const ce=x.props||Ae,pe=C.props||Ae;let ve;if(D&&gs(D,!1),(ve=pe.onVnodeBeforeUpdate)&&Dt(ve,D,C,x),be&&hs(C,x,D,"beforeUpdate"),D&&gs(D,!0),(ce.innerHTML&&pe.innerHTML==null||ce.textContent&&pe.textContent==null)&&c(ie,""),se?_(x.dynamicChildren,se,ie,D,ee,Pr(C,G),te):le||j(x,C,ie,null,D,ee,Pr(C,G),te,!1),re>0){if(re&16)v(ie,ce,pe,D,G);else if(re&2&&ce.class!==pe.class&&i(ie,"class",null,pe.class,G),re&4&&i(ie,"style",ce.style,pe.style,G),re&8){const Se=C.dynamicProps;for(let Ie=0;Ie<Se.length;Ie++){const Te=Se[Ie],it=ce[Te],Qe=pe[Te];(Qe!==it||Te==="value")&&i(ie,Te,it,Qe,G,D)}}re&1&&x.children!==C.children&&c(ie,C.children)}else!le&&se==null&&v(ie,ce,pe,D,G);((ve=pe.onVnodeUpdated)||be)&&ft(()=>{ve&&Dt(ve,D,C,x),be&&hs(C,x,D,"updated")},ee)},_=(x,C,D,ee,G,te,le)=>{for(let ie=0;ie<C.length;ie++){const re=x[ie],se=C[ie],be=re.el&&(re.type===de||!vs(re,se)||re.shapeFlag&198)?f(re.el):D;T(re,se,be,null,ee,G,te,le,!0)}},v=(x,C,D,ee,G)=>{if(C!==D){if(C!==Ae)for(const te in C)!en(te)&&!(te in D)&&i(x,te,C[te],null,G,ee);for(const te in D){if(en(te))continue;const le=D[te],ie=C[te];le!==ie&&te!=="value"&&i(x,te,ie,le,G,ee)}"value"in D&&i(x,"value",C.value,D.value,G)}},p=(x,C,D,ee,G,te,le,ie,re)=>{const se=C.el=x?x.el:l(""),be=C.anchor=x?x.anchor:l("");let{patchFlag:ce,dynamicChildren:pe,slotScopeIds:ve}=C;ve&&(ie=ie?ie.concat(ve):ve),x==null?(r(se,D,ee),r(be,D,ee),B(C.children||[],D,be,G,te,le,ie,re)):ce>0&&ce&64&&pe&&x.dynamicChildren&&x.dynamicChildren.length===pe.length?(_(x.dynamicChildren,pe,D,G,te,le,ie),(C.key!=null||G&&C===G.subTree)&&Cl(x,C,!0)):j(x,C,D,be,G,te,le,ie,re)},A=(x,C,D,ee,G,te,le,ie,re)=>{C.slotScopeIds=ie,x==null?C.shapeFlag&512?G.ctx.activate(C,D,ee,le,re):I(C,D,ee,G,te,le,re):P(x,C,re)},I=(x,C,D,ee,G,te,le)=>{const ie=x.component=xd(x,ee,G);if(fr(x)&&(ie.ctx.renderer=K),vd(ie,!1,le),ie.asyncDep){if(G&&G.registerDep(ie,Y,le),!x.el){const re=ie.subTree=ye(rt);U(null,re,C,D),x.placeholder=re.el}}else Y(ie,x,C,D,G,te,le)},P=(x,C,D)=>{const ee=C.component=x.component;if(ed(x,C,D))if(ee.asyncDep&&!ee.asyncResolved){E(ee,C,D);return}else ee.next=C,ee.update();else C.el=x.el,ee.vnode=C},Y=(x,C,D,ee,G,te,le)=>{const ie=()=>{if(x.isMounted){let{next:ce,bu:pe,u:ve,parent:Se,vnode:Ie}=x;{const ct=Sl(x);if(ct){ce&&(ce.el=Ie.el,E(x,ce,le)),ct.asyncDep.then(()=>{x.isUnmounted||ie()});return}}let Te=ce,it;gs(x,!1),ce?(ce.el=Ie.el,E(x,ce,le)):ce=Ie,pe&&Dn(pe),(it=ce.props&&ce.props.onVnodeBeforeUpdate)&&Dt(it,Se,ce,Ie),gs(x,!0);const Qe=Dr(x),_t=x.subTree;x.subTree=Qe,T(_t,Qe,f(_t.el),q(_t),x,G,te),ce.el=Qe.el,Te===null&&td(x,Qe.el),ve&&ft(ve,G),(it=ce.props&&ce.props.onVnodeUpdated)&&ft(()=>Dt(it,Se,ce,Ie),G)}else{let ce;const{el:pe,props:ve}=C,{bm:Se,m:Ie,parent:Te,root:it,type:Qe}=x,_t=rn(C);if(gs(x,!1),Se&&Dn(Se),!_t&&(ce=ve&&ve.onVnodeBeforeMount)&&Dt(ce,Te,C),gs(x,!0),pe&&ne){const ct=()=>{x.subTree=Dr(x),ne(pe,x.subTree,x,G,null)};_t&&Qe.__asyncHydrate?Qe.__asyncHydrate(pe,x,ct):ct()}else{it.ce&&it.ce._def.shadowRoot!==!1&&it.ce._injectChildStyle(Qe);const ct=x.subTree=Dr(x);T(null,ct,D,ee,x,G,te),C.el=ct.el}if(Ie&&ft(Ie,G),!_t&&(ce=ve&&ve.onVnodeMounted)){const ct=C;ft(()=>Dt(ce,Te,ct),G)}(C.shapeFlag&256||Te&&rn(Te.vnode)&&Te.vnode.shapeFlag&256)&&x.a&&ft(x.a,G),x.isMounted=!0,C=D=ee=null}};x.scope.on();const re=x.effect=new Aa(ie);x.scope.off();const se=x.update=re.run.bind(re),be=x.job=re.runIfDirty.bind(re);be.i=x,be.id=x.uid,re.scheduler=()=>To(be),gs(x,!0),se()},E=(x,C,D)=>{C.component=x;const ee=x.vnode.props;x.vnode=C,x.next=null,nd(x,C.props,ee,D),ad(x,C.children,D),Yt(),ti(x),Zt()},j=(x,C,D,ee,G,te,le,ie,re=!1)=>{const se=x&&x.children,be=x?x.shapeFlag:0,ce=C.children,{patchFlag:pe,shapeFlag:ve}=C;if(pe>0){if(pe&128){m(se,ce,D,ee,G,te,le,ie,re);return}else if(pe&256){$(se,ce,D,ee,G,te,le,ie,re);return}}ve&8?(be&16&&We(se,G,te),ce!==se&&c(D,ce)):be&16?ve&16?m(se,ce,D,ee,G,te,le,ie,re):We(se,G,te,!0):(be&8&&c(D,""),ve&16&&B(ce,D,ee,G,te,le,ie,re))},$=(x,C,D,ee,G,te,le,ie,re)=>{x=x||Ns,C=C||Ns;const se=x.length,be=C.length,ce=Math.min(se,be);let pe;for(pe=0;pe<ce;pe++){const ve=C[pe]=re?as(C[pe]):Ft(C[pe]);T(x[pe],ve,D,null,G,te,le,ie,re)}se>be?We(x,G,te,!0,!1,ce):B(C,D,ee,G,te,le,ie,re,ce)},m=(x,C,D,ee,G,te,le,ie,re)=>{let se=0;const be=C.length;let ce=x.length-1,pe=be-1;for(;se<=ce&&se<=pe;){const ve=x[se],Se=C[se]=re?as(C[se]):Ft(C[se]);if(vs(ve,Se))T(ve,Se,D,null,G,te,le,ie,re);else break;se++}for(;se<=ce&&se<=pe;){const ve=x[ce],Se=C[pe]=re?as(C[pe]):Ft(C[pe]);if(vs(ve,Se))T(ve,Se,D,null,G,te,le,ie,re);else break;ce--,pe--}if(se>ce){if(se<=pe){const ve=pe+1,Se=ve<be?C[ve].el:ee;for(;se<=pe;)T(null,C[se]=re?as(C[se]):Ft(C[se]),D,Se,G,te,le,ie,re),se++}}else if(se>pe)for(;se<=ce;)xe(x[se],G,te,!0),se++;else{const ve=se,Se=se,Ie=new Map;for(se=Se;se<=pe;se++){const dt=C[se]=re?as(C[se]):Ft(C[se]);dt.key!=null&&Ie.set(dt.key,se)}let Te,it=0;const Qe=pe-Se+1;let _t=!1,ct=0;const Gs=new Array(Qe);for(se=0;se<Qe;se++)Gs[se]=0;for(se=ve;se<=ce;se++){const dt=x[se];if(it>=Qe){xe(dt,G,te,!0);continue}let Nt;if(dt.key!=null)Nt=Ie.get(dt.key);else for(Te=Se;Te<=pe;Te++)if(Gs[Te-Se]===0&&vs(dt,C[Te])){Nt=Te;break}Nt===void 0?xe(dt,G,te,!0):(Gs[Nt-Se]=se+1,Nt>=ct?ct=Nt:_t=!0,T(dt,C[Nt],D,null,G,te,le,ie,re),it++)}const zo=_t?dd(Gs):Ns;for(Te=zo.length-1,se=Qe-1;se>=0;se--){const dt=Se+se,Nt=C[dt],Qo=C[dt+1],Jo=dt+1<be?Qo.el||$l(Qo):ee;Gs[se]===0?T(null,Nt,D,Jo,G,te,le,ie,re):_t&&(Te<0||se!==zo[Te]?oe(Nt,D,Jo,2):Te--)}}},oe=(x,C,D,ee,G=null)=>{const{el:te,type:le,transition:ie,children:re,shapeFlag:se}=x;if(se&6){oe(x.component.subTree,C,D,ee);return}if(se&128){x.suspense.move(C,D,ee);return}if(se&64){le.move(x,C,D,K);return}if(le===de){r(te,C,D);for(let ce=0;ce<re.length;ce++)oe(re[ce],C,D,ee);r(x.anchor,C,D);return}if(le===Ln){F(x,C,D);return}if(ee!==2&&se&1&&ie)if(ee===0)ie.beforeEnter(te),r(te,C,D),ft(()=>ie.enter(te),G);else{const{leave:ce,delayLeave:pe,afterLeave:ve}=ie,Se=()=>{x.ctx.isUnmounted?o(te):r(te,C,D)},Ie=()=>{te._isLeaving&&te[Wt](!0),ce(te,()=>{Se(),ve&&ve()})};pe?pe(te,Se,Ie):Ie()}else r(te,C,D)},xe=(x,C,D,ee=!1,G=!1)=>{const{type:te,props:le,ref:ie,children:re,dynamicChildren:se,shapeFlag:be,patchFlag:ce,dirs:pe,cacheIndex:ve}=x;if(ce===-2&&(G=!1),ie!=null&&(Yt(),nn(ie,null,D,x,!0),Zt()),ve!=null&&(C.renderCache[ve]=void 0),be&256){C.ctx.deactivate(x);return}const Se=be&1&&pe,Ie=!rn(x);let Te;if(Ie&&(Te=le&&le.onVnodeBeforeUnmount)&&Dt(Te,C,x),be&6)et(x.component,D,ee);else{if(be&128){x.suspense.unmount(D,ee);return}Se&&hs(x,null,C,"beforeUnmount"),be&64?x.type.remove(x,C,D,K,ee):se&&!se.hasOnce&&(te!==de||ce>0&&ce&64)?We(se,C,D,!1,!0):(te===de&&ce&384||!G&&be&16)&&We(re,C,D),ee&&Ke(x)}(Ie&&(Te=le&&le.onVnodeUnmounted)||Se)&&ft(()=>{Te&&Dt(Te,C,x),Se&&hs(x,null,C,"unmounted")},D)},Ke=x=>{const{type:C,el:D,anchor:ee,transition:G}=x;if(C===de){Be(D,ee);return}if(C===Ln){N(x);return}const te=()=>{o(D),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(x.shapeFlag&1&&G&&!G.persisted){const{leave:le,delayLeave:ie}=G,re=()=>le(D,te);ie?ie(x.el,te,re):re()}else te()},Be=(x,C)=>{let D;for(;x!==C;)D=w(x),o(x),x=D;o(C)},et=(x,C,D)=>{const{bum:ee,scope:G,job:te,subTree:le,um:ie,m:re,a:se}=x;di(re),di(se),ee&&Dn(ee),G.stop(),te&&(te.flags|=8,xe(le,x,C,D)),ie&&ft(ie,C),ft(()=>{x.isUnmounted=!0},C)},We=(x,C,D,ee=!1,G=!1,te=0)=>{for(let le=te;le<x.length;le++)xe(x[le],C,D,ee,G)},q=x=>{if(x.shapeFlag&6)return q(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const C=w(x.anchor||x.el),D=C&&C[$c];return D?w(D):C};let ue=!1;const Q=(x,C,D)=>{let ee;x==null?C._vnode&&(xe(C._vnode,null,null,!0),ee=C._vnode.component):T(C._vnode||null,x,C,null,null,null,D),C._vnode=x,ue||(ue=!0,ti(ee),Ja(),ue=!1)},K={p:T,um:xe,m:oe,r:Ke,mt:I,mc:B,pc:j,pbc:_,n:q,o:e};let X,ne;return t&&([X,ne]=t(K)),{render:Q,hydrate:X,createApp:zc(Q,X)}}function Pr({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function gs({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function cd(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Cl(e,t,s=!1){const r=e.children,o=t.children;if(ge(r)&&ge(o))for(let i=0;i<r.length;i++){const a=r[i];let l=o[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[i]=as(o[i]),l.el=a.el),!s&&l.patchFlag!==-2&&Cl(a,l)),l.type===mr&&(l.patchFlag!==-1?l.el=a.el:l.__elIndex=i+(e.type===de?1:0)),l.type===rt&&!l.el&&(l.el=a.el)}}function dd(e){const t=e.slice(),s=[0];let r,o,i,a,l;const u=e.length;for(r=0;r<u;r++){const d=e[r];if(d!==0){if(o=s[s.length-1],e[o]<d){t[r]=o,s.push(r);continue}for(i=0,a=s.length-1;i<a;)l=i+a>>1,e[s[l]]<d?i=l+1:a=l;d<e[s[i]]&&(i>0&&(t[r]=s[i-1]),s[i]=r)}}for(i=s.length,a=s[i-1];i-- >0;)s[i]=a,a=t[a];return s}function Sl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Sl(t)}function di(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function $l(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?$l(t.subTree):null}const kl=e=>e.__isSuspense;function fd(e,t){t&&t.pendingBranch?ge(e)?t.effects.push(...e):t.effects.push(e):vc(e)}const de=Symbol.for("v-fgt"),mr=Symbol.for("v-txt"),rt=Symbol.for("v-cmt"),Ln=Symbol.for("v-stc"),an=[];let gt=null;function y(e=!1){an.push(gt=e?null:[])}function pd(){an.pop(),gt=an[an.length-1]||null}let gn=1;function Qn(e,t=!1){gn+=e,e<0&&gt&&t&&(gt.hasOnce=!0)}function El(e){return e.dynamicChildren=gn>0?gt||Ns:null,pd(),gn>0&&gt&&gt.push(e),e}function b(e,t,s,r,o,i){return El(n(e,t,s,r,o,i,!0))}function Jn(e,t,s,r,o){return El(ye(e,t,s,r,o,!0))}function Xn(e){return e?e.__v_isVNode===!0:!1}function vs(e,t){return e.type===t.type&&e.key===t.key}const Tl=({key:e})=>e??null,Mn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Fe(e)||Me(e)||we(e)?{i:ht,r:e,k:t,f:!!s}:e:null);function n(e,t=null,s=null,r=0,o=null,i=e===de?0:1,a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Tl(t),ref:t&&Mn(t),scopeId:Ya,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ht};return l?(Do(u,s),i&128&&e.normalize(u)):s&&(u.shapeFlag|=Fe(s)?8:16),gn>0&&!a&&gt&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&gt.push(u),u}const ye=hd;function hd(e,t=null,s=null,r=0,o=null,i=!1){if((!e||e===Fc)&&(e=rt),Xn(e)){const l=fs(e,t,!0);return s&&Do(l,s),gn>0&&!i&&gt&&(l.shapeFlag&6?gt[gt.indexOf(e)]=l:gt.push(l)),l.patchFlag=-2,l}if($d(e)&&(e=e.__vccOpts),t){t=gd(t);let{class:l,style:u}=t;l&&!Fe(l)&&(t.class=he(l)),Re(u)&&(ur(u)&&!ge(u)&&(u=Ue({},u)),t.style=xo(u))}const a=Fe(e)?1:kl(e)?128:tl(e)?64:Re(e)?4:we(e)?2:0;return n(e,t,s,r,o,a,i,!0)}function gd(e){return e?ur(e)||yl(e)?Ue({},e):e:null}function fs(e,t,s=!1,r=!1){const{props:o,ref:i,patchFlag:a,children:l,transition:u}=e,d=t?md(o||{},t):o,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&Tl(d),ref:t&&t.ref?s&&i?ge(i)?i.concat(Mn(t)):[i,Mn(t)]:Mn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==de?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&fs(e.ssContent),ssFallback:e.ssFallback&&fs(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&hn(c,u.clone(c)),c}function Pe(e=" ",t=0){return ye(mr,null,e,t)}function No(e,t){const s=ye(Ln,null,e);return s.staticCount=t,s}function W(e="",t=!1){return t?(y(),Jn(rt,null,e)):ye(rt,null,e)}function Ft(e){return e==null||typeof e=="boolean"?ye(rt):ge(e)?ye(de,null,e.slice()):Xn(e)?as(e):ye(mr,null,String(e))}function as(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:fs(e)}function Do(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(ge(t))s=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Do(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!yl(t)?t._ctx=ht:o===3&&ht&&(ht.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else we(t)?(t={default:t,_ctx:ht},s=32):(t=String(t),r&64?(s=16,t=[Pe(t)]):s=8);e.children=t,e.shapeFlag|=s}function md(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=he([t.class,r.class]));else if(o==="style")t.style=xo([t.style,r.style]);else if(sr(o)){const i=t[o],a=r[o];a&&i!==a&&!(ge(i)&&i.includes(a))&&(t[o]=i?[].concat(i,a):a)}else o!==""&&(t[o]=r[o])}return t}function Dt(e,t,s,r=null){Tt(e,t,7,[s,r])}const yd=pl();let bd=0;function xd(e,t,s){const r=e.type,o=(t?t.appContext:e.appContext)||yd,i={uid:bd++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ta(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:xl(r,o),emitsOptions:hl(r,o),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:r.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Jc.bind(null,i),e.ce&&e.ce(i),i}let Ye=null;const Po=()=>Ye||ht;let Yn,no;{const e=ar(),t=(s,r)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(r),i=>{o.length>1?o.forEach(a=>a(i)):o[0](i)}};Yn=t("__VUE_INSTANCE_SETTERS__",s=>Ye=s),no=t("__VUE_SSR_SETTERS__",s=>mn=s)}const Sn=e=>{const t=Ye;return Yn(e),e.scope.on(),()=>{e.scope.off(),Yn(t)}},fi=()=>{Ye&&Ye.scope.off(),Yn(null)};function Ol(e){return e.vnode.shapeFlag&4}let mn=!1;function vd(e,t=!1,s=!1){t&&no(t);const{props:r,children:o}=e.vnode,i=Ol(e);sd(e,r,i,t),id(e,o,s||t);const a=i?wd(e,t):void 0;return t&&no(!1),a}function wd(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Vc);const{setup:r}=s;if(r){Yt();const o=e.setupContext=r.length>1?Cd(e):null,i=Sn(e),a=Cn(r,e,0,[e.props,o]),l=wa(a);if(Zt(),i(),(l||e.sp)&&!rn(e)&&ll(e),l){if(a.then(fi,fi),t)return a.then(u=>{pi(e,u,t)}).catch(u=>{cr(u,e,0)});e.asyncDep=a}else pi(e,a,t)}else Rl(e,t)}function pi(e,t,s){we(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Re(t)&&(e.setupState=Wa(t)),Rl(e,s)}let hi;function Rl(e,t,s){const r=e.type;if(!e.render){if(!t&&hi&&!r.render){const o=r.template||Ro(e).template;if(o){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:u}=r,d=Ue(Ue({isCustomElement:i,delimiters:l},a),u);r.render=hi(o,d)}}e.render=r.render||St}{const o=Sn(e);Yt();try{Bc(e)}finally{Zt(),o()}}}const _d={get(e,t){return Xe(e,"get",""),e[t]}};function Cd(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,_d),slots:e.slots,emit:e.emit,expose:t}}function yr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Wa(Eo(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in on)return on[s](e)},has(t,s){return s in t||s in on}})):e.proxy}function Sd(e,t=!0){return we(e)?e.displayName||e.name:e.name||t&&e.__name}function $d(e){return we(e)&&"__vccOpts"in e}const J=(e,t)=>gc(e,t,mn);function Lo(e,t,s){try{Qn(-1);const r=arguments.length;return r===2?Re(t)&&!ge(t)?Xn(t)?ye(e,null,[t]):ye(e,t):ye(e,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Xn(s)&&(s=[s]),ye(e,t,s))}finally{Qn(1)}}const kd="3.5.27";/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ro;const gi=typeof window<"u"&&window.trustedTypes;if(gi)try{ro=gi.createPolicy("vue",{createHTML:e=>e})}catch{}const Al=ro?e=>ro.createHTML(e):e=>e,Ed="http://www.w3.org/2000/svg",Td="http://www.w3.org/1998/Math/MathML",Gt=typeof document<"u"?document:null,mi=Gt&&Gt.createElement("template"),Od={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const o=t==="svg"?Gt.createElementNS(Ed,e):t==="mathml"?Gt.createElementNS(Td,e):s?Gt.createElement(e,{is:s}):Gt.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>Gt.createTextNode(e),createComment:e=>Gt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Gt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,r,o,i){const a=s?s.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===i||!(o=o.nextSibling)););else{mi.innerHTML=Al(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const l=mi.content;if(r==="svg"||r==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,s)}return[a?a.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},ss="transition",zs="animation",yn=Symbol("_vtc"),Il={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Rd=Ue({},sl,Il),Ad=e=>(e.displayName="Transition",e.props=Rd,e),mt=Ad((e,{slots:t})=>Lo(Tc,Id(e),t)),ms=(e,t=[])=>{ge(e)?e.forEach(s=>s(...t)):e&&e(...t)},yi=e=>e?ge(e)?e.some(t=>t.length>1):e.length>1:!1;function Id(e){const t={};for(const p in e)p in Il||(t[p]=e[p]);if(e.css===!1)return t;const{name:s="v",type:r,duration:o,enterFromClass:i=`${s}-enter-from`,enterActiveClass:a=`${s}-enter-active`,enterToClass:l=`${s}-enter-to`,appearFromClass:u=i,appearActiveClass:d=a,appearToClass:c=l,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:w=`${s}-leave-active`,leaveToClass:g=`${s}-leave-to`}=e,S=Nd(o),T=S&&S[0],k=S&&S[1],{onBeforeEnter:U,onEnter:z,onEnterCancelled:F,onLeave:N,onLeaveCancelled:L,onBeforeAppear:V=U,onAppear:R=z,onAppearCancelled:B=F}=t,O=(p,A,I,P)=>{p._enterCancelled=P,ys(p,A?c:l),ys(p,A?d:a),I&&I()},_=(p,A)=>{p._isLeaving=!1,ys(p,f),ys(p,g),ys(p,w),A&&A()},v=p=>(A,I)=>{const P=p?R:z,Y=()=>O(A,p,I);ms(P,[A,Y]),bi(()=>{ys(A,p?u:i),Ht(A,p?c:l),yi(P)||xi(A,r,T,Y)})};return Ue(t,{onBeforeEnter(p){ms(U,[p]),Ht(p,i),Ht(p,a)},onBeforeAppear(p){ms(V,[p]),Ht(p,u),Ht(p,d)},onEnter:v(!1),onAppear:v(!0),onLeave(p,A){p._isLeaving=!0;const I=()=>_(p,A);Ht(p,f),p._enterCancelled?(Ht(p,w),_i(p)):(_i(p),Ht(p,w)),bi(()=>{p._isLeaving&&(ys(p,f),Ht(p,g),yi(N)||xi(p,r,k,I))}),ms(N,[p,I])},onEnterCancelled(p){O(p,!1,void 0,!0),ms(F,[p])},onAppearCancelled(p){O(p,!0,void 0,!0),ms(B,[p])},onLeaveCancelled(p){_(p),ms(L,[p])}})}function Nd(e){if(e==null)return null;if(Re(e))return[Lr(e.enter),Lr(e.leave)];{const t=Lr(e);return[t,t]}}function Lr(e){return Du(e)}function Ht(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[yn]||(e[yn]=new Set)).add(t)}function ys(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const s=e[yn];s&&(s.delete(t),s.size||(e[yn]=void 0))}function bi(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Dd=0;function xi(e,t,s,r){const o=e._endId=++Dd,i=()=>{o===e._endId&&r()};if(s!=null)return setTimeout(i,s);const{type:a,timeout:l,propCount:u}=Pd(e,t);if(!a)return r();const d=a+"end";let c=0;const f=()=>{e.removeEventListener(d,w),i()},w=g=>{g.target===e&&++c>=u&&f()};setTimeout(()=>{c<u&&f()},l+1),e.addEventListener(d,w)}function Pd(e,t){const s=window.getComputedStyle(e),r=S=>(s[S]||"").split(", "),o=r(`${ss}Delay`),i=r(`${ss}Duration`),a=vi(o,i),l=r(`${zs}Delay`),u=r(`${zs}Duration`),d=vi(l,u);let c=null,f=0,w=0;t===ss?a>0&&(c=ss,f=a,w=i.length):t===zs?d>0&&(c=zs,f=d,w=u.length):(f=Math.max(a,d),c=f>0?a>d?ss:zs:null,w=c?c===ss?i.length:u.length:0);const g=c===ss&&/\b(?:transform|all)(?:,|$)/.test(r(`${ss}Property`).toString());return{type:c,timeout:f,propCount:w,hasTransform:g}}function vi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,r)=>wi(s)+wi(e[r])))}function wi(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function _i(e){return(e?e.ownerDocument:document).body.offsetHeight}function Ld(e,t,s){const r=e[yn];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Ci=Symbol("_vod"),Md=Symbol("_vsh"),Ud=Symbol(""),Fd=/(?:^|;)\s*display\s*:/;function jd(e,t,s){const r=e.style,o=Fe(s);let i=!1;if(s&&!o){if(t)if(Fe(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();s[l]==null&&Un(r,l,"")}else for(const a in t)s[a]==null&&Un(r,a,"");for(const a in s)a==="display"&&(i=!0),Un(r,a,s[a])}else if(o){if(t!==s){const a=r[Ud];a&&(s+=";"+a),r.cssText=s,i=Fd.test(s)}}else t&&e.removeAttribute("style");Ci in e&&(e[Ci]=i?r.display:"",e[Md]&&(r.display="none"))}const Si=/\s*!important$/;function Un(e,t,s){if(ge(s))s.forEach(r=>Un(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=Vd(e,t);Si.test(s)?e.setProperty(ks(r),s.replace(Si,""),"important"):e[r]=s}}const $i=["Webkit","Moz","ms"],Mr={};function Vd(e,t){const s=Mr[t];if(s)return s;let r=wt(t);if(r!=="filter"&&r in e)return Mr[t]=r;r=or(r);for(let o=0;o<$i.length;o++){const i=$i[o]+r;if(i in e)return Mr[t]=i}return t}const ki="http://www.w3.org/1999/xlink";function Ei(e,t,s,r,o,i=ju(t)){r&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(ki,t.slice(6,t.length)):e.setAttributeNS(ki,t,s):s==null||i&&!$a(s)?e.removeAttribute(t):e.setAttribute(t,i?"":Vt(s)?String(s):s)}function Ti(e,t,s,r,o){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Al(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,u=s==null?e.type==="checkbox"?"on":"":String(s);(l!==u||!("_value"in e))&&(e.value=u),s==null&&e.removeAttribute(t),e._value=s;return}let a=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=$a(s):s==null&&l==="string"?(s="",a=!0):l==="number"&&(s=0,a=!0)}try{e[t]=s}catch{}a&&e.removeAttribute(o||t)}function us(e,t,s,r){e.addEventListener(t,s,r)}function Bd(e,t,s,r){e.removeEventListener(t,s,r)}const Oi=Symbol("_vei");function Hd(e,t,s,r,o=null){const i=e[Oi]||(e[Oi]={}),a=i[t];if(r&&a)a.value=r;else{const[l,u]=qd(t);if(r){const d=i[t]=Wd(r,o);us(e,l,d,u)}else a&&(Bd(e,l,a,u),i[t]=void 0)}}const Ri=/(?:Once|Passive|Capture)$/;function qd(e){let t;if(Ri.test(e)){t={};let r;for(;r=e.match(Ri);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ks(e.slice(2)),t]}let Ur=0;const Kd=Promise.resolve(),Gd=()=>Ur||(Kd.then(()=>Ur=0),Ur=Date.now());function Wd(e,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Tt(zd(r,s.value),t,5,[r])};return s.value=e,s.attached=Gd(),s}function zd(e,t){if(ge(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const Ai=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Qd=(e,t,s,r,o,i)=>{const a=o==="svg";t==="class"?Ld(e,r,a):t==="style"?jd(e,s,r):sr(t)?yo(t)||Hd(e,t,s,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Jd(e,t,r,a))?(Ti(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ei(e,t,r,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Fe(r))?Ti(e,wt(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ei(e,t,r,a))};function Jd(e,t,s,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ai(t)&&we(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Ai(t)&&Fe(s)?!1:t in e}const Us=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ge(t)?s=>Dn(t,s):t};function Xd(e){e.target.composing=!0}function Ii(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Xt=Symbol("_assign");function Ni(e,t,s){return t&&(e=e.trim()),s&&(e=ir(e)),e}const fe={created(e,{modifiers:{lazy:t,trim:s,number:r}},o){e[Xt]=Us(o);const i=r||o.props&&o.props.type==="number";us(e,t?"change":"input",a=>{a.target.composing||e[Xt](Ni(e.value,s,i))}),(s||i)&&us(e,"change",()=>{e.value=Ni(e.value,s,i)}),t||(us(e,"compositionstart",Xd),us(e,"compositionend",Ii),us(e,"change",Ii))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:r,trim:o,number:i}},a){if(e[Xt]=Us(a),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?ir(e.value):e.value,u=t??"";l!==u&&(document.activeElement===e&&e.type!=="range"&&(r&&t===s||o&&e.value.trim()===u)||(e.value=u))}},Di={deep:!0,created(e,t,s){e[Xt]=Us(s),us(e,"change",()=>{const r=e._modelValue,o=bn(e),i=e.checked,a=e[Xt];if(ge(r)){const l=vo(r,o),u=l!==-1;if(i&&!u)a(r.concat(o));else if(!i&&u){const d=[...r];d.splice(l,1),a(d)}}else if(Bs(r)){const l=new Set(r);i?l.add(o):l.delete(o),a(l)}else a(Nl(e,i))})},mounted:Pi,beforeUpdate(e,t,s){e[Xt]=Us(s),Pi(e,t,s)}};function Pi(e,{value:t,oldValue:s},r){e._modelValue=t;let o;if(ge(t))o=vo(t,r.props.value)>-1;else if(Bs(t))o=t.has(r.props.value);else{if(t===s)return;o=wn(t,Nl(e,!0))}e.checked!==o&&(e.checked=o)}const lt={deep:!0,created(e,{value:t,modifiers:{number:s}},r){const o=Bs(t);us(e,"change",()=>{const i=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>s?ir(bn(a)):bn(a));e[Xt](e.multiple?o?new Set(i):i:i[0]),e._assigning=!0,dr(()=>{e._assigning=!1})}),e[Xt]=Us(r)},mounted(e,{value:t}){Li(e,t)},beforeUpdate(e,t,s){e[Xt]=Us(s)},updated(e,{value:t}){e._assigning||Li(e,t)}};function Li(e,t){const s=e.multiple,r=ge(t);if(!(s&&!r&&!Bs(t))){for(let o=0,i=e.options.length;o<i;o++){const a=e.options[o],l=bn(a);if(s)if(r){const u=typeof l;u==="string"||u==="number"?a.selected=t.some(d=>String(d)===String(l)):a.selected=vo(t,l)>-1}else a.selected=t.has(l);else if(wn(bn(a),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function bn(e){return"_value"in e?e._value:e.value}function Nl(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Yd=["ctrl","shift","alt","meta"],Zd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Yd.some(s=>e[`${s}Key`]&&!t.includes(s))},ze=(e,t)=>{const s=e._withMods||(e._withMods={}),r=t.join(".");return s[r]||(s[r]=(o,...i)=>{for(let a=0;a<t.length;a++){const l=Zd[t[a]];if(l&&l(o,t))return}return e(o,...i)})},ef=Ue({patchProp:Qd},Od);let Mi;function tf(){return Mi||(Mi=ld(ef))}const sf=(...e)=>{const t=tf().createApp(...e),{mount:s}=t;return t.mount=r=>{const o=rf(r);if(!o)return;const i=t._component;!we(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const a=s(o,!1,nf(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function nf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function rf(e){return Fe(e)?document.querySelector(e):e}var of=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Dl;const br=e=>Dl=e,Pl=Symbol();function oo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ln;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ln||(ln={}));function af(){const e=Oa(!0),t=e.run(()=>Z({}));let s=[],r=[];const o=Eo({install(i){br(o),o._a=i,i.provide(Pl,o),i.config.globalProperties.$pinia=o,r.forEach(a=>s.push(a)),r=[]},use(i){return!this._a&&!of?r.push(i):s.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return o}const Ll=()=>{};function Ui(e,t,s,r=Ll){e.push(t);const o=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!s&&Ra()&&Bu(o),o}function Os(e,...t){e.slice().forEach(s=>{s(...t)})}const lf=e=>e(),Fi=Symbol(),Fr=Symbol();function io(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,r)=>e.set(r,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const r=t[s],o=e[s];oo(o)&&oo(r)&&e.hasOwnProperty(s)&&!Me(r)&&!Jt(r)?e[s]=io(o,r):e[s]=r}return e}const uf=Symbol();function cf(e){return!oo(e)||!e.hasOwnProperty(uf)}const{assign:rs}=Object;function df(e){return!!(Me(e)&&e.effect)}function ff(e,t,s,r){const{state:o,actions:i,getters:a}=t,l=s.state.value[e];let u;function d(){l||(s.state.value[e]=o?o():{});const c=dc(s.state.value[e]);return rs(c,i,Object.keys(a||{}).reduce((f,w)=>(f[w]=Eo(J(()=>{br(s);const g=s._s.get(e);return a[w].call(g,g)})),f),{}))}return u=Ml(e,d,t,s,r,!0),u}function Ml(e,t,s={},r,o,i){let a;const l=rs({actions:{}},s),u={deep:!0};let d,c,f=[],w=[],g;const S=r.state.value[e];!i&&!S&&(r.state.value[e]={});let T;function k(B){let O;d=c=!1,typeof B=="function"?(B(r.state.value[e]),O={type:ln.patchFunction,storeId:e,events:g}):(io(r.state.value[e],B),O={type:ln.patchObject,payload:B,storeId:e,events:g});const _=T=Symbol();dr().then(()=>{T===_&&(d=!0)}),c=!0,Os(f,O,r.state.value[e])}const U=i?function(){const{state:O}=s,_=O?O():{};this.$patch(v=>{rs(v,_)})}:Ll;function z(){a.stop(),f=[],w=[],r._s.delete(e)}const F=(B,O="")=>{if(Fi in B)return B[Fr]=O,B;const _=function(){br(r);const v=Array.from(arguments),p=[],A=[];function I(E){p.push(E)}function P(E){A.push(E)}Os(w,{args:v,name:_[Fr],store:L,after:I,onError:P});let Y;try{Y=B.apply(this&&this.$id===e?this:L,v)}catch(E){throw Os(A,E),E}return Y instanceof Promise?Y.then(E=>(Os(p,E),E)).catch(E=>(Os(A,E),Promise.reject(E))):(Os(p,Y),Y)};return _[Fi]=!0,_[Fr]=O,_},N={_p:r,$id:e,$onAction:Ui.bind(null,w),$patch:k,$reset:U,$subscribe(B,O={}){const _=Ui(f,B,O.detached,()=>v()),v=a.run(()=>ds(()=>r.state.value[e],p=>{(O.flush==="sync"?c:d)&&B({storeId:e,type:ln.direct,events:g},p)},rs({},u,O)));return _},$dispose:z},L=_n(N);r._s.set(e,L);const R=(r._a&&r._a.runWithContext||lf)(()=>r._e.run(()=>(a=Oa()).run(()=>t({action:F}))));for(const B in R){const O=R[B];if(Me(O)&&!df(O)||Jt(O))i||(S&&cf(O)&&(Me(O)?O.value=S[B]:io(O,S[B])),r.state.value[e][B]=O);else if(typeof O=="function"){const _=F(O,B);R[B]=_,l.actions[B]=O}}return rs(L,R),rs($e(L),R),Object.defineProperty(L,"$state",{get:()=>r.state.value[e],set:B=>{k(O=>{rs(O,B)})}}),r._p.forEach(B=>{rs(L,a.run(()=>B({store:L,app:r._a,pinia:r,options:l})))}),S&&i&&s.hydrate&&s.hydrate(L.$state,S),d=!0,c=!0,L}/*! #__NO_SIDE_EFFECTS__ */function Rt(e,t,s){let r,o;const i=typeof t=="function";typeof e=="string"?(r=e,o=i?s:t):(o=e,r=e.id);function a(l,u){const d=wc();return l=l||(d?vt(Pl,null):null),l&&br(l),l=Dl,l._s.has(r)||(i?Ml(r,t,o,l):ff(r,o,l)),l._s.get(r)}return a.$id=r,a}const je=(e,t)=>{const s=e.__vccOpts||e;for(const[r,o]of t)s[r]=o;return s},pf={};function hf(e,t){const s=Oo("router-view");return y(),Jn(s)}const gf=je(pf,[["render",hf]]);/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Is=typeof document<"u";function Ul(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function mf(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ul(e.default)}const ke=Object.assign;function jr(e,t){const s={};for(const r in t){const o=t[r];s[r]=Ot(o)?o.map(e):e(o)}return s}const un=()=>{},Ot=Array.isArray;function ji(e,t){const s={};for(const r in e)s[r]=r in t?t[r]:e[r];return s}const Fl=/#/g,yf=/&/g,bf=/\//g,xf=/=/g,vf=/\?/g,jl=/\+/g,wf=/%5B/g,_f=/%5D/g,Vl=/%5E/g,Cf=/%60/g,Bl=/%7B/g,Sf=/%7C/g,Hl=/%7D/g,$f=/%20/g;function Mo(e){return e==null?"":encodeURI(""+e).replace(Sf,"|").replace(wf,"[").replace(_f,"]")}function kf(e){return Mo(e).replace(Bl,"{").replace(Hl,"}").replace(Vl,"^")}function ao(e){return Mo(e).replace(jl,"%2B").replace($f,"+").replace(Fl,"%23").replace(yf,"%26").replace(Cf,"`").replace(Bl,"{").replace(Hl,"}").replace(Vl,"^")}function Ef(e){return ao(e).replace(xf,"%3D")}function Tf(e){return Mo(e).replace(Fl,"%23").replace(vf,"%3F")}function Of(e){return Tf(e).replace(bf,"%2F")}function xn(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const Rf=/\/$/,Af=e=>e.replace(Rf,"");function Vr(e,t,s="/"){let r,o={},i="",a="";const l=t.indexOf("#");let u=t.indexOf("?");return u=l>=0&&u>l?-1:u,u>=0&&(r=t.slice(0,u),i=t.slice(u,l>0?l:t.length),o=e(i.slice(1))),l>=0&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=Pf(r??t,s),{fullPath:r+i+a,path:r,query:o,hash:xn(a)}}function If(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Vi(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Nf(e,t,s){const r=t.matched.length-1,o=s.matched.length-1;return r>-1&&r===o&&Fs(t.matched[r],s.matched[o])&&ql(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Fs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ql(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var s in e)if(!Df(e[s],t[s]))return!1;return!0}function Df(e,t){return Ot(e)?Bi(e,t):Ot(t)?Bi(t,e):(e==null?void 0:e.valueOf())===(t==null?void 0:t.valueOf())}function Bi(e,t){return Ot(t)?e.length===t.length&&e.every((s,r)=>s===t[r]):e.length===1&&e[0]===t}function Pf(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let i=s.length-1,a,l;for(a=0;a<r.length;a++)if(l=r[a],l!==".")if(l==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(a).join("/")}const ns={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let lo=function(e){return e.pop="pop",e.push="push",e}({}),Br=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function Lf(e){if(!e)if(Is){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Af(e)}const Mf=/^[^#]+#/;function Uf(e,t){return e.replace(Mf,"#")+t}function Ff(e,t){const s=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const xr=()=>({left:window.scrollX,top:window.scrollY});function jf(e){let t;if("el"in e){const s=e.el,r=typeof s=="string"&&s.startsWith("#"),o=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!o)return;t=Ff(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Hi(e,t){return(history.state?history.state.position-t:-1)+e}const uo=new Map;function Vf(e,t){uo.set(e,t)}function Bf(e){const t=uo.get(e);return uo.delete(e),t}function Hf(e){return typeof e=="string"||e&&typeof e=="object"}function Kl(e){return typeof e=="string"||typeof e=="symbol"}let Le=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const Gl=Symbol("");Le.MATCHER_NOT_FOUND+"",Le.NAVIGATION_GUARD_REDIRECT+"",Le.NAVIGATION_ABORTED+"",Le.NAVIGATION_CANCELLED+"",Le.NAVIGATION_DUPLICATED+"";function js(e,t){return ke(new Error,{type:e,[Gl]:!0},t)}function qt(e,t){return e instanceof Error&&Gl in e&&(t==null||!!(e.type&t))}const qf=["params","query","hash"];function Kf(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of qf)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function Gf(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(jl," "),i=o.indexOf("="),a=xn(i<0?o:o.slice(0,i)),l=i<0?null:xn(o.slice(i+1));if(a in t){let u=t[a];Ot(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function qi(e){let t="";for(let s in e){const r=e[s];if(s=Ef(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(Ot(r)?r.map(o=>o&&ao(o)):[r&&ao(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+s,o!=null&&(t+="="+o))})}return t}function Wf(e){const t={};for(const s in e){const r=e[s];r!==void 0&&(t[s]=Ot(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const zf=Symbol(""),Ki=Symbol(""),vr=Symbol(""),Uo=Symbol(""),co=Symbol("");function Qs(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function ls(e,t,s,r,o,i=a=>a()){const a=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((l,u)=>{const d=w=>{w===!1?u(js(Le.NAVIGATION_ABORTED,{from:s,to:t})):w instanceof Error?u(w):Hf(w)?u(js(Le.NAVIGATION_GUARD_REDIRECT,{from:t,to:w})):(a&&r.enterCallbacks[o]===a&&typeof w=="function"&&a.push(w),l())},c=i(()=>e.call(r&&r.instances[o],t,s,d));let f=Promise.resolve(c);e.length<3&&(f=f.then(d)),f.catch(w=>u(w))})}function Hr(e,t,s,r,o=i=>i()){const i=[];for(const a of e)for(const l in a.components){let u=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(Ul(u)){const d=(u.__vccOpts||u)[t];d&&i.push(ls(d,s,r,a,l,o))}else{let d=u();i.push(()=>d.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const f=mf(c)?c.default:c;a.mods[l]=c,a.components[l]=f;const w=(f.__vccOpts||f)[t];return w&&ls(w,s,r,a,l,o)()}))}}return i}function Qf(e,t){const s=[],r=[],o=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const l=t.matched[a];l&&(e.matched.find(d=>Fs(d,l))?r.push(l):s.push(l));const u=e.matched[a];u&&(t.matched.find(d=>Fs(d,u))||o.push(u))}return[s,r,o]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Jf=()=>location.protocol+"//"+location.host;function Wl(e,t){const{pathname:s,search:r,hash:o}=t,i=e.indexOf("#");if(i>-1){let a=o.includes(e.slice(i))?e.slice(i).length:1,l=o.slice(a);return l[0]!=="/"&&(l="/"+l),Vi(l,"")}return Vi(s,e)+r+o}function Xf(e,t,s,r){let o=[],i=[],a=null;const l=({state:w})=>{const g=Wl(e,location),S=s.value,T=t.value;let k=0;if(w){if(s.value=g,t.value=w,a&&a===S){a=null;return}k=T?w.position-T.position:0}else r(g);o.forEach(U=>{U(s.value,S,{delta:k,type:lo.pop,direction:k?k>0?Br.forward:Br.back:Br.unknown})})};function u(){a=s.value}function d(w){o.push(w);const g=()=>{const S=o.indexOf(w);S>-1&&o.splice(S,1)};return i.push(g),g}function c(){if(document.visibilityState==="hidden"){const{history:w}=window;if(!w.state)return;w.replaceState(ke({},w.state,{scroll:xr()}),"")}}function f(){for(const w of i)w();i=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",c),document.removeEventListener("visibilitychange",c)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",c),document.addEventListener("visibilitychange",c),{pauseListeners:u,listen:d,destroy:f}}function Gi(e,t,s,r=!1,o=!1){return{back:e,current:t,forward:s,replaced:r,position:window.history.length,scroll:o?xr():null}}function Yf(e){const{history:t,location:s}=window,r={value:Wl(e,s)},o={value:t.state};o.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(u,d,c){const f=e.indexOf("#"),w=f>-1?(s.host&&document.querySelector("base")?e:e.slice(f))+u:Jf()+e+u;try{t[c?"replaceState":"pushState"](d,"",w),o.value=d}catch(g){console.error(g),s[c?"replace":"assign"](w)}}function a(u,d){i(u,ke({},t.state,Gi(o.value.back,u,o.value.forward,!0),d,{position:o.value.position}),!0),r.value=u}function l(u,d){const c=ke({},o.value,t.state,{forward:u,scroll:xr()});i(c.current,c,!0),i(u,ke({},Gi(r.value,u,null),{position:c.position+1},d),!1),r.value=u}return{location:r,state:o,push:l,replace:a}}function Zf(e){e=Lf(e);const t=Yf(e),s=Xf(e,t.state,t.location,t.replace);function r(i,a=!0){a||s.pauseListeners(),history.go(i)}const o=ke({location:"",base:e,go:r,createHref:Uf.bind(null,e)},t,s);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}let ws=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var He=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(He||{});const ep={type:ws.Static,value:""},tp=/[a-zA-Z0-9_]/;function sp(e){if(!e)return[[]];if(e==="/")return[[ep]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${s})/"${d}": ${g}`)}let s=He.Static,r=s;const o=[];let i;function a(){i&&o.push(i),i=[]}let l=0,u,d="",c="";function f(){d&&(s===He.Static?i.push({type:ws.Static,value:d}):s===He.Param||s===He.ParamRegExp||s===He.ParamRegExpEnd?(i.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:ws.Param,value:d,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),d="")}function w(){d+=u}for(;l<e.length;){if(u=e[l++],u==="\\"&&s!==He.ParamRegExp){r=s,s=He.EscapeNext;continue}switch(s){case He.Static:u==="/"?(d&&f(),a()):u===":"?(f(),s=He.Param):w();break;case He.EscapeNext:w(),s=r;break;case He.Param:u==="("?s=He.ParamRegExp:tp.test(u)?w():(f(),s=He.Static,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case He.ParamRegExp:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:s=He.ParamRegExpEnd:c+=u;break;case He.ParamRegExpEnd:f(),s=He.Static,u!=="*"&&u!=="?"&&u!=="+"&&l--,c="";break;default:t("Unknown state");break}}return s===He.ParamRegExp&&t(`Unfinished custom RegExp for param "${d}"`),f(),a(),o}const Wi="[^/]+?",np={sensitive:!1,strict:!1,start:!0,end:!0};var st=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(st||{});const rp=/[.+*?^${}()[\]/\\]/g;function op(e,t){const s=ke({},np,t),r=[];let o=s.start?"^":"";const i=[];for(const d of e){const c=d.length?[]:[st.Root];s.strict&&!d.length&&(o+="/");for(let f=0;f<d.length;f++){const w=d[f];let g=st.Segment+(s.sensitive?st.BonusCaseSensitive:0);if(w.type===ws.Static)f||(o+="/"),o+=w.value.replace(rp,"\\$&"),g+=st.Static;else if(w.type===ws.Param){const{value:S,repeatable:T,optional:k,regexp:U}=w;i.push({name:S,repeatable:T,optional:k});const z=U||Wi;if(z!==Wi){g+=st.BonusCustomRegExp;try{`${z}`}catch(N){throw new Error(`Invalid custom RegExp for param "${S}" (${z}): `+N.message)}}let F=T?`((?:${z})(?:/(?:${z}))*)`:`(${z})`;f||(F=k&&d.length<2?`(?:/${F})`:"/"+F),k&&(F+="?"),o+=F,g+=st.Dynamic,k&&(g+=st.BonusOptional),T&&(g+=st.BonusRepeatable),z===".*"&&(g+=st.BonusWildcard)}c.push(g)}r.push(c)}if(s.strict&&s.end){const d=r.length-1;r[d][r[d].length-1]+=st.BonusStrict}s.strict||(o+="/?"),s.end?o+="$":s.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const a=new RegExp(o,s.sensitive?"":"i");function l(d){const c=d.match(a),f={};if(!c)return null;for(let w=1;w<c.length;w++){const g=c[w]||"",S=i[w-1];f[S.name]=g&&S.repeatable?g.split("/"):g}return f}function u(d){let c="",f=!1;for(const w of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const g of w)if(g.type===ws.Static)c+=g.value;else if(g.type===ws.Param){const{value:S,repeatable:T,optional:k}=g,U=S in d?d[S]:"";if(Ot(U)&&!T)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const z=Ot(U)?U.join("/"):U;if(!z)if(k)w.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${S}"`);c+=z}}return c||"/"}return{re:a,score:r,keys:i,parse:l,stringify:u}}function ip(e,t){let s=0;for(;s<e.length&&s<t.length;){const r=t[s]-e[s];if(r)return r;s++}return e.length<t.length?e.length===1&&e[0]===st.Static+st.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===st.Static+st.Segment?1:-1:0}function zl(e,t){let s=0;const r=e.score,o=t.score;for(;s<r.length&&s<o.length;){const i=ip(r[s],o[s]);if(i)return i;s++}if(Math.abs(o.length-r.length)===1){if(zi(r))return 1;if(zi(o))return-1}return o.length-r.length}function zi(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ap={strict:!1,end:!0,sensitive:!1};function lp(e,t,s){const r=op(sp(e.path),s),o=ke(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function up(e,t){const s=[],r=new Map;t=ji(ap,t);function o(f){return r.get(f)}function i(f,w,g){const S=!g,T=Ji(f);T.aliasOf=g&&g.record;const k=ji(t,f),U=[T];if("alias"in f){const N=typeof f.alias=="string"?[f.alias]:f.alias;for(const L of N)U.push(Ji(ke({},T,{components:g?g.record.components:T.components,path:L,aliasOf:g?g.record:T})))}let z,F;for(const N of U){const{path:L}=N;if(w&&L[0]!=="/"){const V=w.record.path,R=V[V.length-1]==="/"?"":"/";N.path=w.record.path+(L&&R+L)}if(z=lp(N,w,k),g?g.alias.push(z):(F=F||z,F!==z&&F.alias.push(z),S&&f.name&&!Xi(z)&&a(f.name)),Ql(z)&&u(z),T.children){const V=T.children;for(let R=0;R<V.length;R++)i(V[R],z,g&&g.children[R])}g=g||z}return F?()=>{a(F)}:un}function a(f){if(Kl(f)){const w=r.get(f);w&&(r.delete(f),s.splice(s.indexOf(w),1),w.children.forEach(a),w.alias.forEach(a))}else{const w=s.indexOf(f);w>-1&&(s.splice(w,1),f.record.name&&r.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function l(){return s}function u(f){const w=fp(f,s);s.splice(w,0,f),f.record.name&&!Xi(f)&&r.set(f.record.name,f)}function d(f,w){let g,S={},T,k;if("name"in f&&f.name){if(g=r.get(f.name),!g)throw js(Le.MATCHER_NOT_FOUND,{location:f});k=g.record.name,S=ke(Qi(w.params,g.keys.filter(F=>!F.optional).concat(g.parent?g.parent.keys.filter(F=>F.optional):[]).map(F=>F.name)),f.params&&Qi(f.params,g.keys.map(F=>F.name))),T=g.stringify(S)}else if(f.path!=null)T=f.path,g=s.find(F=>F.re.test(T)),g&&(S=g.parse(T),k=g.record.name);else{if(g=w.name?r.get(w.name):s.find(F=>F.re.test(w.path)),!g)throw js(Le.MATCHER_NOT_FOUND,{location:f,currentLocation:w});k=g.record.name,S=ke({},w.params,f.params),T=g.stringify(S)}const U=[];let z=g;for(;z;)U.unshift(z.record),z=z.parent;return{name:k,path:T,params:S,matched:U,meta:dp(U)}}e.forEach(f=>i(f));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:d,removeRoute:a,clearRoutes:c,getRoutes:l,getRecordMatcher:o}}function Qi(e,t){const s={};for(const r of t)r in e&&(s[r]=e[r]);return s}function Ji(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:cp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function cp(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const r in e.components)t[r]=typeof s=="object"?s[r]:s;return t}function Xi(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function dp(e){return e.reduce((t,s)=>ke(t,s.meta),{})}function fp(e,t){let s=0,r=t.length;for(;s!==r;){const i=s+r>>1;zl(e,t[i])<0?r=i:s=i+1}const o=pp(e);return o&&(r=t.lastIndexOf(o,r-1)),r}function pp(e){let t=e;for(;t=t.parent;)if(Ql(t)&&zl(e,t)===0)return t}function Ql({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Yi(e){const t=vt(vr),s=vt(Uo),r=J(()=>{const u=_e(e.to);return t.resolve(u)}),o=J(()=>{const{matched:u}=r.value,{length:d}=u,c=u[d-1],f=s.matched;if(!c||!f.length)return-1;const w=f.findIndex(Fs.bind(null,c));if(w>-1)return w;const g=Zi(u[d-2]);return d>1&&Zi(c)===g&&f[f.length-1].path!==g?f.findIndex(Fs.bind(null,u[d-2])):w}),i=J(()=>o.value>-1&&bp(s.params,r.value.params)),a=J(()=>o.value>-1&&o.value===s.matched.length-1&&ql(s.params,r.value.params));function l(u={}){if(yp(u)){const d=t[_e(e.replace)?"replace":"push"](_e(e.to)).catch(un);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:r,href:J(()=>r.value.href),isActive:i,isExactActive:a,navigate:l}}function hp(e){return e.length===1?e[0]:e}const gp=al({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Yi,setup(e,{slots:t}){const s=_n(Yi(e)),{options:r}=vt(vr),o=J(()=>({[ea(e.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[ea(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&hp(t.default(s));return e.custom?i:Lo("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:o.value},i)}}}),mp=gp;function yp(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function bp(e,t){for(const s in t){const r=t[s],o=e[s];if(typeof r=="string"){if(r!==o)return!1}else if(!Ot(o)||o.length!==r.length||r.some((i,a)=>i.valueOf()!==o[a].valueOf()))return!1}return!0}function Zi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ea=(e,t,s)=>e??t??s,xp=al({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const r=vt(co),o=J(()=>e.route||r.value),i=vt(Ki,0),a=J(()=>{let d=_e(i);const{matched:c}=o.value;let f;for(;(f=c[d])&&!f.components;)d++;return d}),l=J(()=>o.value.matched[a.value]);Pn(Ki,J(()=>a.value+1)),Pn(zf,l),Pn(co,o);const u=Z();return ds(()=>[u.value,l.value,e.name],([d,c,f],[w,g,S])=>{c&&(c.instances[f]=d,g&&g!==c&&d&&d===w&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),d&&c&&(!g||!Fs(c,g)||!w)&&(c.enterCallbacks[f]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=o.value,c=e.name,f=l.value,w=f&&f.components[c];if(!w)return ta(s.default,{Component:w,route:d});const g=f.props[c],S=g?g===!0?d.params:typeof g=="function"?g(d):g:null,k=Lo(w,ke({},S,t,{onVnodeUnmounted:U=>{U.component.isUnmounted&&(f.instances[c]=null)},ref:u}));return ta(s.default,{Component:k,route:d})||k}}});function ta(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const vp=xp;function wp(e){const t=up(e.routes,e),s=e.parseQuery||Gf,r=e.stringifyQuery||qi,o=e.history,i=Qs(),a=Qs(),l=Qs(),u=lc(ns);let d=ns;Is&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=jr.bind(null,q=>""+q),f=jr.bind(null,Of),w=jr.bind(null,xn);function g(q,ue){let Q,K;return Kl(q)?(Q=t.getRecordMatcher(q),K=ue):K=q,t.addRoute(K,Q)}function S(q){const ue=t.getRecordMatcher(q);ue&&t.removeRoute(ue)}function T(){return t.getRoutes().map(q=>q.record)}function k(q){return!!t.getRecordMatcher(q)}function U(q,ue){if(ue=ke({},ue||u.value),typeof q=="string"){const C=Vr(s,q,ue.path),D=t.resolve({path:C.path},ue),ee=o.createHref(C.fullPath);return ke(C,D,{params:w(D.params),hash:xn(C.hash),redirectedFrom:void 0,href:ee})}let Q;if(q.path!=null)Q=ke({},q,{path:Vr(s,q.path,ue.path).path});else{const C=ke({},q.params);for(const D in C)C[D]==null&&delete C[D];Q=ke({},q,{params:f(C)}),ue.params=f(ue.params)}const K=t.resolve(Q,ue),X=q.hash||"";K.params=c(w(K.params));const ne=If(r,ke({},q,{hash:kf(X),path:K.path})),x=o.createHref(ne);return ke({fullPath:ne,hash:X,query:r===qi?Wf(q.query):q.query||{}},K,{redirectedFrom:void 0,href:x})}function z(q){return typeof q=="string"?Vr(s,q,u.value.path):ke({},q)}function F(q,ue){if(d!==q)return js(Le.NAVIGATION_CANCELLED,{from:ue,to:q})}function N(q){return R(q)}function L(q){return N(ke(z(q),{replace:!0}))}function V(q,ue){const Q=q.matched[q.matched.length-1];if(Q&&Q.redirect){const{redirect:K}=Q;let X=typeof K=="function"?K(q,ue):K;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=z(X):{path:X},X.params={}),ke({query:q.query,hash:q.hash,params:X.path!=null?{}:q.params},X)}}function R(q,ue){const Q=d=U(q),K=u.value,X=q.state,ne=q.force,x=q.replace===!0,C=V(Q,K);if(C)return R(ke(z(C),{state:typeof C=="object"?ke({},X,C.state):X,force:ne,replace:x}),ue||Q);const D=Q;D.redirectedFrom=ue;let ee;return!ne&&Nf(r,K,Q)&&(ee=js(Le.NAVIGATION_DUPLICATED,{to:D,from:K}),oe(K,K,!0,!1)),(ee?Promise.resolve(ee):_(D,K)).catch(G=>qt(G)?qt(G,Le.NAVIGATION_GUARD_REDIRECT)?G:m(G):j(G,D,K)).then(G=>{if(G){if(qt(G,Le.NAVIGATION_GUARD_REDIRECT))return R(ke({replace:x},z(G.to),{state:typeof G.to=="object"?ke({},X,G.to.state):X,force:ne}),ue||D)}else G=p(D,K,!0,x,X);return v(D,K,G),G})}function B(q,ue){const Q=F(q,ue);return Q?Promise.reject(Q):Promise.resolve()}function O(q){const ue=Be.values().next().value;return ue&&typeof ue.runWithContext=="function"?ue.runWithContext(q):q()}function _(q,ue){let Q;const[K,X,ne]=Qf(q,ue);Q=Hr(K.reverse(),"beforeRouteLeave",q,ue);for(const C of K)C.leaveGuards.forEach(D=>{Q.push(ls(D,q,ue))});const x=B.bind(null,q,ue);return Q.push(x),We(Q).then(()=>{Q=[];for(const C of i.list())Q.push(ls(C,q,ue));return Q.push(x),We(Q)}).then(()=>{Q=Hr(X,"beforeRouteUpdate",q,ue);for(const C of X)C.updateGuards.forEach(D=>{Q.push(ls(D,q,ue))});return Q.push(x),We(Q)}).then(()=>{Q=[];for(const C of ne)if(C.beforeEnter)if(Ot(C.beforeEnter))for(const D of C.beforeEnter)Q.push(ls(D,q,ue));else Q.push(ls(C.beforeEnter,q,ue));return Q.push(x),We(Q)}).then(()=>(q.matched.forEach(C=>C.enterCallbacks={}),Q=Hr(ne,"beforeRouteEnter",q,ue,O),Q.push(x),We(Q))).then(()=>{Q=[];for(const C of a.list())Q.push(ls(C,q,ue));return Q.push(x),We(Q)}).catch(C=>qt(C,Le.NAVIGATION_CANCELLED)?C:Promise.reject(C))}function v(q,ue,Q){l.list().forEach(K=>O(()=>K(q,ue,Q)))}function p(q,ue,Q,K,X){const ne=F(q,ue);if(ne)return ne;const x=ue===ns,C=Is?history.state:{};Q&&(K||x?o.replace(q.fullPath,ke({scroll:x&&C&&C.scroll},X)):o.push(q.fullPath,X)),u.value=q,oe(q,ue,Q,x),m()}let A;function I(){A||(A=o.listen((q,ue,Q)=>{if(!et.listening)return;const K=U(q),X=V(K,et.currentRoute.value);if(X){R(ke(X,{replace:!0,force:!0}),K).catch(un);return}d=K;const ne=u.value;Is&&Vf(Hi(ne.fullPath,Q.delta),xr()),_(K,ne).catch(x=>qt(x,Le.NAVIGATION_ABORTED|Le.NAVIGATION_CANCELLED)?x:qt(x,Le.NAVIGATION_GUARD_REDIRECT)?(R(ke(z(x.to),{force:!0}),K).then(C=>{qt(C,Le.NAVIGATION_ABORTED|Le.NAVIGATION_DUPLICATED)&&!Q.delta&&Q.type===lo.pop&&o.go(-1,!1)}).catch(un),Promise.reject()):(Q.delta&&o.go(-Q.delta,!1),j(x,K,ne))).then(x=>{x=x||p(K,ne,!1),x&&(Q.delta&&!qt(x,Le.NAVIGATION_CANCELLED)?o.go(-Q.delta,!1):Q.type===lo.pop&&qt(x,Le.NAVIGATION_ABORTED|Le.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),v(K,ne,x)}).catch(un)}))}let P=Qs(),Y=Qs(),E;function j(q,ue,Q){m(q);const K=Y.list();return K.length?K.forEach(X=>X(q,ue,Q)):console.error(q),Promise.reject(q)}function $(){return E&&u.value!==ns?Promise.resolve():new Promise((q,ue)=>{P.add([q,ue])})}function m(q){return E||(E=!q,I(),P.list().forEach(([ue,Q])=>q?Q(q):ue()),P.reset()),q}function oe(q,ue,Q,K){const{scrollBehavior:X}=e;if(!Is||!X)return Promise.resolve();const ne=!Q&&Bf(Hi(q.fullPath,0))||(K||!Q)&&history.state&&history.state.scroll||null;return dr().then(()=>X(q,ue,ne)).then(x=>x&&jf(x)).catch(x=>j(x,q,ue))}const xe=q=>o.go(q);let Ke;const Be=new Set,et={currentRoute:u,listening:!0,addRoute:g,removeRoute:S,clearRoutes:t.clearRoutes,hasRoute:k,getRoutes:T,resolve:U,options:e,push:N,replace:L,go:xe,back:()=>xe(-1),forward:()=>xe(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:Y.add,isReady:$,install(q){q.component("RouterLink",mp),q.component("RouterView",vp),q.config.globalProperties.$router=et,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>_e(u)}),Is&&!Ke&&u.value===ns&&(Ke=!0,N(o.location).catch(K=>{}));const ue={};for(const K in ns)Object.defineProperty(ue,K,{get:()=>u.value[K],enumerable:!0});q.provide(vr,et),q.provide(Uo,Ka(ue)),q.provide(co,u);const Q=q.unmount;Be.add(q),q.unmount=function(){Be.delete(q),Be.size<1&&(d=ns,A&&A(),A=null,u.value=ns,Ke=!1,E=!1),Q()}}};function We(q){return q.reduce((ue,Q)=>ue.then(()=>O(Q)),Promise.resolve())}return et}function ps(){return vt(vr)}function Jl(e){return vt(Uo)}function Xl(e,t){return function(){return e.apply(t,arguments)}}const{toString:_p}=Object.prototype,{getPrototypeOf:Fo}=Object,{iterator:wr,toStringTag:Yl}=Symbol,_r=(e=>t=>{const s=_p.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),At=e=>(e=e.toLowerCase(),t=>_r(t)===e),Cr=e=>t=>typeof t===e,{isArray:Hs}=Array,Vs=Cr("undefined");function $n(e){return e!==null&&!Vs(e)&&e.constructor!==null&&!Vs(e.constructor)&&ut(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Zl=At("ArrayBuffer");function Cp(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Zl(e.buffer),t}const Sp=Cr("string"),ut=Cr("function"),eu=Cr("number"),kn=e=>e!==null&&typeof e=="object",$p=e=>e===!0||e===!1,Fn=e=>{if(_r(e)!=="object")return!1;const t=Fo(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Yl in e)&&!(wr in e)},kp=e=>{if(!kn(e)||$n(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Ep=At("Date"),Tp=At("File"),Op=At("Blob"),Rp=At("FileList"),Ap=e=>kn(e)&&ut(e.pipe),Ip=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ut(e.append)&&((t=_r(e))==="formdata"||t==="object"&&ut(e.toString)&&e.toString()==="[object FormData]"))},Np=At("URLSearchParams"),[Dp,Pp,Lp,Mp]=["ReadableStream","Request","Response","Headers"].map(At),Up=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function En(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Hs(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if($n(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(r=0;r<a;r++)l=i[r],t.call(null,e[l],l,e)}}function tu(e,t){if($n(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,o;for(;r-- >0;)if(o=s[r],t===o.toLowerCase())return o;return null}const _s=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),su=e=>!Vs(e)&&e!==_s;function fo(){const{caseless:e,skipUndefined:t}=su(this)&&this||{},s={},r=(o,i)=>{const a=e&&tu(s,i)||i;Fn(s[a])&&Fn(o)?s[a]=fo(s[a],o):Fn(o)?s[a]=fo({},o):Hs(o)?s[a]=o.slice():(!t||!Vs(o))&&(s[a]=o)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&En(arguments[o],r);return s}const Fp=(e,t,s,{allOwnKeys:r}={})=>(En(t,(o,i)=>{s&&ut(o)?e[i]=Xl(o,s):e[i]=o},{allOwnKeys:r}),e),jp=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Vp=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Bp=(e,t,s,r)=>{let o,i,a;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=s!==!1&&Fo(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Hp=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},qp=e=>{if(!e)return null;if(Hs(e))return e;let t=e.length;if(!eu(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Kp=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Fo(Uint8Array)),Gp=(e,t)=>{const r=(e&&e[wr]).call(e);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},Wp=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},zp=At("HTMLFormElement"),Qp=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,o){return r.toUpperCase()+o}),sa=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Jp=At("RegExp"),nu=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};En(s,(o,i)=>{let a;(a=t(o,i,e))!==!1&&(r[i]=a||o)}),Object.defineProperties(e,r)},Xp=e=>{nu(e,(t,s)=>{if(ut(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(ut(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Yp=(e,t)=>{const s={},r=o=>{o.forEach(i=>{s[i]=!0})};return Hs(e)?r(e):r(String(e).split(t)),s},Zp=()=>{},eh=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function th(e){return!!(e&&ut(e.append)&&e[Yl]==="FormData"&&e[wr])}const sh=e=>{const t=new Array(10),s=(r,o)=>{if(kn(r)){if(t.indexOf(r)>=0)return;if($n(r))return r;if(!("toJSON"in r)){t[o]=r;const i=Hs(r)?[]:{};return En(r,(a,l)=>{const u=s(a,o+1);!Vs(u)&&(i[l]=u)}),t[o]=void 0,i}}return r};return s(e,0)},nh=At("AsyncFunction"),rh=e=>e&&(kn(e)||ut(e))&&ut(e.then)&&ut(e.catch),ru=((e,t)=>e?setImmediate:t?((s,r)=>(_s.addEventListener("message",({source:o,data:i})=>{o===_s&&i===s&&r.length&&r.shift()()},!1),o=>{r.push(o),_s.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ut(_s.postMessage)),oh=typeof queueMicrotask<"u"?queueMicrotask.bind(_s):typeof process<"u"&&process.nextTick||ru,ih=e=>e!=null&&ut(e[wr]),M={isArray:Hs,isArrayBuffer:Zl,isBuffer:$n,isFormData:Ip,isArrayBufferView:Cp,isString:Sp,isNumber:eu,isBoolean:$p,isObject:kn,isPlainObject:Fn,isEmptyObject:kp,isReadableStream:Dp,isRequest:Pp,isResponse:Lp,isHeaders:Mp,isUndefined:Vs,isDate:Ep,isFile:Tp,isBlob:Op,isRegExp:Jp,isFunction:ut,isStream:Ap,isURLSearchParams:Np,isTypedArray:Kp,isFileList:Rp,forEach:En,merge:fo,extend:Fp,trim:Up,stripBOM:jp,inherits:Vp,toFlatObject:Bp,kindOf:_r,kindOfTest:At,endsWith:Hp,toArray:qp,forEachEntry:Gp,matchAll:Wp,isHTMLForm:zp,hasOwnProperty:sa,hasOwnProp:sa,reduceDescriptors:nu,freezeMethods:Xp,toObjectSet:Yp,toCamelCase:Qp,noop:Zp,toFiniteNumber:eh,findKey:tu,global:_s,isContextDefined:su,isSpecCompliantForm:th,toJSONObject:sh,isAsyncFn:nh,isThenable:rh,setImmediate:ru,asap:oh,isIterable:ih};function Ce(e,t,s,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}M.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const ou=Ce.prototype,iu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{iu[e]={value:e}});Object.defineProperties(Ce,iu);Object.defineProperty(ou,"isAxiosError",{value:!0});Ce.from=(e,t,s,r,o,i)=>{const a=Object.create(ou);M.toFlatObject(e,a,function(c){return c!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return Ce.call(a,l,u,s,r,o),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const ah=null;function po(e){return M.isPlainObject(e)||M.isArray(e)}function au(e){return M.endsWith(e,"[]")?e.slice(0,-2):e}function na(e,t,s){return e?e.concat(t).map(function(o,i){return o=au(o),!s&&i?"["+o+"]":o}).join(s?".":""):t}function lh(e){return M.isArray(e)&&!e.some(po)}const uh=M.toFlatObject(M,{},null,function(t){return/^is[A-Z]/.test(t)});function Sr(e,t,s){if(!M.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=M.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,k){return!M.isUndefined(k[T])});const r=s.metaTokens,o=s.visitor||c,i=s.dots,a=s.indexes,u=(s.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(t);if(!M.isFunction(o))throw new TypeError("visitor must be a function");function d(S){if(S===null)return"";if(M.isDate(S))return S.toISOString();if(M.isBoolean(S))return S.toString();if(!u&&M.isBlob(S))throw new Ce("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(S)||M.isTypedArray(S)?u&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function c(S,T,k){let U=S;if(S&&!k&&typeof S=="object"){if(M.endsWith(T,"{}"))T=r?T:T.slice(0,-2),S=JSON.stringify(S);else if(M.isArray(S)&&lh(S)||(M.isFileList(S)||M.endsWith(T,"[]"))&&(U=M.toArray(S)))return T=au(T),U.forEach(function(F,N){!(M.isUndefined(F)||F===null)&&t.append(a===!0?na([T],N,i):a===null?T:T+"[]",d(F))}),!1}return po(S)?!0:(t.append(na(k,T,i),d(S)),!1)}const f=[],w=Object.assign(uh,{defaultVisitor:c,convertValue:d,isVisitable:po});function g(S,T){if(!M.isUndefined(S)){if(f.indexOf(S)!==-1)throw Error("Circular reference detected in "+T.join("."));f.push(S),M.forEach(S,function(U,z){(!(M.isUndefined(U)||U===null)&&o.call(t,U,M.isString(z)?z.trim():z,T,w))===!0&&g(U,T?T.concat(z):[z])}),f.pop()}}if(!M.isObject(e))throw new TypeError("data must be an object");return g(e),t}function ra(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function jo(e,t){this._pairs=[],e&&Sr(e,this,t)}const lu=jo.prototype;lu.append=function(t,s){this._pairs.push([t,s])};lu.toString=function(t){const s=t?function(r){return t.call(this,r,ra)}:ra;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function ch(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function uu(e,t,s){if(!t)return e;const r=s&&s.encode||ch;M.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let i;if(o?i=o(t,s):i=M.isURLSearchParams(t)?t.toString():new jo(t,s).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class dh{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){M.forEach(this.handlers,function(r){r!==null&&t(r)})}}const oa=dh,cu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fh=typeof URLSearchParams<"u"?URLSearchParams:jo,ph=typeof FormData<"u"?FormData:null,hh=typeof Blob<"u"?Blob:null,gh={isBrowser:!0,classes:{URLSearchParams:fh,FormData:ph,Blob:hh},protocols:["http","https","file","blob","url","data"]},Vo=typeof window<"u"&&typeof document<"u",ho=typeof navigator=="object"&&navigator||void 0,mh=Vo&&(!ho||["ReactNative","NativeScript","NS"].indexOf(ho.product)<0),yh=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),bh=Vo&&window.location.href||"http://localhost",xh=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vo,hasStandardBrowserEnv:mh,hasStandardBrowserWebWorkerEnv:yh,navigator:ho,origin:bh},Symbol.toStringTag,{value:"Module"})),Ze={...xh,...gh};function vh(e,t){return Sr(e,new Ze.classes.URLSearchParams,{visitor:function(s,r,o,i){return Ze.isNode&&M.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function wh(e){return M.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function _h(e){const t={},s=Object.keys(e);let r;const o=s.length;let i;for(r=0;r<o;r++)i=s[r],t[i]=e[i];return t}function du(e){function t(s,r,o,i){let a=s[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=i>=s.length;return a=!a&&M.isArray(o)?o.length:a,u?(M.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!l):((!o[a]||!M.isObject(o[a]))&&(o[a]=[]),t(s,r,o[a],i)&&M.isArray(o[a])&&(o[a]=_h(o[a])),!l)}if(M.isFormData(e)&&M.isFunction(e.entries)){const s={};return M.forEachEntry(e,(r,o)=>{t(wh(r),o,s,0)}),s}return null}function Ch(e,t,s){if(M.isString(e))try{return(t||JSON.parse)(e),M.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const Bo={transitional:cu,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",o=r.indexOf("application/json")>-1,i=M.isObject(t);if(i&&M.isHTMLForm(t)&&(t=new FormData(t)),M.isFormData(t))return o?JSON.stringify(du(t)):t;if(M.isArrayBuffer(t)||M.isBuffer(t)||M.isStream(t)||M.isFile(t)||M.isBlob(t)||M.isReadableStream(t))return t;if(M.isArrayBufferView(t))return t.buffer;if(M.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return vh(t,this.formSerializer).toString();if((l=M.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Sr(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return i||o?(s.setContentType("application/json",!1),Ch(t)):t}],transformResponse:[function(t){const s=this.transitional||Bo.transitional,r=s&&s.forcedJSONParsing,o=this.responseType==="json";if(M.isResponse(t)||M.isReadableStream(t))return t;if(t&&M.isString(t)&&(r&&!this.responseType||o)){const a=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?Ce.from(l,Ce.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ze.classes.FormData,Blob:Ze.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],e=>{Bo.headers[e]={}});const Ho=Bo,Sh=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$h=e=>{const t={};let s,r,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),s=a.substring(0,o).trim().toLowerCase(),r=a.substring(o+1).trim(),!(!s||t[s]&&Sh[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},ia=Symbol("internals");function Js(e){return e&&String(e).trim().toLowerCase()}function jn(e){return e===!1||e==null?e:M.isArray(e)?e.map(jn):String(e)}function kh(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const Eh=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function qr(e,t,s,r,o){if(M.isFunction(r))return r.call(this,t,s);if(o&&(t=s),!!M.isString(t)){if(M.isString(r))return t.indexOf(r)!==-1;if(M.isRegExp(r))return r.test(t)}}function Th(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function Oh(e,t){const s=M.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(o,i,a){return this[r].call(this,t,o,i,a)},configurable:!0})})}class $r{constructor(t){t&&this.set(t)}set(t,s,r){const o=this;function i(l,u,d){const c=Js(u);if(!c)throw new Error("header name must be a non-empty string");const f=M.findKey(o,c);(!f||o[f]===void 0||d===!0||d===void 0&&o[f]!==!1)&&(o[f||u]=jn(l))}const a=(l,u)=>M.forEach(l,(d,c)=>i(d,c,u));if(M.isPlainObject(t)||t instanceof this.constructor)a(t,s);else if(M.isString(t)&&(t=t.trim())&&!Eh(t))a($h(t),s);else if(M.isObject(t)&&M.isIterable(t)){let l={},u,d;for(const c of t){if(!M.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[d=c[0]]=(u=l[d])?M.isArray(u)?[...u,c[1]]:[u,c[1]]:c[1]}a(l,s)}else t!=null&&i(s,t,r);return this}get(t,s){if(t=Js(t),t){const r=M.findKey(this,t);if(r){const o=this[r];if(!s)return o;if(s===!0)return kh(o);if(M.isFunction(s))return s.call(this,o,r);if(M.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Js(t),t){const r=M.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||qr(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let o=!1;function i(a){if(a=Js(a),a){const l=M.findKey(r,a);l&&(!s||qr(r,r[l],l,s))&&(delete r[l],o=!0)}}return M.isArray(t)?t.forEach(i):i(t),o}clear(t){const s=Object.keys(this);let r=s.length,o=!1;for(;r--;){const i=s[r];(!t||qr(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const s=this,r={};return M.forEach(this,(o,i)=>{const a=M.findKey(r,i);if(a){s[a]=jn(o),delete s[i];return}const l=t?Th(i):String(i).trim();l!==i&&delete s[i],s[l]=jn(o),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return M.forEach(this,(r,o)=>{r!=null&&r!==!1&&(s[o]=t&&M.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[ia]=this[ia]={accessors:{}}).accessors,o=this.prototype;function i(a){const l=Js(a);r[l]||(Oh(o,a),r[l]=!0)}return M.isArray(t)?t.forEach(i):i(t),this}}$r.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors($r.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});M.freezeMethods($r);const kt=$r;function Kr(e,t){const s=this||Ho,r=t||s,o=kt.from(r.headers);let i=r.data;return M.forEach(e,function(l){i=l.call(s,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function fu(e){return!!(e&&e.__CANCEL__)}function qs(e,t,s){Ce.call(this,e??"canceled",Ce.ERR_CANCELED,t,s),this.name="CanceledError"}M.inherits(qs,Ce,{__CANCEL__:!0});function pu(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new Ce("Request failed with status code "+s.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Rh(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ah(e,t){e=e||10;const s=new Array(e),r=new Array(e);let o=0,i=0,a;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),c=r[i];a||(a=d),s[o]=u,r[o]=d;let f=i,w=0;for(;f!==o;)w+=s[f++],f=f%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),d-a<t)return;const g=c&&d-c;return g?Math.round(w*1e3/g):void 0}}function Ih(e,t){let s=0,r=1e3/t,o,i;const a=(d,c=Date.now())=>{s=c,o=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const c=Date.now(),f=c-s;f>=r?a(d,c):(o=d,i||(i=setTimeout(()=>{i=null,a(o)},r-f)))},()=>o&&a(o)]}const Zn=(e,t,s=3)=>{let r=0;const o=Ah(50,250);return Ih(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,u=a-r,d=o(u),c=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&c?(l-a)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},s)},aa=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},la=e=>(...t)=>M.asap(()=>e(...t)),Nh=Ze.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Ze.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Ze.origin),Ze.navigator&&/(msie|trident)/i.test(Ze.navigator.userAgent)):()=>!0,Dh=Ze.hasStandardBrowserEnv?{write(e,t,s,r,o,i,a){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];M.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),M.isString(r)&&l.push(`path=${r}`),M.isString(o)&&l.push(`domain=${o}`),i===!0&&l.push("secure"),M.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ph(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Lh(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hu(e,t,s){let r=!Ph(t);return e&&(r||s==!1)?Lh(e,t):t}const ua=e=>e instanceof kt?{...e}:e;function $s(e,t){t=t||{};const s={};function r(d,c,f,w){return M.isPlainObject(d)&&M.isPlainObject(c)?M.merge.call({caseless:w},d,c):M.isPlainObject(c)?M.merge({},c):M.isArray(c)?c.slice():c}function o(d,c,f,w){if(M.isUndefined(c)){if(!M.isUndefined(d))return r(void 0,d,f,w)}else return r(d,c,f,w)}function i(d,c){if(!M.isUndefined(c))return r(void 0,c)}function a(d,c){if(M.isUndefined(c)){if(!M.isUndefined(d))return r(void 0,d)}else return r(void 0,c)}function l(d,c,f){if(f in t)return r(d,c);if(f in e)return r(void 0,d)}const u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(d,c,f)=>o(ua(d),ua(c),f,!0)};return M.forEach(Object.keys({...e,...t}),function(c){const f=u[c]||o,w=f(e[c],t[c],c);M.isUndefined(w)&&f!==l||(s[c]=w)}),s}const gu=e=>{const t=$s({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:l}=t;if(t.headers=a=kt.from(a),t.url=uu(hu(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),M.isFormData(s)){if(Ze.hasStandardBrowserEnv||Ze.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(M.isFunction(s.getHeaders)){const u=s.getHeaders(),d=["content-type","content-length"];Object.entries(u).forEach(([c,f])=>{d.includes(c.toLowerCase())&&a.set(c,f)})}}if(Ze.hasStandardBrowserEnv&&(r&&M.isFunction(r)&&(r=r(t)),r||r!==!1&&Nh(t.url))){const u=o&&i&&Dh.read(i);u&&a.set(o,u)}return t},Mh=typeof XMLHttpRequest<"u",Uh=Mh&&function(e){return new Promise(function(s,r){const o=gu(e);let i=o.data;const a=kt.from(o.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=o,c,f,w,g,S;function T(){g&&g(),S&&S(),o.cancelToken&&o.cancelToken.unsubscribe(c),o.signal&&o.signal.removeEventListener("abort",c)}let k=new XMLHttpRequest;k.open(o.method.toUpperCase(),o.url,!0),k.timeout=o.timeout;function U(){if(!k)return;const F=kt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),L={data:!l||l==="text"||l==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:F,config:e,request:k};pu(function(R){s(R),T()},function(R){r(R),T()},L),k=null}"onloadend"in k?k.onloadend=U:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(U)},k.onabort=function(){k&&(r(new Ce("Request aborted",Ce.ECONNABORTED,e,k)),k=null)},k.onerror=function(N){const L=N&&N.message?N.message:"Network Error",V=new Ce(L,Ce.ERR_NETWORK,e,k);V.event=N||null,r(V),k=null},k.ontimeout=function(){let N=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const L=o.transitional||cu;o.timeoutErrorMessage&&(N=o.timeoutErrorMessage),r(new Ce(N,L.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,e,k)),k=null},i===void 0&&a.setContentType(null),"setRequestHeader"in k&&M.forEach(a.toJSON(),function(N,L){k.setRequestHeader(L,N)}),M.isUndefined(o.withCredentials)||(k.withCredentials=!!o.withCredentials),l&&l!=="json"&&(k.responseType=o.responseType),d&&([w,S]=Zn(d,!0),k.addEventListener("progress",w)),u&&k.upload&&([f,g]=Zn(u),k.upload.addEventListener("progress",f),k.upload.addEventListener("loadend",g)),(o.cancelToken||o.signal)&&(c=F=>{k&&(r(!F||F.type?new qs(null,e,k):F),k.abort(),k=null)},o.cancelToken&&o.cancelToken.subscribe(c),o.signal&&(o.signal.aborted?c():o.signal.addEventListener("abort",c)));const z=Rh(o.url);if(z&&Ze.protocols.indexOf(z)===-1){r(new Ce("Unsupported protocol "+z+":",Ce.ERR_BAD_REQUEST,e));return}k.send(i||null)})},Fh=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,o;const i=function(d){if(!o){o=!0,l();const c=d instanceof Error?d:this.reason;r.abort(c instanceof Ce?c:new qs(c instanceof Error?c.message:c))}};let a=t&&setTimeout(()=>{a=null,i(new Ce(`timeout ${t} of ms exceeded`,Ce.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>M.asap(l),u}},jh=Fh,Vh=function*(e,t){let s=e.byteLength;if(!t||s<t){yield e;return}let r=0,o;for(;r<s;)o=r+t,yield e.slice(r,o),r=o},Bh=async function*(e,t){for await(const s of Hh(e))yield*Vh(s,t)},Hh=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},ca=(e,t,s,r)=>{const o=Bh(e,t);let i=0,a,l=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:c}=await o.next();if(d){l(),u.close();return}let f=c.byteLength;if(s){let w=i+=f;s(w)}u.enqueue(new Uint8Array(c))}catch(d){throw l(d),d}},cancel(u){return l(u),o.return()}},{highWaterMark:2})},da=64*1024,{isFunction:In}=M,qh=(({Request:e,Response:t})=>({Request:e,Response:t}))(M.global),{ReadableStream:fa,TextEncoder:pa}=M.global,ha=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Kh=e=>{e=M.merge.call({skipUndefined:!0},qh,e);const{fetch:t,Request:s,Response:r}=e,o=t?In(t):typeof fetch=="function",i=In(s),a=In(r);if(!o)return!1;const l=o&&In(fa),u=o&&(typeof pa=="function"?(S=>T=>S.encode(T))(new pa):async S=>new Uint8Array(await new s(S).arrayBuffer())),d=i&&l&&ha(()=>{let S=!1;const T=new s(Ze.origin,{body:new fa,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!T}),c=a&&l&&ha(()=>M.isReadableStream(new r("").body)),f={stream:c&&(S=>S.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!f[S]&&(f[S]=(T,k)=>{let U=T&&T[S];if(U)return U.call(T);throw new Ce(`Response type '${S}' is not supported`,Ce.ERR_NOT_SUPPORT,k)})});const w=async S=>{if(S==null)return 0;if(M.isBlob(S))return S.size;if(M.isSpecCompliantForm(S))return(await new s(Ze.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(M.isArrayBufferView(S)||M.isArrayBuffer(S))return S.byteLength;if(M.isURLSearchParams(S)&&(S=S+""),M.isString(S))return(await u(S)).byteLength},g=async(S,T)=>{const k=M.toFiniteNumber(S.getContentLength());return k??w(T)};return async S=>{let{url:T,method:k,data:U,signal:z,cancelToken:F,timeout:N,onDownloadProgress:L,onUploadProgress:V,responseType:R,headers:B,withCredentials:O="same-origin",fetchOptions:_}=gu(S),v=t||fetch;R=R?(R+"").toLowerCase():"text";let p=jh([z,F&&F.toAbortSignal()],N),A=null;const I=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let P;try{if(V&&d&&k!=="get"&&k!=="head"&&(P=await g(B,U))!==0){let oe=new s(T,{method:"POST",body:U,duplex:"half"}),xe;if(M.isFormData(U)&&(xe=oe.headers.get("content-type"))&&B.setContentType(xe),oe.body){const[Ke,Be]=aa(P,Zn(la(V)));U=ca(oe.body,da,Ke,Be)}}M.isString(O)||(O=O?"include":"omit");const Y=i&&"credentials"in s.prototype,E={..._,signal:p,method:k.toUpperCase(),headers:B.normalize().toJSON(),body:U,duplex:"half",credentials:Y?O:void 0};A=i&&new s(T,E);let j=await(i?v(A,_):v(T,E));const $=c&&(R==="stream"||R==="response");if(c&&(L||$&&I)){const oe={};["status","statusText","headers"].forEach(et=>{oe[et]=j[et]});const xe=M.toFiniteNumber(j.headers.get("content-length")),[Ke,Be]=L&&aa(xe,Zn(la(L),!0))||[];j=new r(ca(j.body,da,Ke,()=>{Be&&Be(),I&&I()}),oe)}R=R||"text";let m=await f[M.findKey(f,R)||"text"](j,S);return!$&&I&&I(),await new Promise((oe,xe)=>{pu(oe,xe,{data:m,headers:kt.from(j.headers),status:j.status,statusText:j.statusText,config:S,request:A})})}catch(Y){throw I&&I(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,S,A),{cause:Y.cause||Y}):Ce.from(Y,Y&&Y.code,S,A)}}},Gh=new Map,mu=e=>{let t=e&&e.env||{};const{fetch:s,Request:r,Response:o}=t,i=[r,o,s];let a=i.length,l=a,u,d,c=Gh;for(;l--;)u=i[l],d=c.get(u),d===void 0&&c.set(u,d=l?new Map:Kh(t)),c=d;return d};mu();const qo={http:ah,xhr:Uh,fetch:{get:mu}};M.forEach(qo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ga=e=>`- ${e}`,Wh=e=>M.isFunction(e)||e===null||e===!1;function zh(e,t){e=M.isArray(e)?e:[e];const{length:s}=e;let r,o;const i={};for(let a=0;a<s;a++){r=e[a];let l;if(o=r,!Wh(r)&&(o=qo[(l=String(r)).toLowerCase()],o===void 0))throw new Ce(`Unknown adapter '${l}'`);if(o&&(M.isFunction(o)||(o=o.get(t))))break;i[l||"#"+a]=o}if(!o){const a=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=s?a.length>1?`since :
`+a.map(ga).join(`
`):" "+ga(a[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return o}const yu={getAdapter:zh,adapters:qo};function Gr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qs(null,e)}function ma(e){return Gr(e),e.headers=kt.from(e.headers),e.data=Kr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),yu.getAdapter(e.adapter||Ho.adapter,e)(e).then(function(r){return Gr(e),r.data=Kr.call(e,e.transformResponse,r),r.headers=kt.from(r.headers),r},function(r){return fu(r)||(Gr(e),r&&r.response&&(r.response.data=Kr.call(e,e.transformResponse,r.response),r.response.headers=kt.from(r.response.headers))),Promise.reject(r)})}const bu="1.13.2",kr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{kr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ya={};kr.transitional=function(t,s,r){function o(i,a){return"[Axios v"+bu+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(t===!1)throw new Ce(o(a," has been removed"+(s?" in "+s:"")),Ce.ERR_DEPRECATED);return s&&!ya[a]&&(ya[a]=!0,console.warn(o(a," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,a,l):!0}};kr.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Qh(e,t,s){if(typeof e!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const l=e[i],u=l===void 0||a(l,i,e);if(u!==!0)throw new Ce("option "+i+" must be "+u,Ce.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ce("Unknown option "+i,Ce.ERR_BAD_OPTION)}}const Vn={assertOptions:Qh,validators:kr},Pt=Vn.validators;class er{constructor(t){this.defaults=t||{},this.interceptors={request:new oa,response:new oa}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=$s(this.defaults,s);const{transitional:r,paramsSerializer:o,headers:i}=s;r!==void 0&&Vn.assertOptions(r,{silentJSONParsing:Pt.transitional(Pt.boolean),forcedJSONParsing:Pt.transitional(Pt.boolean),clarifyTimeoutError:Pt.transitional(Pt.boolean)},!1),o!=null&&(M.isFunction(o)?s.paramsSerializer={serialize:o}:Vn.assertOptions(o,{encode:Pt.function,serialize:Pt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Vn.assertOptions(s,{baseUrl:Pt.spelling("baseURL"),withXsrfToken:Pt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let a=i&&M.merge(i.common,i[s.method]);i&&M.forEach(["delete","get","head","post","put","patch","common"],S=>{delete i[S]}),s.headers=kt.concat(a,i);const l=[];let u=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(s)===!1||(u=u&&T.synchronous,l.unshift(T.fulfilled,T.rejected))});const d=[];this.interceptors.response.forEach(function(T){d.push(T.fulfilled,T.rejected)});let c,f=0,w;if(!u){const S=[ma.bind(this),void 0];for(S.unshift(...l),S.push(...d),w=S.length,c=Promise.resolve(s);f<w;)c=c.then(S[f++],S[f++]);return c}w=l.length;let g=s;for(;f<w;){const S=l[f++],T=l[f++];try{g=S(g)}catch(k){T.call(this,k);break}}try{c=ma.call(this,g)}catch(S){return Promise.reject(S)}for(f=0,w=d.length;f<w;)c=c.then(d[f++],d[f++]);return c}getUri(t){t=$s(this.defaults,t);const s=hu(t.baseURL,t.url,t.allowAbsoluteUrls);return uu(s,t.params,t.paramsSerializer)}}M.forEach(["delete","get","head","options"],function(t){er.prototype[t]=function(s,r){return this.request($s(r||{},{method:t,url:s,data:(r||{}).data}))}});M.forEach(["post","put","patch"],function(t){function s(r){return function(i,a,l){return this.request($s(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}er.prototype[t]=s(),er.prototype[t+"Form"]=s(!0)});const Bn=er;class Ko{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(o);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,l){r.reason||(r.reason=new qs(i,a,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Ko(function(o){t=o}),cancel:t}}}const Jh=Ko;function Xh(e){return function(s){return e.apply(null,s)}}function Yh(e){return M.isObject(e)&&e.isAxiosError===!0}const go={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(go).forEach(([e,t])=>{go[t]=e});const Zh=go;function xu(e){const t=new Bn(e),s=Xl(Bn.prototype.request,t);return M.extend(s,Bn.prototype,t,{allOwnKeys:!0}),M.extend(s,t,null,{allOwnKeys:!0}),s.create=function(o){return xu($s(e,o))},s}const Ve=xu(Ho);Ve.Axios=Bn;Ve.CanceledError=qs;Ve.CancelToken=Jh;Ve.isCancel=fu;Ve.VERSION=bu;Ve.toFormData=Sr;Ve.AxiosError=Ce;Ve.Cancel=Ve.CanceledError;Ve.all=function(t){return Promise.all(t)};Ve.spread=Xh;Ve.isAxiosError=Yh;Ve.mergeConfig=$s;Ve.AxiosHeaders=kt;Ve.formToJSON=e=>du(M.isHTMLForm(e)?new FormData(e):e);Ve.getAdapter=yu.getAdapter;Ve.HttpStatusCode=Zh;Ve.default=Ve;const eg=Ve,H=eg.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"}});H.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const tg=async e=>(await H.post("/login",e)).data,Es=Rt("auth",{state:()=>({user:null,token:null,isAuthenticated:!1,loading:!1,error:null}),getters:{isManager:e=>{var t;return((t=e.user)==null?void 0:t.role)==="manager"},isWaiter:e=>{var t;return((t=e.user)==null?void 0:t.role)==="waiter"},isCashier:e=>{var t;return((t=e.user)==null?void 0:t.role)==="cashier"},isBarista:e=>{var t;return((t=e.user)==null?void 0:t.role)==="barista"}},actions:{async login(e){var t,s;this.loading=!0,this.error=null;try{const r=await tg(e);if(r&&r.user&&r.token)return this.user=r.user,this.token=r.token,this.isAuthenticated=!0,localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify(r.user)),!0;throw new Error("Invalid response format")}catch(r){return console.error("Login error:",r),this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||r.message||"ng nhp tht bi",!1}finally{this.loading=!1}},setUser(e){this.user=e,this.isAuthenticated=!!e},setToken(e){this.token=e},logout(){this.user=null,this.token=null,this.isAuthenticated=!1,localStorage.removeItem("token"),localStorage.removeItem("user")},initAuth(){const e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(this.token=e,this.user=JSON.parse(t),this.isAuthenticated=!0)}}});const sg={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 to-purple-700 p-5"},ng={class:"bg-white p-8 lg:p-10 rounded-xl shadow-2xl w-full max-w-md"},rg=["disabled"],og=["disabled"],ig=["disabled"],ag={key:0,class:"text-red-600 text-center mt-4 p-3 bg-red-50 rounded-lg border border-red-200"},lg={class:"mt-8 pt-5 border-t border-gray-200"},ug={__name:"LoginView",setup(e){const t=ps(),s=Es(),r=Z(""),o=Z(""),i=Z(!1),a=Z(""),l=async()=>{i.value=!0,a.value="",await s.login({username:r.value,password:o.value})?t.push("/dashboard"):a.value=s.error,i.value=!1},u=(d,c)=>{r.value=d,o.value=c,l()};return(d,c)=>(y(),b("div",sg,[n("div",ng,[c[13]||(c[13]=n("div",{class:"text-center mb-8"},[n("h1",{class:"text-3xl lg:text-4xl font-bold text-gray-800 mb-2"}," Caf POS"),n("p",{class:"text-gray-600 text-sm"},"H thng qun l qun c ph")],-1)),n("form",{onSubmit:ze(l,["prevent"]),class:"space-y-5"},[n("div",null,[c[6]||(c[6]=n("label",{class:"block mb-2 text-gray-700 font-medium"},"Tn ng nhp",-1)),ae(n("input",{"onUpdate:modelValue":c[0]||(c[0]=f=>r.value=f),type:"text",required:"",placeholder:"Nhp tn ng nhp",disabled:i.value,class:"w-full p-3 border-2 border-gray-300 rounded-lg text-base transition-colors focus:outline-none focus:border-blue-600 disabled:bg-gray-100 disabled:cursor-not-allowed"},null,8,rg),[[fe,r.value]])]),n("div",null,[c[7]||(c[7]=n("label",{class:"block mb-2 text-gray-700 font-medium"},"Mt khu",-1)),ae(n("input",{"onUpdate:modelValue":c[1]||(c[1]=f=>o.value=f),type:"password",required:"",placeholder:"Nhp mt khu",disabled:i.value,class:"w-full p-3 border-2 border-gray-300 rounded-lg text-base transition-colors focus:outline-none focus:border-blue-600 disabled:bg-gray-100 disabled:cursor-not-allowed"},null,8,og),[[fe,o.value]])]),n("button",{type:"submit",disabled:i.value,class:"w-full p-4 bg-blue-600 text-white border-none rounded-lg text-base font-semibold cursor-pointer transition-colors hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed"},h(i.value?"ang ng nhp...":"ng nhp"),9,ig),a.value?(y(),b("div",ag,h(a.value),1)):W("",!0)],32),n("div",lg,[c[12]||(c[12]=n("h3",{class:"text-gray-600 text-sm mb-3"},"Ti khon demo:",-1)),n("div",{class:"p-2 bg-gray-100 my-1 rounded-lg cursor-pointer text-xs transition-colors hover:bg-gray-200",onClick:c[2]||(c[2]=f=>u("admin","admin123"))},[...c[8]||(c[8]=[n("strong",{class:"text-gray-700"},"Manager:",-1),Pe(" admin / admin123 ",-1)])]),n("div",{class:"p-2 bg-gray-100 my-1 rounded-lg cursor-pointer text-xs transition-colors hover:bg-gray-200",onClick:c[3]||(c[3]=f=>u("waiter1","waiter123"))},[...c[9]||(c[9]=[n("strong",{class:"text-gray-700"},"Waiter:",-1),Pe(" waiter1 / waiter123 ",-1)])]),n("div",{class:"p-2 bg-blue-50 my-1 rounded-lg cursor-pointer text-xs transition-colors hover:bg-blue-100 border border-blue-200",onClick:c[4]||(c[4]=f=>u("barista1","barista123"))},[...c[10]||(c[10]=[n("strong",{class:"text-blue-700"}," Barista:",-1),Pe(" barista1 / barista123 ",-1)])]),n("div",{class:"p-2 bg-yellow-50 my-1 rounded-lg cursor-pointer text-xs transition-colors hover:bg-yellow-100 border border-yellow-200",onClick:c[5]||(c[5]=f=>u("cashier1","cashier123"))},[...c[11]||(c[11]=[n("strong",{class:"text-yellow-700"}," Cashier:",-1),Pe(" cashier1 / cashier123 ",-1)])])])])]))}},cg=je(ug,[["__scopeId","data-v-3d6ac75c"]]),Rs={async startShift(e){return(await H.post("/shifts/start",e)).data},async endShift(e,t){return(await H.post(`/shifts/${e}/end`,{end_cash:t})).data},async closeShift(e,t){return(await H.post(`/shifts/${e}/close`,{end_cash:t})).data},async getCurrentShift(){return(await H.get("/shifts/current")).data},async getMyShifts(){return(await H.get("/shifts/my")).data},async getAllShifts(){return(await H.get("/shifts")).data},async getShift(e){return(await H.get(`/shifts/${e}`)).data}},Ks=Rt("shift",{state:()=>({currentShift:null,shifts:[],loading:!1,error:null}),getters:{hasOpenShift:e=>e.currentShift!==null&&e.currentShift.status==="OPEN",openShifts:e=>e.shifts.filter(t=>t.status==="OPEN"),closedShifts:e=>e.shifts.filter(t=>t.status==="CLOSED"),waiterShifts:e=>e.shifts.filter(t=>t.role_type==="waiter"),baristaShifts:e=>e.shifts.filter(t=>t.role_type==="barista")},actions:{async startShift(e){var t,s;this.error=null;try{const r=await Rs.startShift(e);return this.currentShift=r,r}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li m ca",r}},async endShift(e,t){var s,r;this.error=null;try{const o=await Rs.endShift(e,t);return this.currentShift=null,o}catch(o){throw this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li kt ca",o}},async closeShift(e,t){var s,r;this.error=null;try{return await Rs.closeShift(e,t)}catch(o){throw this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li cht ca",o}},async fetchCurrentShift(){var e,t,s,r;this.loading=!0,this.error=null;try{this.currentShift=await Rs.getCurrentShift()}catch(o){this.currentShift=null,((t=(e=o.response)==null?void 0:e.data)==null?void 0:t.error)==="no open shift found"?this.error=null:this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li ti ca"}finally{this.loading=!1}},async fetchMyShifts(){var e,t;this.loading=!0,this.error=null;try{this.shifts=await Rs.getMyShifts()||[]}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti shifts",this.shifts=[]}finally{this.loading=!1}},async fetchAllShifts(){var e,t;this.loading=!0,this.error=null;try{this.shifts=await Rs.getAllShifts()||[]}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti shifts",this.shifts=[]}finally{this.loading=!1}},clearError(){this.error=null},reset(){this.currentShift=null,this.shifts=[],this.loading=!1,this.error=null}}}),Kt={async createOrder(e){return(await H.post("/waiter/orders",e)).data},async collectPayment(e,t){return(await H.post(`/waiter/orders/${e}/payment`,t)).data},async editOrder(e,t){return(await H.put(`/waiter/orders/${e}/edit`,t)).data},async sendToBar(e){return(await H.post(`/waiter/orders/${e}/send`)).data},async serveOrder(e){return(await H.post(`/waiter/orders/${e}/serve`)).data},async cancelOrder(e,t){return(await H.post(`/cashier/orders/${e}/cancel`,{reason:t})).data},async refundPartial(e,t,s){return(await H.post(`/cashier/orders/${e}/refund`,{amount:t,reason:s})).data},async getMyOrders(){return(await H.get("/waiter/orders")).data},async getAllOrders(){return(await H.get("/cashier/orders")).data},async getOrder(e){return(await H.get(`/waiter/orders/${e}`)).data}},vu=Rt("order",{state:()=>({orders:[],currentOrder:null,loading:!1,error:null}),actions:{async fetchOrders(){var e,t;this.loading=!0,this.error=null;try{this.orders=await Kt.getMyOrders()||[]}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti orders",this.orders=[]}finally{this.loading=!1}},async fetchAllOrders(){var e,t;this.loading=!0,this.error=null;try{this.orders=await Kt.getAllOrders()||[]}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti orders",this.orders=[]}finally{this.loading=!1}},async createOrder(e){var t,s;this.error=null;try{const r=await Kt.createOrder(e);return this.orders.unshift(r),r}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li to order",r}},async collectPayment(e,t){var s,r;this.error=null;try{const o=await Kt.collectPayment(e,t);return this.updateOrderInList(o),o}catch(o){throw this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li thu tin",o}},async editOrder(e,t){var s,r;this.error=null;try{const o=await Kt.editOrder(e,t);return this.updateOrderInList(o.order),o}catch(o){throw this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li chnh sa order",o}},async sendToBar(e){var t,s;this.error=null;try{const r=await Kt.sendToBar(e);return this.updateOrderInList(r),r}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li gi quy bar",r}},async serveOrder(e){var t,s;this.error=null;try{const r=await Kt.serveOrder(e);return this.updateOrderInList(r),r}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li phc v",r}},async cancelOrder(e,t){var s,r;this.error=null;try{const o=await Kt.cancelOrder(e,t);return this.updateOrderInList(o),o}catch(o){throw this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li hy order",o}},async refundPartial(e,t,s){var r,o;this.error=null;try{const i=await Kt.refundPartial(e,t,s);return this.updateOrderInList(i),i}catch(i){throw this.error=((o=(r=i.response)==null?void 0:r.data)==null?void 0:o.error)||"Li hon tin",i}},updateOrderInList(e){const t=this.orders.findIndex(s=>s.id===e.id);t!==-1&&(this.orders[t]=e)},setCurrentOrder(e){this.currentOrder=e},clearCurrentOrder(){this.currentOrder=null}},getters:{ordersByStatus:e=>t=>e.orders.filter(s=>s.status===t),createdOrders:e=>e.orders.filter(t=>t.status==="CREATED"),paidOrders:e=>e.orders.filter(t=>t.status==="PAID"),inProgressOrders:e=>e.orders.filter(t=>t.status==="IN_PROGRESS"),servedOrders:e=>e.orders.filter(t=>t.status==="SERVED")}}),Xs={async getQueuedOrders(){return(await H.get("/barista/orders/queue")).data},async getMyOrders(){return(await H.get("/barista/orders/my")).data},async acceptOrder(e){return(await H.post(`/barista/orders/${e}/accept`)).data},async markReady(e){return(await H.post(`/barista/orders/${e}/ready`)).data},async getOrder(e){return(await H.get(`/barista/orders/${e}`)).data}},wu=Rt("barista",{state:()=>({queuedOrders:[],myOrders:[],currentOrder:null,loading:!1,error:null}),actions:{async fetchQueuedOrders(){var e,t;this.loading=!0,this.error=null;try{this.queuedOrders=await Xs.getQueuedOrders()||[]}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti queue",this.queuedOrders=[]}finally{this.loading=!1}},async fetchMyOrders(){var e,t;this.loading=!0,this.error=null;try{this.myOrders=await Xs.getMyOrders()||[]}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti orders",this.myOrders=[]}finally{this.loading=!1}},async acceptOrder(e){var t,s;this.error=null;try{const r=await Xs.acceptOrder(e);return this.queuedOrders=this.queuedOrders.filter(o=>o.id!==e),this.myOrders.unshift(r),r}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li nhn order",r}},async markReady(e){var t,s;this.error=null;try{const r=await Xs.markReady(e),o=this.myOrders.findIndex(i=>i.id===e);return o!==-1&&(this.myOrders[o]=r),r}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li nh du hon tt",r}},async getOrder(e){var t,s;this.error=null;try{return this.currentOrder=await Xs.getOrder(e),this.currentOrder}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li ti order",r}},clearCurrentOrder(){this.currentOrder=null}},getters:{inProgressOrders:e=>e.myOrders.filter(t=>t.status==="IN_PROGRESS"),readyOrders:e=>e.myOrders.filter(t=>t.status==="READY"),servedOrders:e=>e.myOrders.filter(t=>t.status==="SERVED"),queueCount:e=>e.queuedOrders.length,inProgressCount:e=>e.myOrders.filter(t=>t.status==="IN_PROGRESS").length,readyCount:e=>e.myOrders.filter(t=>t.status==="READY").length,servedCount:e=>e.myOrders.filter(t=>t.status==="SERVED").length}});const dg={class:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg z-40 safe-area-bottom"},fg={class:"flex justify-around py-2"},pg=["onClick"],hg={class:"text-2xl mb-1"},gg={class:"text-xs font-medium"},mg={__name:"BottomNav",setup(e){const t=ps(),s=Jl(),r=Es(),o=J(()=>{var u;const l=(u=r.user)==null?void 0:u.role;return l==="manager"?[{path:"/dashboard",icon:"",label:"Dashboard"},{path:"/manager/shifts",icon:"",label:"Qun l ca"},{path:"/cashier/reports",icon:"",label:"Bo co"},{path:"/users",icon:"",label:"Nhn vin"},{path:"/profile",icon:"",label:"C nhn"}]:l==="barista"?[{path:"/dashboard",icon:"",label:"Trang ch"},{path:"/barista",icon:"",label:"Barista"},{path:"/shifts",icon:"",label:"Ca lm"},{path:"/profile",icon:"",label:"C nhn"}]:l==="cashier"?[{path:"/dashboard",icon:"",label:"Trang ch"},{path:"/cashier",icon:"",label:"Thu ngn"},{path:"/orders",icon:"",label:"Orders"},{path:"/shifts",icon:"",label:"Ca lm"},{path:"/profile",icon:"",label:"C nhn"}]:[{path:"/dashboard",icon:"",label:"Trang ch"},{path:"/orders",icon:"",label:"Orders"},{path:"/shifts",icon:"",label:"Ca lm"},{path:"/profile",icon:"",label:"C nhn"}]}),i=l=>s.path===l||s.path.startsWith(l+"/"),a=l=>{t.push(l)};return(l,u)=>(y(),b("div",dg,[n("div",fg,[(y(!0),b(de,null,me(o.value,d=>(y(),b("button",{key:d.path,onClick:c=>a(d.path),class:he(["flex flex-col items-center py-2 px-4 rounded-lg transition-colors",i(d.path)?"text-blue-500":"text-gray-600"])},[n("span",hg,h(d.icon),1),n("span",gg,h(d.label),1)],10,pg))),128))])]))}},It=je(mg,[["__scopeId","data-v-6003c3e7"]]);const yg={class:"min-h-screen bg-gray-50"},bg={class:"sticky top-0 z-40 bg-white shadow-sm"},xg={class:"px-4 py-4"},vg={class:"flex items-center justify-between"},wg={class:"text-sm text-gray-600"},_g={class:"text-right"},Cg={class:"text-xs text-gray-500"},Sg={class:"text-sm font-medium text-gray-700"},$g={class:"px-4 py-4 pb-24"},kg={key:0},Eg={class:"grid grid-cols-2 gap-3 mb-4"},Tg={class:"bg-white rounded-2xl p-4 shadow-sm"},Og={class:"text-2xl font-bold text-gray-800"},Rg={class:"bg-white rounded-2xl p-4 shadow-sm"},Ag={class:"text-lg font-bold text-green-600"},Ig={class:"mb-4"},Ng={class:"grid grid-cols-2 gap-3"},Dg={key:1},Pg={key:0,class:"bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl p-4 text-white shadow-lg mb-4"},Lg={class:"flex items-center justify-between mb-2"},Mg={class:"text-sm opacity-90"},Ug={class:"text-sm opacity-90"},Fg={key:1,class:"bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl p-4 text-white shadow-lg mb-4"},jg={key:2},Vg={key:0,class:"mb-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-2xl p-4 shadow-lg"},Bg={class:"flex items-center justify-between mb-2"},Hg={class:"text-sm opacity-90"},qg={class:"text-right"},Kg={class:"font-bold"},Gg={class:"text-xs opacity-90"},Wg={class:"grid grid-cols-2 gap-3 mb-4"},zg={class:"bg-white rounded-2xl p-4 shadow-sm"},Qg={class:"text-2xl font-bold text-yellow-600"},Jg={class:"bg-white rounded-2xl p-4 shadow-sm"},Xg={class:"text-2xl font-bold text-blue-600"},Yg={class:"bg-white rounded-2xl p-4 shadow-sm"},Zg={class:"text-2xl font-bold text-green-600"},em={class:"bg-white rounded-2xl p-4 shadow-sm"},tm={class:"text-2xl font-bold text-purple-600"},sm={class:"mb-4"},nm={class:"grid grid-cols-2 gap-3"},rm={key:1,class:"mb-4"},om={class:"flex items-center justify-between mb-3"},im={class:"space-y-3"},am={class:"flex justify-between items-start mb-2"},lm={class:"font-bold"},um={class:"text-sm text-gray-600"},cm={class:"text-sm text-gray-500"},dm={key:3},fm={key:0},pm={key:0,class:"mb-4 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-2xl p-4 shadow-lg"},hm={class:"flex items-center justify-between mb-2"},gm={class:"text-sm opacity-90"},mm={class:"text-right"},ym={class:"font-bold"},bm={class:"text-xs opacity-90"},xm={class:"grid grid-cols-2 gap-3 mb-4"},vm={class:"bg-white rounded-2xl p-4 shadow-sm"},wm={class:"text-2xl font-bold text-gray-800"},_m={class:"bg-white rounded-2xl p-4 shadow-sm"},Cm={class:"text-lg font-bold text-green-600"},Sm={class:"bg-white rounded-2xl p-4 shadow-sm"},$m={class:"text-lg font-bold text-blue-600"},km={class:"bg-white rounded-2xl p-4 shadow-sm"},Em={class:"text-2xl font-bold text-purple-600"},Tm={class:"mb-4"},Om={class:"grid grid-cols-2 gap-3"},Rm={key:1,class:"mb-4"},Am={class:"flex items-center justify-between mb-3"},Im={class:"space-y-3"},Nm={class:"flex justify-between items-start mb-2"},Dm={class:"font-bold"},Pm={class:"text-sm text-gray-600"},Lm={class:"text-sm text-gray-500"},Mm={key:1},Um={class:"grid grid-cols-2 gap-3 mb-4"},Fm={class:"bg-white rounded-2xl p-4 shadow-sm"},jm={class:"text-2xl font-bold text-gray-800"},Vm={class:"bg-white rounded-2xl p-4 shadow-sm"},Bm={class:"text-lg font-bold text-green-600"},Hm={class:"bg-white rounded-2xl p-4 shadow-sm"},qm={class:"text-2xl font-bold text-blue-600"},Km={class:"bg-white rounded-2xl p-4 shadow-sm"},Gm={class:"text-2xl font-bold text-orange-600"},Wm={class:"mb-4"},zm={class:"grid grid-cols-2 gap-3"},Qm={class:"mb-4"},Jm={class:"flex items-center justify-between mb-3"},Xm={key:0,class:"text-center py-8 text-gray-500"},Ym={key:1,class:"space-y-3"},Zm={class:"flex justify-between items-start mb-2"},e0={class:"font-bold"},t0={class:"text-sm text-gray-600"},s0={class:"flex justify-between items-center text-sm"},n0={class:"text-gray-500"},r0={class:"font-bold text-green-600"},o0={__name:"DashboardView",setup(e){const t=Es(),s=Ks(),r=vu(),o=wu(),i=Z(""),a=Z("");let l=null;const u=J(()=>t.user),d=J(()=>{var $;return(($=t.user)==null?void 0:$.role)==="barista"}),c=J(()=>s.hasOpenShift),f=J(()=>s.currentShift),w=J(()=>d.value?[...o.queuedOrders,...o.inProgressOrders,...o.readyOrders]:r.orders),g=J(()=>{var $;return(($=t.user)==null?void 0:$.role)==="cashier"}),S=J(()=>[...w.value].sort(($,m)=>new Date(m.created_at)-new Date($.created_at))),T=J(()=>d.value?o.queueCount:0),k=J(()=>d.value?f.value?o.inProgressOrders.filter($=>F($.accepted_at)).length:o.inProgressCount:0),U=J(()=>d.value?f.value?o.readyOrders.filter($=>F($.ready_at)).length:o.readyCount:0),z=J(()=>{if(!d.value)return 0;if(!f.value){const $=new Date().toDateString();return o.servedOrders.filter(m=>m.ready_at&&new Date(m.ready_at).toDateString()===$).length}return o.servedOrders.filter($=>F($.ready_at)).length}),F=$=>{if(!$||!f.value)return!1;const m=new Date($),oe=new Date(f.value.started_at),xe=f.value.ended_at?new Date(f.value.ended_at):new Date;return m>=oe&&m<=xe},N=J(()=>d.value?o.inProgressOrders.filter($=>f.value?F($.accepted_at):!0).sort(($,m)=>new Date($.accepted_at)-new Date(m.accepted_at)):[]),L=J(()=>{const $=new Date().toDateString();return w.value.filter(m=>new Date(m.created_at).toDateString()===$).length}),V=J(()=>{const $=new Date().toDateString();return w.value.filter(m=>new Date(m.created_at).toDateString()===$&&m.status!=="CANCELLED").reduce((m,oe)=>m+oe.total,0)});J(()=>{const $=new Date().toDateString();return w.value.filter(m=>new Date(m.created_at).toDateString()===$&&m.status==="SERVED").length});const R=J(()=>{var $;return(($=u.value)==null?void 0:$.role)==="manager"?w.value.filter(m=>m.status!=="SERVED"&&m.status!=="CANCELLED").length:w.value.filter(m=>m.status==="CREATED").length}),B=J(()=>{if(!f.value)return 0;const $=new Date(f.value.started_at),m=f.value.ended_at?new Date(f.value.ended_at):new Date;return w.value.filter(oe=>{if(oe.status==="CANCELLED")return!1;const xe=new Date(oe.created_at);return xe>=$&&xe<=m}).reduce((oe,xe)=>oe+xe.total,0)}),O=J(()=>s.openShifts.length),_=J(()=>s.openShifts.sort(($,m)=>new Date(m.started_at)-new Date($.started_at))),v=$=>({waiter:" Phc v",barista:" Pha ch",cashier:" Thu ngn"})[$]||$,p=J(()=>{var Be;if(!((Be=f.value)!=null&&Be.started_at))return"";const $=new Date(f.value.started_at),oe=new Date-$,xe=Math.floor(oe/36e5),Ke=Math.floor(oe%36e5/6e4);return`${xe}h ${Ke}m`}),A=()=>{const $=new Date;i.value=$.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}),a.value=$.toLocaleDateString("vi-VN",{weekday:"long",day:"numeric",month:"long"})},I=$=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format($),P=$=>$?new Date($).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}):"",Y=$=>({MORNING:" Ca sng",AFTERNOON:" Ca chiu",EVENING:" Ca ti"})[$]||$,E=$=>({CREATED:"bg-gray-100 text-gray-800",PAID:"bg-green-100 text-green-800",QUEUED:"bg-yellow-100 text-yellow-800",IN_PROGRESS:"bg-blue-100 text-blue-800",READY:"bg-purple-100 text-purple-800",SERVED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"})[$]||"bg-gray-100 text-gray-800",j=$=>({CREATED:"Mi",PAID:" thu",QUEUED:"Ch pha",IN_PROGRESS:"ang pha",READY:"Sn sng",SERVED:"Hon tt",CANCELLED:" hy"})[$]||$;return Ge(async()=>{var $;if(A(),l=setInterval(A,1e3),(($=u.value)==null?void 0:$.role)==="manager"){await r.fetchOrders();return}d.value?await Promise.all([s.fetchCurrentShift(),o.fetchQueuedOrders(),o.fetchMyOrders()]):g.value?await Promise.all([s.fetchCurrentShift(),s.fetchAllShifts(),r.fetchOrders()]):await Promise.all([s.fetchCurrentShift(),r.fetchOrders()])}),hr(()=>{l&&clearInterval(l)}),($,m)=>{var oe,xe,Ke,Be,et,We,q,ue;return y(),b("div",yg,[n("div",bg,[n("div",xg,[n("div",vg,[n("div",null,[m[23]||(m[23]=n("h1",{class:"text-2xl font-bold text-gray-800"}," Xin cho",-1)),n("p",wg,h((oe=u.value)==null?void 0:oe.name),1)]),n("div",_g,[n("p",Cg,h(a.value),1),n("p",Sg,h(i.value),1)])])])]),n("div",$g,[((xe=u.value)==null?void 0:xe.role)==="manager"?(y(),b("div",kg,[m[32]||(m[32]=n("div",{class:"bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl p-6 text-white shadow-lg mb-4"},[n("h2",{class:"text-2xl font-bold mb-2"}," Qun l h thng"),n("p",{class:"text-sm opacity-90"},"Truy cp nhanh cc chc nng qun l")],-1)),n("div",Eg,[n("div",Tg,[m[24]||(m[24]=n("div",{class:"text-3xl mb-2"},"",-1)),n("div",Og,h(L.value),1),m[25]||(m[25]=n("div",{class:"text-xs text-gray-500"},"Orders hm nay",-1))]),n("div",Rg,[m[26]||(m[26]=n("div",{class:"text-3xl mb-2"},"",-1)),n("div",Ag,h(I(V.value)),1),m[27]||(m[27]=n("div",{class:"text-xs text-gray-500"},"Doanh thu hm nay",-1))])]),n("div",Ig,[m[31]||(m[31]=n("h2",{class:"text-lg font-bold text-gray-800 mb-3"}," Thao tc nhanh",-1)),n("div",Ng,[n("button",{onClick:m[0]||(m[0]=Q=>$.$router.push("/facilities")),class:"bg-gradient-to-br from-cyan-500 to-blue-500 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[28]||(m[28]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"C s vt cht",-1)])]),n("button",{onClick:m[1]||(m[1]=Q=>$.$router.push("/ingredients")),class:"bg-gradient-to-br from-green-500 to-emerald-500 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[29]||(m[29]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"Nguyn liu",-1)])]),n("button",{onClick:m[2]||(m[2]=Q=>$.$router.push("/expenses")),class:"bg-gradient-to-br from-pink-500 to-purple-500 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[30]||(m[30]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"Chi ph",-1)])])])])])):(y(),b("div",Dg,[c.value?(y(),b("div",Pg,[n("div",Lg,[m[33]||(m[33]=n("div",{class:"flex items-center gap-2"},[n("span",{class:"text-2xl"},""),n("span",{class:"font-bold"},"Ca ang m")],-1)),n("span",Mg,h(p.value),1)]),n("p",Ug,"Bt u: "+h(P((Ke=f.value)==null?void 0:Ke.started_at)),1)])):(y(),b("div",Fg,[m[34]||(m[34]=n("div",{class:"flex items-center justify-between mb-2"},[n("div",{class:"flex items-center gap-2"},[n("span",{class:"text-2xl"},""),n("span",{class:"font-bold"},"Cha m ca")])],-1)),n("button",{onClick:m[3]||(m[3]=Q=>$.$router.push("/shifts")),class:"mt-2 bg-white text-orange-600 px-4 py-2 rounded-lg font-medium text-sm"}," M ca ngay ")])),d.value?(y(),b("div",jg,[c.value?(y(),b("div",Vg,[n("div",Bg,[n("div",null,[m[35]||(m[35]=n("h3",{class:"font-bold text-lg"},"Ca lm vic",-1)),n("p",Hg,h(Y(f.value.type)),1)]),n("div",qg,[m[36]||(m[36]=n("p",{class:"text-xs opacity-75"},"Thi gian",-1)),n("p",Kg,h(p.value),1)])]),n("div",Gg," Bt u: "+h(P(f.value.started_at)),1)])):W("",!0),n("div",Wg,[n("div",zg,[m[37]||(m[37]=n("div",{class:"text-3xl mb-2"},"",-1)),n("div",Qg,h(T.value),1),m[38]||(m[38]=n("div",{class:"text-xs text-gray-500"},"Ch pha ch",-1))]),n("div",Jg,[m[39]||(m[39]=n("div",{class:"text-3xl mb-2"},"",-1)),n("div",Xg,h(k.value),1),m[40]||(m[40]=n("div",{class:"text-xs text-gray-500"},"ang pha (ca ny)",-1))]),n("div",Yg,[m[41]||(m[41]=n("div",{class:"text-3xl mb-2"},"",-1)),n("div",Zg,h(U.value),1),m[42]||(m[42]=n("div",{class:"text-xs text-gray-500"},"Sn sng (ca ny)",-1))]),n("div",em,[m[43]||(m[43]=n("div",{class:"text-3xl mb-2"},"",-1)),n("div",tm,h(z.value),1),m[44]||(m[44]=n("div",{class:"text-xs text-gray-500"},"Hon tt (ca ny)",-1))])]),n("div",sm,[m[47]||(m[47]=n("h2",{class:"text-lg font-bold text-gray-800 mb-3"}," Thao tc nhanh",-1)),n("div",nm,[n("button",{onClick:m[4]||(m[4]=Q=>$.$router.push("/barista")),class:"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[45]||(m[45]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"Pha ch",-1)])]),n("button",{onClick:m[5]||(m[5]=Q=>$.$router.push("/shifts")),class:"bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[46]||(m[46]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"Ca lm",-1)])])])]),N.value.length>0?(y(),b("div",rm,[n("div",om,[m[48]||(m[48]=n("h2",{class:"text-lg font-bold text-gray-800"}," ang pha ch",-1)),n("button",{onClick:m[6]||(m[6]=Q=>$.$router.push("/barista")),class:"text-sm text-blue-500 font-medium"}," Xem tt c  ")]),n("div",im,[(y(!0),b(de,null,me(N.value.slice(0,3),Q=>{var K;return y(),b("div",{key:Q.id,onClick:m[7]||(m[7]=X=>$.$router.push("/barista")),class:"bg-white rounded-xl p-4 shadow-sm active:scale-98 transition-transform border-l-4 border-blue-500"},[n("div",am,[n("div",null,[n("h3",lm,h(Q.order_number),1),n("p",um,h(((K=Q.items)==null?void 0:K.length)||0)+" mn",1)]),m[49]||(m[49]=n("span",{class:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium"}," ang pha ",-1))]),n("div",cm," Bt u: "+h(P(Q.accepted_at)),1)])}),128))])])):W("",!0)])):(y(),b("div",dm,[g.value?(y(),b("div",fm,[c.value?(y(),b("div",pm,[n("div",hm,[n("div",null,[m[50]||(m[50]=n("h3",{class:"font-bold text-lg"},"Ca lm vic",-1)),n("p",gm,h(Y(f.value.type)),1)]),n("div",mm,[m[51]||(m[51]=n("p",{class:"text-xs opacity-75"},"Thi gian",-1)),n("p",ym,h(p.value),1)])]),n("div",bm," Bt u: "+h(P(f.value.started_at)),1)])):W("",!0),n("div",xm,[n("div",vm,[m[52]||(m[52]=n("div",{class:"text-3xl mb-2"},"",-1)),n("div",wm,h(L.value),1),m[53]||(m[53]=n("div",{class:"text-xs text-gray-500"},"Orders hm nay",-1))]),n("div",_m,[m[54]||(m[54]=n("div",{class:"text-3xl mb-2"},"",-1)),n("div",Cm,h(I(V.value)),1),m[55]||(m[55]=n("div",{class:"text-xs text-gray-500"},"Doanh thu hm nay",-1))]),n("div",Sm,[m[56]||(m[56]=n("div",{class:"text-3xl mb-2"},"",-1)),n("div",$m,h(I(B.value)),1),m[57]||(m[57]=n("div",{class:"text-xs text-gray-500"},"Doanh thu ca ny",-1))]),n("div",km,[m[58]||(m[58]=n("div",{class:"text-3xl mb-2"},"",-1)),n("div",Em,h(O.value),1),m[59]||(m[59]=n("div",{class:"text-xs text-gray-500"},"Ca ang m",-1))])]),n("div",Tm,[m[64]||(m[64]=n("h2",{class:"text-lg font-bold text-gray-800 mb-3"}," Thao tc nhanh",-1)),n("div",Om,[n("button",{onClick:m[8]||(m[8]=Q=>$.$router.push("/cashier")),class:"bg-gradient-to-br from-yellow-500 to-orange-500 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[60]||(m[60]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"Thu ngn",-1)])]),n("button",{onClick:m[9]||(m[9]=Q=>$.$router.push("/shifts")),class:"bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[61]||(m[61]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"Ca lm",-1)])]),n("button",{onClick:m[10]||(m[10]=Q=>$.$router.push("/orders")),class:"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[62]||(m[62]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"Orders",-1)])]),((Be=u.value)==null?void 0:Be.role)==="manager"?(y(),b("button",{key:0,onClick:m[11]||(m[11]=Q=>$.$router.push("/users")),class:"bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[63]||(m[63]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"Nhn vin",-1)])])):W("",!0)])]),_.value.length>0?(y(),b("div",Rm,[n("div",Am,[m[65]||(m[65]=n("h2",{class:"text-lg font-bold text-gray-800"}," Ca ang m",-1)),n("button",{onClick:m[12]||(m[12]=Q=>$.$router.push("/shifts")),class:"text-sm text-blue-500 font-medium"}," Xem tt c  ")]),n("div",Im,[(y(!0),b(de,null,me(_.value.slice(0,3),Q=>(y(),b("div",{key:Q.id,onClick:m[13]||(m[13]=K=>$.$router.push("/shifts")),class:"bg-white rounded-xl p-4 shadow-sm active:scale-98 transition-transform border-l-4 border-yellow-500"},[n("div",Nm,[n("div",null,[n("h3",Dm,h(Q.user_name),1),n("p",Pm,h(v(Q.role_type)),1)]),m[66]||(m[66]=n("span",{class:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium"}," ang m ",-1))]),n("div",Lm," Bt u: "+h(P(Q.started_at)),1)]))),128))])])):W("",!0)])):(y(),b("div",Mm,[n("div",Um,[n("div",Fm,[m[67]||(m[67]=n("div",{class:"text-3xl mb-2"},"",-1)),n("div",jm,h(L.value),1),m[68]||(m[68]=n("div",{class:"text-xs text-gray-500"},"Orders hm nay",-1))]),n("div",Vm,[m[69]||(m[69]=n("div",{class:"text-3xl mb-2"},"",-1)),n("div",Bm,h(I(V.value)),1),m[70]||(m[70]=n("div",{class:"text-xs text-gray-500"},"Doanh thu",-1))]),n("div",Hm,[m[71]||(m[71]=n("div",{class:"text-3xl mb-2"},"",-1)),n("div",qm,h(k.value),1),m[72]||(m[72]=n("div",{class:"text-xs text-gray-500"},"ang pha ch",-1))]),n("div",Km,[m[73]||(m[73]=n("div",{class:"text-3xl mb-2"},"",-1)),n("div",Gm,h(R.value),1),m[74]||(m[74]=n("div",{class:"text-xs text-gray-500"},"Ch thanh ton",-1))])]),n("div",Wm,[m[82]||(m[82]=n("h2",{class:"text-lg font-bold text-gray-800 mb-3"}," Thao tc nhanh",-1)),n("div",zm,[n("button",{onClick:m[14]||(m[14]=Q=>$.$router.push("/orders")),class:"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[75]||(m[75]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"Orders",-1)])]),n("button",{onClick:m[15]||(m[15]=Q=>$.$router.push("/shifts")),class:"bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[76]||(m[76]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"Ca lm",-1)])]),((et=u.value)==null?void 0:et.role)==="manager"?(y(),b("button",{key:0,onClick:m[16]||(m[16]=Q=>$.$router.push("/menu")),class:"bg-gradient-to-br from-orange-500 to-red-500 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[77]||(m[77]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"Menu",-1)])])):W("",!0),((We=u.value)==null?void 0:We.role)==="manager"?(y(),b("button",{key:1,onClick:m[17]||(m[17]=Q=>$.$router.push("/ingredients")),class:"bg-gradient-to-br from-green-500 to-emerald-500 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[78]||(m[78]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"Nguyn liu",-1)])])):W("",!0),((q=u.value)==null?void 0:q.role)==="manager"?(y(),b("button",{key:2,onClick:m[18]||(m[18]=Q=>$.$router.push("/facilities")),class:"bg-gradient-to-br from-cyan-500 to-blue-500 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[79]||(m[79]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"C s",-1)])])):W("",!0),((ue=u.value)==null?void 0:ue.role)==="manager"?(y(),b("button",{key:3,onClick:m[19]||(m[19]=Q=>$.$router.push("/expenses")),class:"bg-gradient-to-br from-pink-500 to-purple-500 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[80]||(m[80]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"Chi ph",-1)])])):W("",!0),g.value?(y(),b("button",{key:4,onClick:m[20]||(m[20]=Q=>$.$router.push("/cashier")),class:"bg-gradient-to-br from-yellow-500 to-orange-500 text-white rounded-2xl p-6 shadow-lg active:scale-95 transition-transform"},[...m[81]||(m[81]=[n("div",{class:"text-4xl mb-2"},"",-1),n("div",{class:"font-bold"},"Thu ngn",-1)])])):W("",!0)])]),n("div",Qm,[n("div",Jm,[m[83]||(m[83]=n("h2",{class:"text-lg font-bold text-gray-800"}," Orders gn y",-1)),n("button",{onClick:m[21]||(m[21]=Q=>$.$router.push("/orders")),class:"text-sm text-blue-500 font-medium"}," Xem tt c  ")]),S.value.length===0?(y(),b("div",Xm,[...m[84]||(m[84]=[n("div",{class:"text-4xl mb-2"},"",-1),n("p",null,"Cha c order no",-1)])])):(y(),b("div",Ym,[(y(!0),b(de,null,me(S.value.slice(0,3),Q=>(y(),b("div",{key:Q.id,onClick:m[22]||(m[22]=K=>$.$router.push("/orders")),class:"bg-white rounded-xl p-4 shadow-sm active:scale-98 transition-transform"},[n("div",Zm,[n("div",null,[n("h3",e0,h(Q.order_number),1),n("p",t0,h(Q.customer_name||"Khch l"),1)]),n("span",{class:he([E(Q.status),"px-2 py-1 rounded-full text-xs font-medium"])},h(j(Q.status)),3)]),n("div",s0,[n("span",n0,h(P(Q.created_at)),1),n("span",r0,h(I(Q.total)),1)])]))),128))]))])]))]))])),ye(It)])])}}},i0=je(o0,[["__scopeId","data-v-77f65ee8"]]),Nn={async getMenuItems(){return(await H.get("/waiter/menu")).data},async createMenuItem(e){return(await H.post("/manager/menu",e)).data},async updateMenuItem(e,t){return(await H.put(`/manager/menu/${e}`,t)).data},async deleteMenuItem(e){return(await H.delete(`/manager/menu/${e}`)).data}},_u=Rt("menu",{state:()=>({items:[],loading:!1,error:null}),actions:{async fetchMenuItems(){var e,t;this.loading=!0,this.error=null;try{this.items=await Nn.getMenuItems()}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti menu"}finally{this.loading=!1}},async createMenuItem(e){var t,s;try{const r=await Nn.createMenuItem(e);return this.items.push(r),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li to mn",!1}},async updateMenuItem(e,t){var s,r;this.error=null;try{const o=await Nn.updateMenuItem(e,t),i=this.items.findIndex(a=>a.id===e);return i!==-1&&(this.items[i]=o),!0}catch(o){return this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li cp nht mn",console.error("Update error:",o),!1}},async deleteMenuItem(e){var t,s;this.error=null;try{return await Nn.deleteMenuItem(e),this.items=this.items.filter(r=>r.id!==e),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li xa mn",console.error("Delete error:",r),!1}}}});const a0={class:"bg-white shadow-lg"},l0={class:"px-4 py-3 flex items-center justify-between border-b border-gray-200"},u0={class:"flex items-center gap-3"},c0={class:"p-4"},d0={key:0,class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 max-w-6xl mx-auto"},f0={key:1,class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3"},p0={__name:"Navigation",setup(e){const t=ps(),s=Es(),r=J(()=>{var u;const l=(u=s.user)==null?void 0:u.role;return console.log(" Navigation - User:",s.user),console.log(" Navigation - Role:",l),l}),o=J(()=>{var l;return(l=s.user)==null?void 0:l.name});Ge(()=>{console.log("=== Navigation Component Mounted ==="),console.log("Auth Store User:",s.user),console.log("User Role:",r.value),console.log("Is Manager:",r.value==="manager"),console.log("====================================")}),ds(r,(l,u)=>{console.log(" Role changed from",u,"to",l)});const i=()=>{},a=()=>{s.logout(),t.push("/login")};return(l,u)=>{const d=Oo("router-link");return y(),b("nav",a0,[n("div",l0,[u[0]||(u[0]=n("div",{class:"flex items-center"},[n("h1",{class:"text-xl font-bold text-blue-600"}," Caf POS")],-1)),n("div",u0,[ye(d,{to:"/profile",class:"text-sm text-gray-600 hover:text-blue-600 hidden sm:block"},{default:De(()=>[Pe("  "+h(o.value),1)]),_:1}),n("button",{onClick:a,class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-md text-sm transition-colors"}," ng xut ")])]),n("div",c0,[r.value==="manager"?(y(),b("div",d0,[ye(d,{to:"/dashboard",onClick:i,class:"bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl p-6 flex flex-col items-center justify-center min-h-[120px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:De(()=>[...u[1]||(u[1]=[n("div",{class:"text-3xl mb-2"},"",-1),n("span",{class:"text-base font-medium text-center"},"Dashboard",-1)])]),_:1}),ye(d,{to:"/manager/shifts",onClick:i,class:"bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl p-6 flex flex-col items-center justify-center min-h-[120px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:De(()=>[...u[2]||(u[2]=[n("div",{class:"text-3xl mb-2"},"",-1),n("span",{class:"text-base font-medium text-center"},"Qun l ca",-1)])]),_:1}),ye(d,{to:"/cashier/reports",onClick:i,class:"bg-gradient-to-br from-cyan-500 to-cyan-600 hover:from-cyan-600 hover:to-cyan-700 text-white rounded-xl p-6 flex flex-col items-center justify-center min-h-[120px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:De(()=>[...u[3]||(u[3]=[n("div",{class:"text-3xl mb-2"},"",-1),n("span",{class:"text-base font-medium text-center"},"Bo co",-1)])]),_:1}),ye(d,{to:"/users",onClick:i,class:"bg-gradient-to-br from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 text-white rounded-xl p-6 flex flex-col items-center justify-center min-h-[120px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:De(()=>[...u[4]||(u[4]=[n("div",{class:"text-3xl mb-2"},"",-1),n("span",{class:"text-base font-medium text-center"},"Nhn vin",-1)])]),_:1}),ye(d,{to:"/profile",onClick:i,class:"bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-xl p-6 flex flex-col items-center justify-center min-h-[120px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:De(()=>[...u[5]||(u[5]=[n("div",{class:"text-3xl mb-2"},"",-1),n("span",{class:"text-base font-medium text-center"},"C nhn",-1)])]),_:1})])):(y(),b("div",f0,[ye(d,{to:"/dashboard",onClick:i,class:"bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl p-4 flex flex-col items-center justify-center min-h-[100px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:De(()=>[...u[6]||(u[6]=[n("div",{class:"text-2xl mb-2"},"",-1),n("span",{class:"text-sm font-medium text-center"},"Dashboard",-1)])]),_:1}),ye(d,{to:"/shifts",onClick:i,class:"bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl p-4 flex flex-col items-center justify-center min-h-[100px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:De(()=>[...u[7]||(u[7]=[n("div",{class:"text-2xl mb-2"},"",-1),n("span",{class:"text-sm font-medium text-center"},"Ca lm vic",-1)])]),_:1}),ye(d,{to:"/orders",onClick:i,class:"bg-gradient-to-br from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl p-4 flex flex-col items-center justify-center min-h-[100px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:De(()=>[...u[8]||(u[8]=[n("div",{class:"text-2xl mb-2"},"",-1),n("span",{class:"text-sm font-medium text-center"},"Orders",-1)])]),_:1}),r.value==="cashier"?(y(),Jn(d,{key:0,to:"/cashier",onClick:i,class:"bg-gradient-to-br from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white rounded-xl p-4 flex flex-col items-center justify-center min-h-[100px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:De(()=>[...u[9]||(u[9]=[n("div",{class:"text-2xl mb-2"},"",-1),n("span",{class:"text-sm font-medium text-center"},"Thu ngn",-1)])]),_:1})):W("",!0),r.value==="cashier"?(y(),Jn(d,{key:1,to:"/cashier/reports",onClick:i,class:"bg-gradient-to-br from-cyan-500 to-cyan-600 hover:from-cyan-600 hover:to-cyan-700 text-white rounded-xl p-4 flex flex-col items-center justify-center min-h-[100px] shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200"},{default:De(()=>[...u[10]||(u[10]=[n("div",{class:"text-2xl mb-2"},"",-1),n("span",{class:"text-sm font-medium text-center"},"Bo co",-1)])]),_:1})):W("",!0)]))])])}}},Cu=je(p0,[["__scopeId","data-v-e5a3f9e7"]]);const h0={class:"min-h-screen bg-gray-100"},g0={class:"p-4"},m0={class:"flex flex-col lg:flex-row justify-between items-center mb-6"},y0={class:"flex flex-wrap gap-2"},b0={key:0,class:"text-center py-10 text-gray-600 text-lg"},x0={key:1,class:"text-center py-10 text-red-600 bg-red-50 border border-red-200 rounded-lg"},v0={class:"grid grid-cols-1 gap-4"},w0={class:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b-2 border-blue-500"},_0={class:"space-y-3"},C0={class:"flex items-center justify-between mb-3"},S0={class:"flex items-center space-x-3"},$0={class:"font-bold text-gray-800"},k0={class:"text-sm text-gray-500"},E0={class:"text-right"},T0={class:"grid grid-cols-1 gap-3 mb-4"},O0={class:"bg-white rounded-lg p-3"},R0={class:"text-2xl font-bold text-green-600"},A0={key:0,class:"bg-white rounded-lg p-3"},I0={class:"text-xs text-gray-600 space-y-1"},N0={class:"grid grid-cols-3 gap-2"},D0=["onClick"],P0=["onClick"],L0=["onClick"],M0={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},U0={class:"bg-white rounded-xl p-6 w-full max-w-md max-h-[80vh] overflow-y-auto"},F0={class:"bg-gray-50 rounded-lg p-4 mb-4"},j0={class:"space-y-2 max-h-96 overflow-y-auto"},V0={class:"flex items-center space-x-3"},B0={class:"font-medium text-gray-800"},H0={class:"text-xs text-gray-500"},q0=["onClick"],K0={class:"mt-4"},G0={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},W0={class:"bg-white rounded-xl p-6 w-full max-w-md max-h-[80vh] overflow-y-auto"},z0={class:"text-xl font-bold text-gray-800 mb-4"},Q0=["value"],J0={class:"border border-gray-300 rounded-lg p-3 bg-gray-50"},X0={key:0,class:"text-center text-gray-500 italic py-4"},Y0=["onUpdate:modelValue"],Z0=["onUpdate:modelValue"],ey=["onUpdate:modelValue"],ty=["onClick"],sy={class:"flex gap-2"},ny=["disabled"],ry={__name:"MenuView",setup(e){const t=_u(),s=Z(!1),r=Z(!1),o=Z(null),i=Z({name:"",category:"",price:0,description:"",ingredients:[]}),a=Z({name:""}),l=Z([{id:"1",name:"C ph"},{id:"2",name:"Tr"},{id:"3",name:"Nc p"},{id:"4",name:"Bnh ngt"},{id:"5",name:"Mn nh"}]),u=J(()=>t.items),d=J(()=>t.loading),c=J(()=>t.error),f=J(()=>{const O={};return u.value.forEach(_=>{O[_.category]||(O[_.category]={name:_.category,items:[]}),O[_.category].items.push(_)}),Object.values(O)});Ge(()=>{t.fetchMenuItems()});const w=O=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(O),g=O=>{o.value=O,i.value={name:O.name,category:O.category,price:O.price,description:O.description,ingredients:O.ingredients?[...O.ingredients]:[]},s.value=!1},S=()=>{s.value=!1,o.value=null,i.value={name:"",category:"",price:0,description:"",ingredients:[]}},T=()=>{i.value.ingredients.push({name:"",quantity:0,unit:""})},k=O=>{i.value.ingredients.splice(O,1)},U=async()=>{let O=!1;o.value?O=await t.updateMenuItem(o.value.id,i.value):O=await t.createMenuItem(i.value),O&&S()},z=async O=>{!await t.updateMenuItem(O.id,{available:!O.available})&&t.error&&alert("Li: "+t.error)},F=async O=>{confirm("Bn c chc mun xa mn ny? Hnh ng ny khng th hon tc.")&&!await t.deleteMenuItem(O)&&t.error&&alert("Li: "+t.error)},N=()=>{a.value.name&&(l.value.push({id:Date.now().toString(),name:a.value.name}),a.value={name:""})},L=(O,_)=>{if(u.value.some(p=>p.category===_)){alert("Khng th xa danh mc  c mn!");return}confirm(`Bn c chc mun xa danh mc "${_}"?`)&&(l.value=l.value.filter(p=>p.id!==O))},V=O=>u.value.filter(_=>_.category===O).length,R=O=>({"C ph":"",Tr:"","Nc p":"","Bnh ngt":"","Mn nh":"","Sinh t":""," ung khc":""})[O]||"",B=O=>({"C ph":"bg-amber-100 text-amber-600",Tr:"bg-green-100 text-green-600","Nc p":"bg-orange-100 text-orange-600","Bnh ngt":"bg-pink-100 text-pink-600","Mn nh":"bg-blue-100 text-blue-600","Sinh t":"bg-purple-100 text-purple-600"," ung khc":"bg-gray-100 text-gray-600"})[O]||"bg-gray-100 text-gray-600";return(O,_)=>(y(),b("div",h0,[ye(Cu),n("div",g0,[n("div",m0,[_[8]||(_[8]=n("h2",{class:"text-xl lg:text-2xl font-semibold text-gray-800 mb-4 lg:mb-0"},"  Qun l Menu ",-1)),n("div",y0,[n("button",{onClick:_[0]||(_[0]=v=>r.value=!0),class:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors"},"  Qun l danh mc "),n("button",{onClick:_[1]||(_[1]=v=>s.value=!0),class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors"}," + Thm mn mi ")])]),d.value?(y(),b("div",b0,"ang ti...")):W("",!0),c.value?(y(),b("div",x0,h(c.value),1)):W("",!0),n("div",v0,[(y(!0),b(de,null,me(f.value,v=>(y(),b("div",{key:v.name,class:"bg-white rounded-xl p-4 shadow-sm"},[n("h3",w0,h(v.name),1),n("div",_0,[(y(!0),b(de,null,me(v.items,p=>(y(),b("div",{key:p.id,class:"rounded-xl p-4 bg-gray-50"},[n("div",C0,[n("div",S0,[n("div",{class:he(["w-12 h-12 rounded-xl flex items-center justify-center text-2xl",B(p.category)])},h(R(p.category)),3),n("div",null,[n("h4",$0,h(p.name),1),n("p",k0,h(p.description||"Cha c m t"),1)])]),n("div",E0,[n("span",{class:he(["px-3 py-1 rounded-full text-xs font-medium",p.available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},h(p.available?"C sn":"Ht hng"),3)])]),n("div",T0,[n("div",O0,[n("div",R0,h(w(p.price)),1),_[9]||(_[9]=n("div",{class:"text-xs text-gray-500"},"Gi bn",-1))]),p.ingredients&&p.ingredients.length>0?(y(),b("div",A0,[_[10]||(_[10]=n("div",{class:"text-sm font-semibold text-gray-700 mb-2"},"Nguyn liu:",-1)),n("ul",I0,[(y(!0),b(de,null,me(p.ingredients,A=>(y(),b("li",{key:A.name},"  "+h(A.name)+": "+h(A.quantity)+" "+h(A.unit),1))),128))])])):W("",!0)]),n("div",N0,[n("button",{onClick:A=>g(p),class:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"},"  Sa ",8,D0),n("button",{onClick:A=>z(p),class:he([p.available?"bg-gray-500 hover:bg-gray-600":"bg-green-500 hover:bg-green-600","text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"])},h(p.available?" n":" Hin"),11,P0),n("button",{onClick:A=>F(p.id),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors"},"  Xa ",8,L0)])]))),128))])]))),128))]),r.value?(y(),b("div",M0,[n("div",U0,[_[13]||(_[13]=n("h3",{class:"text-xl font-bold text-gray-800 mb-4"}," Qun l Danh mc Menu",-1)),n("div",F0,[_[12]||(_[12]=n("h4",{class:"font-semibold text-gray-800 mb-3"},"Thm danh mc mi",-1)),n("form",{onSubmit:ze(N,["prevent"])},[ae(n("input",{"onUpdate:modelValue":_[2]||(_[2]=v=>a.value.name=v),type:"text",required:"",placeholder:"V d: C ph",class:"w-full p-3 border border-gray-300 rounded-lg mb-3"},null,512),[[fe,a.value.name]]),_[11]||(_[11]=n("button",{type:"submit",class:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium"},"+ Thm danh mc",-1))],32)]),n("div",j0,[(y(!0),b(de,null,me(l.value,v=>(y(),b("div",{key:v.id,class:"bg-white border border-gray-200 rounded-lg p-3 flex items-center justify-between"},[n("div",V0,[n("div",{class:he(["w-10 h-10 rounded-lg flex items-center justify-center text-xl",B(v.name)])},h(R(v.name)),3),n("div",null,[n("div",B0,h(v.name),1),n("div",H0,h(V(v.name))+" mn",1)])]),n("button",{onClick:p=>L(v.id,v.name),class:"text-red-500 hover:text-red-700 p-2"},"  ",8,q0)]))),128))]),n("div",K0,[n("button",{type:"button",onClick:_[3]||(_[3]=v=>r.value=!1),class:"w-full bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium"},"ng")])])])):W("",!0),s.value||o.value?(y(),b("div",G0,[n("div",W0,[n("h3",z0,h(o.value?"Sa mn":"Thm mn mi"),1),n("form",{onSubmit:ze(U,["prevent"]),class:"space-y-4"},[n("div",null,[_[14]||(_[14]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tn mn *",-1)),ae(n("input",{"onUpdate:modelValue":_[4]||(_[4]=v=>i.value.name=v),type:"text",required:"",placeholder:"Nhp tn mn",class:"w-full p-3 border border-gray-300 rounded-lg"},null,512),[[fe,i.value.name]])]),n("div",null,[_[16]||(_[16]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Danh mc *",-1)),ae(n("select",{"onUpdate:modelValue":_[5]||(_[5]=v=>i.value.category=v),required:"",class:"w-full p-3 border border-gray-300 rounded-lg"},[_[15]||(_[15]=n("option",{value:""},"Chn danh mc",-1)),(y(!0),b(de,null,me(l.value,v=>(y(),b("option",{key:v.id,value:v.name},h(v.name),9,Q0))),128))],512),[[lt,i.value.category]])]),n("div",null,[_[17]||(_[17]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Gi (VN) *",-1)),ae(n("input",{"onUpdate:modelValue":_[6]||(_[6]=v=>i.value.price=v),type:"number",min:"0",step:"1000",required:"",placeholder:"0",class:"w-full p-3 border border-gray-300 rounded-lg"},null,512),[[fe,i.value.price,void 0,{number:!0}]])]),n("div",null,[_[18]||(_[18]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"M t",-1)),ae(n("textarea",{"onUpdate:modelValue":_[7]||(_[7]=v=>i.value.description=v),rows:"3",placeholder:"M t mn n...",class:"w-full p-3 border border-gray-300 rounded-lg"},null,512),[[fe,i.value.description]])]),n("div",null,[_[19]||(_[19]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nguyn liu",-1)),n("div",J0,[i.value.ingredients.length===0?(y(),b("div",X0," Cha c nguyn liu no ")):W("",!0),(y(!0),b(de,null,me(i.value.ingredients,(v,p)=>(y(),b("div",{key:p,class:"flex gap-2 mb-2"},[ae(n("input",{"onUpdate:modelValue":A=>v.name=A,placeholder:"Tn",class:"flex-1 p-2 border border-gray-300 rounded",required:""},null,8,Y0),[[fe,v.name]]),ae(n("input",{"onUpdate:modelValue":A=>v.quantity=A,type:"number",min:"0",step:"0.1",placeholder:"SL",class:"w-20 p-2 border border-gray-300 rounded",required:""},null,8,Z0),[[fe,v.quantity,void 0,{number:!0}]]),ae(n("input",{"onUpdate:modelValue":A=>v.unit=A,placeholder:"n v",class:"w-20 p-2 border border-gray-300 rounded",required:""},null,8,ey),[[fe,v.unit]]),n("button",{type:"button",onClick:A=>k(p),class:"bg-red-500 text-white px-3 rounded hover:bg-red-600"},"",8,ty)]))),128)),n("button",{type:"button",onClick:T,class:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg mt-2"}," + Thm nguyn liu ")])]),n("div",sy,[n("button",{type:"button",onClick:S,class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium"},"Hy"),n("button",{type:"submit",class:"flex-1 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg font-medium",disabled:!i.value.name||!i.value.category||i.value.price<=0},h(o.value?"Cp nht":"Thm mn"),9,ny)])],32)])])):W("",!0)])]))}},oy=je(ry,[["__scopeId","data-v-bbd45825"]]),Ct={async getIngredients(){return(await H.get("/manager/ingredients")).data},async createIngredient(e){return(await H.post("/manager/ingredients",e)).data},async updateIngredient(e,t){return(await H.put(`/manager/ingredients/${e}`,t)).data},async deleteIngredient(e){await H.delete(`/manager/ingredients/${e}`)},async getLowStockItems(){return(await H.get("/manager/ingredients/low-stock")).data},async getStockHistory(e){return(await H.get(`/manager/ingredients/${e}/history`)).data},async adjustStock(e,t){return(await H.post(`/manager/ingredients/${e}/adjust`,t)).data},async getCategories(){return(await H.get("/manager/ingredient-categories")).data},async createCategory(e){return(await H.post("/manager/ingredient-categories",e)).data},async deleteCategory(e){await H.delete(`/manager/ingredient-categories/${e}`)}},iy=Rt("ingredient",{state:()=>({items:[],lowStockItems:[],categories:[],loading:!1,error:null}),actions:{async fetchIngredients(){var e,t;this.loading=!0,this.error=null;try{this.items=await Ct.getIngredients()||[]}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti nguyn liu",this.items=[]}finally{this.loading=!1}},async createIngredient(e){var t,s;this.error=null;try{const r=await Ct.createIngredient(e);return this.items.push(r),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li to nguyn liu",!1}},async updateIngredient(e,t){var s,r;this.error=null;try{const o=await Ct.updateIngredient(e,t),i=this.items.findIndex(a=>a.id===e);return i!==-1&&(this.items[i]=o),!0}catch(o){return this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li cp nht nguyn liu",!1}},async deleteIngredient(e){var t,s;this.error=null;try{return await Ct.deleteIngredient(e),this.items=this.items.filter(r=>r.id!==e),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li xa nguyn liu",!1}},async fetchLowStock(){var e,t;try{this.lowStockItems=await Ct.getLowStockItems()||[]}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti nguyn liu sp ht",this.lowStockItems=[]}},async fetchLowStockItems(){var e,t;try{return await Ct.getLowStockItems()||[]}catch(s){return this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti nguyn liu sp ht",[]}},async fetchStockHistory(e){var t,s;try{return await Ct.getStockHistory(e)||[]}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li ti lch s tn kho",[]}},async adjustStock(e,t){var s,r;this.error=null;try{const o=await Ct.adjustStock(e,t),i=this.items.findIndex(a=>a.id===e);return i!==-1&&(this.items[i]=o),await this.fetchLowStock(),!0}catch(o){return this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li iu chnh tn kho",!1}},async fetchCategories(){var e,t;this.error=null;try{this.categories=await Ct.getCategories()||[]}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti danh mc",this.categories=[]}},async createCategory(e){var t,s;this.error=null;try{const r=await Ct.createCategory(e);return this.categories.push(r),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li to danh mc",!1}},async deleteCategory(e){var t,s;this.error=null;try{return await Ct.deleteCategory(e),this.categories=this.categories.filter(r=>r.id!==e),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li xa danh mc",!1}}}}),bs={KILOGRAM:"kg",GRAM:"g",LITER:"L",MILLILITER:"ml",PIECE:"piece",BOX:"box",PACK:"pack"},ay=[{value:bs.KILOGRAM,label:"Kilogram (kg)"},{value:bs.GRAM,label:"Gram (g)"},{value:bs.LITER,label:"Lt (L)"},{value:bs.MILLILITER,label:"Milliliter (ml)"},{value:bs.PIECE,label:"Ci"},{value:bs.BOX,label:"Hp"},{value:bs.PACK,label:"Gi"}],Ls={ADD:"add",REMOVE:"remove",ADJUST:"adjust"},Su=[{value:Ls.ADD,label:"Nhp Hng",color:"green"},{value:Ls.REMOVE,label:"Xut Hng",color:"red"},{value:Ls.ADJUST,label:"iu Chnh",color:"blue"}],ly={[Ls.ADD]:"bg-green-100 text-green-800",[Ls.REMOVE]:"bg-red-100 text-red-800",[Ls.ADJUST]:"bg-blue-100 text-blue-800"},jt={IN_STOCK:"in_stock",LOW_STOCK:"low_stock",OUT_OF_STOCK:"out_of_stock"},uy={[jt.IN_STOCK]:"bg-green-100 text-green-800",[jt.LOW_STOCK]:"bg-yellow-100 text-yellow-800",[jt.OUT_OF_STOCK]:"bg-red-100 text-red-800"};function $u(e){return!e||e.quantity===0?jt.OUT_OF_STOCK:e.quantity<=e.min_stock?jt.LOW_STOCK:jt.IN_STOCK}function cy(e){const t=$u(e);return uy[t]||"bg-gray-100 text-gray-800"}function dy(e){const t=$u(e);return{[jt.IN_STOCK]:" Hng",[jt.LOW_STOCK]:"Sp Ht",[jt.OUT_OF_STOCK]:"Ht Hng"}[t]||"Khng xc nh"}function fy(e){return ly[e]||"bg-gray-100 text-gray-800"}function py(e){const t=Su.find(s=>s.value===e);return t?t.label:e}const hy={name:"IngredientManagementView",components:{BottomNav:It},setup(){const e=iy(),t=Z(""),s=Z(!1),r=Z(!1),o=Z(!1),i=Z(!1),a=Z(!1),l=Z(null),u=Z(""),d=J(()=>e.categories.map($=>$.name)),c=async()=>{if(!u.value.trim())return;if(d.value.includes(u.value.trim())){alert("Danh mc  tn ti!");return}await e.createCategory({name:u.value.trim()})?u.value="":alert(e.error||"Li to danh mc")},f=async $=>{if(T.value.some(oe=>oe.category===$)){alert("Khng th xa danh mc  c nguyn liu!");return}if(confirm(`Bn c chc mun xa danh mc "${$}"?`)){const oe=e.categories.find(xe=>xe.name===$);oe&&(await e.deleteCategory(oe.id)||alert(e.error||"Li xa danh mc"))}},w=$=>T.value.filter(m=>m.category===$).length,g=Z({name:"",category:"",unit:"",quantity:0,min_stock:0,cost_per_unit:0,supplier:"",notes:""}),S=Z({type:"add",quantity:0,reason:""}),T=J(()=>e.items||[]),k=Z([]),U=J(()=>{if(!t.value)return T.value;const $=t.value.toLowerCase();return T.value.filter(m=>{var oe;return m.name.toLowerCase().includes($)||m.category.toLowerCase().includes($)||((oe=m.supplier)==null?void 0:oe.toLowerCase().includes($))})}),z=J(()=>T.value.filter($=>$.quantity>$.min_stock).length),F=J(()=>T.value.filter($=>$.quantity>0&&$.quantity<=$.min_stock).length),N=J(()=>T.value.filter($=>$.quantity===0).length),L=$=>$==null||isNaN($)?"0 ":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format($),V=$=>$?new Date($).toLocaleString("vi-VN"):"N/A",R=()=>{if(!l.value)return 0;const $=l.value.quantity,m=S.value.quantity||0;return S.value.type==="add"?$+m:S.value.type==="remove"?$-m:m},B=()=>{a.value=!1,l.value=null,g.value={name:"",category:"",unit:"",quantity:0,min_stock:0,cost_per_unit:0,supplier:"",notes:""},s.value=!0},O=$=>{a.value=!0,l.value=$,g.value={...$},s.value=!0},_=()=>{s.value=!1,a.value=!1,l.value=null},v=$=>{l.value=$,S.value={type:"add",quantity:0,reason:""},r.value=!0},p=()=>{r.value=!1,l.value=null},A=()=>{o.value=!1,l.value=null},I=async()=>{try{a.value?await e.updateIngredient(l.value.id,g.value):await e.createIngredient(g.value),_()}catch($){console.error("Error saving ingredient:",$),alert("C li xy ra khi lu nguyn liu")}},P=async()=>{try{await e.adjustStock(l.value.id,S.value),p()}catch($){console.error("Error adjusting stock:",$),alert("C li xy ra khi iu chnh tn kho")}},Y=async $=>{if(confirm(`Bn c chc mun xa nguyn liu "${$.name}"?`))try{await e.deleteIngredient($.id)}catch(m){console.error("Error deleting ingredient:",m),alert("C li xy ra khi xa nguyn liu")}},E=async $=>{l.value=$,k.value=await e.fetchStockHistory($.id),o.value=!0},j=async()=>{await e.fetchLowStock(),t.value=""};return Ge(async()=>{await e.fetchCategories(),await e.fetchIngredients()}),{searchQuery:t,showModal:s,showAdjustModal:r,showHistoryModal:o,showCategoryModal:i,isEditing:a,currentIngredient:l,formData:g,adjustData:S,ingredients:T,filteredIngredients:U,stockHistory:k,inStockCount:z,lowStockCount:F,outOfStockCount:N,categories:d,newCategoryName:u,ingredientStore:e,INGREDIENT_UNIT_OPTIONS:ay,ADJUSTMENT_TYPE_OPTIONS:Su,getStockStatusClass:cy,getStockStatusText:dy,getAdjustmentTypeClass:fy,getAdjustmentTypeText:py,formatCurrency:L,formatDateTime:V,calculateNewQuantity:R,openCreateModal:B,openEditModal:O,closeModal:_,openAdjustModal:v,closeAdjustModal:p,closeHistoryModal:A,saveIngredient:I,adjustStock:P,deleteIngredient:Y,viewHistory:E,showLowStock:j,addCategory:c,deleteCategory:f,getCategoryCount:w}}},gy={class:"min-h-screen bg-gray-50"},my={class:"sticky top-0 z-40 bg-white shadow-sm"},yy={class:"px-4 py-3"},by={class:"px-4 py-4 pb-24"},xy={class:"bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl p-4 mb-4 text-white shadow-lg"},vy={class:"grid grid-cols-4 gap-1.5"},wy={class:"text-center"},_y={class:"text-lg font-bold"},Cy={class:"text-center"},Sy={class:"text-lg font-bold"},$y={class:"text-center"},ky={class:"text-lg font-bold"},Ey={class:"text-center"},Ty={class:"text-lg font-bold"},Oy={class:"mb-4"},Ry={class:"grid grid-cols-2 gap-2"},Ay={class:"mb-4"},Iy={key:0,class:"text-center py-16"},Ny={key:1,class:"space-y-3"},Dy={class:"flex justify-between items-start mb-3"},Py={class:"font-bold text-lg"},Ly={class:"text-sm text-gray-600"},My={key:0,class:"text-xs text-gray-400"},Uy={class:"mb-3 space-y-1 text-sm"},Fy={class:"flex justify-between"},jy={class:"font-medium"},Vy={class:"flex justify-between"},By={class:"font-medium"},Hy={class:"flex justify-between"},qy={class:"font-medium text-green-600"},Ky={class:"grid grid-cols-4 gap-2 pt-3 border-t"},Gy=["onClick"],Wy=["onClick"],zy=["onClick"],Qy=["onClick"],Jy={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},Xy={class:"bg-white rounded-t-3xl w-full max-h-[85vh] overflow-y-auto"},Yy={class:"sticky top-0 bg-white px-4 py-4 border-b flex justify-between items-center"},Zy={class:"px-4 py-4"},eb={class:"bg-gray-50 rounded-xl p-4 mb-4"},tb={class:"flex gap-2"},sb={class:"space-y-2"},nb={class:"flex items-center gap-3"},rb={class:"font-medium text-gray-800"},ob={class:"text-xs text-gray-500"},ib=["onClick"],ab={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},lb={class:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto"},ub={class:"text-2xl font-bold mb-4"},cb={class:"space-y-4"},db={class:"grid grid-cols-2 gap-4"},fb=["value"],pb=["value"],hb={class:"grid grid-cols-3 gap-4"},gb={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-3"},mb={class:"flex items-start gap-2"},yb={class:"flex-1"},bb={class:"text-xs text-green-600 mt-1"},xb={class:"flex justify-end gap-3 mt-6"},vb={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},wb={class:"bg-white rounded-lg p-6 w-full max-w-md"},_b={class:"mb-4"},Cb={class:"text-sm text-gray-600"},Sb={class:"font-semibold"},$b={class:"text-sm text-gray-600"},kb={class:"font-semibold"},Eb={class:"space-y-4"},Tb=["value"],Ob={class:"bg-blue-50 p-3 rounded-lg"},Rb={class:"text-sm text-blue-800"},Ab={class:"font-bold"},Ib={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-3"},Nb={class:"flex items-start gap-2"},Db={class:"flex-1"},Pb={class:"text-xs text-green-600 mt-1"},Lb={class:"flex justify-end gap-3 mt-6"},Mb={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ub={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto"},Fb={class:"text-2xl font-bold mb-4"},jb={class:"space-y-3"},Vb={class:"flex justify-between items-start"},Bb={class:"flex items-center gap-2"},Hb={class:"text-sm font-medium text-gray-900"},qb={class:"text-sm text-gray-600 mt-1"},Kb={class:"text-xs text-gray-500 mt-2"},Gb={class:"text-right"},Wb={class:"text-sm font-medium"},zb={class:"text-sm font-medium"},Qb={class:"flex justify-end mt-6"};function Jb(e,t,s,r,o,i){var l,u,d,c,f,w;const a=Oo("BottomNav");return y(),b("div",gy,[n("div",my,[n("div",yy,[t[24]||(t[24]=n("div",{class:"flex items-center justify-between mb-3"},[n("h1",{class:"text-xl font-bold text-gray-800"}," Nguyn liu")],-1)),ae(n("input",{"onUpdate:modelValue":t[0]||(t[0]=g=>r.searchQuery=g),type:"text",placeholder:"Tm kim nguyn liu...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[fe,r.searchQuery]])])]),n("div",by,[n("div",xy,[t[29]||(t[29]=n("div",{class:"text-xs opacity-90 mb-2"},"Tng quan",-1)),n("div",vy,[n("div",wy,[n("div",_y,h(r.ingredients.length),1),t[25]||(t[25]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"},"Tng",-1))]),n("div",Cy,[n("div",Sy,h(r.inStockCount),1),t[26]||(t[26]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"}," hng",-1))]),n("div",$y,[n("div",ky,h(r.lowStockCount),1),t[27]||(t[27]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"},"Sp ht",-1))]),n("div",Ey,[n("div",Ty,h(r.outOfStockCount),1),t[28]||(t[28]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"},"Ht hng",-1))])])]),n("div",Oy,[t[34]||(t[34]=n("h2",{class:"text-sm font-bold text-gray-800 mb-2"}," Thao tc nhanh",-1)),n("div",Ry,[n("button",{onClick:t[1]||(t[1]=(...g)=>r.openCreateModal&&r.openCreateModal(...g)),class:"bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-xl p-4 shadow-md active:scale-95 transition-transform"},[...t[30]||(t[30]=[n("div",{class:"text-2xl mb-1"},"",-1),n("div",{class:"text-sm font-bold"},"To nguyn liu",-1)])]),n("button",{onClick:t[2]||(t[2]=g=>r.showCategoryModal=!0),class:"bg-gradient-to-br from-purple-500 to-pink-500 text-white rounded-xl p-4 shadow-md active:scale-95 transition-transform"},[...t[31]||(t[31]=[n("div",{class:"text-2xl mb-1"},"",-1),n("div",{class:"text-sm font-bold"},"Qun l danh mc",-1)])]),n("button",{onClick:t[3]||(t[3]=(...g)=>r.showLowStock&&r.showLowStock(...g)),class:"bg-gradient-to-br from-yellow-500 to-orange-500 text-white rounded-xl p-4 shadow-md active:scale-95 transition-transform"},[...t[32]||(t[32]=[n("div",{class:"text-2xl mb-1"},"",-1),n("div",{class:"text-sm font-bold"},"Sp ht hng",-1)])]),n("button",{onClick:t[4]||(t[4]=(...g)=>e.showStockHistory&&e.showStockHistory(...g)),class:"bg-gradient-to-br from-green-500 to-emerald-500 text-white rounded-xl p-4 shadow-md active:scale-95 transition-transform"},[...t[33]||(t[33]=[n("div",{class:"text-2xl mb-1"},"",-1),n("div",{class:"text-sm font-bold"},"Lch s nhp",-1)])])])]),n("div",Ay,[t[39]||(t[39]=n("div",{class:"flex items-center justify-between mb-3"},[n("h2",{class:"text-lg font-bold text-gray-800"}," Danh sch nguyn liu")],-1)),r.filteredIngredients.length===0?(y(),b("div",Iy,[...t[35]||(t[35]=[n("div",{class:"text-6xl mb-4"},"",-1),n("p",{class:"text-gray-500"},"Khng c nguyn liu no",-1)])])):(y(),b("div",Ny,[(y(!0),b(de,null,me(r.filteredIngredients,g=>(y(),b("div",{key:g.id,class:"bg-white rounded-2xl p-4 shadow-sm"},[n("div",Dy,[n("div",null,[n("h3",Py,h(g.name),1),n("p",Ly,h(g.category),1),g.supplier?(y(),b("p",My," "+h(g.supplier),1)):W("",!0)]),n("span",{class:he([r.getStockStatusClass(g),"px-3 py-1 rounded-full text-xs font-medium"])},h(r.getStockStatusText(g)),3)]),n("div",Uy,[n("div",Fy,[t[36]||(t[36]=n("span",{class:"text-gray-600"},"Tn kho:",-1)),n("span",jy,h(g.quantity)+" "+h(g.unit),1)]),n("div",Vy,[t[37]||(t[37]=n("span",{class:"text-gray-600"},"Ti thiu:",-1)),n("span",By,h(g.min_stock)+" "+h(g.unit),1)]),n("div",Hy,[t[38]||(t[38]=n("span",{class:"text-gray-600"},"n gi:",-1)),n("span",qy,h(r.formatCurrency(g.cost_per_unit)),1)])]),n("div",Ky,[n("button",{onClick:S=>r.openAdjustModal(g),class:"bg-blue-500 text-white py-2 rounded-lg text-xs font-medium active:bg-blue-600"},"  iu chnh ",8,Gy),n("button",{onClick:S=>r.viewHistory(g),class:"bg-purple-500 text-white py-2 rounded-lg text-xs font-medium active:bg-purple-600"},"  Lch s ",8,Wy),n("button",{onClick:S=>r.openEditModal(g),class:"bg-green-500 text-white py-2 rounded-lg text-xs font-medium active:bg-green-600"},"  Sa ",8,zy),n("button",{onClick:S=>r.deleteIngredient(g),class:"bg-red-500 text-white py-2 rounded-lg text-xs font-medium active:bg-red-600"},"  Xa ",8,Qy)])]))),128))]))])]),ye(a),ye(mt,{name:"slide-up"},{default:De(()=>[r.showCategoryModal?(y(),b("div",Jy,[n("div",Xy,[n("div",Yy,[t[40]||(t[40]=n("h3",{class:"text-lg font-bold"}," Qun l danh mc",-1)),n("button",{onClick:t[5]||(t[5]=g=>r.showCategoryModal=!1),class:"text-2xl text-gray-400"},"")]),n("div",Zy,[n("div",eb,[t[41]||(t[41]=n("h4",{class:"font-semibold text-gray-800 mb-3"},"Thm danh mc mi",-1)),n("div",tb,[ae(n("input",{"onUpdate:modelValue":t[6]||(t[6]=g=>r.newCategoryName=g),type:"text",placeholder:"Tn danh mc...",class:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"},null,512),[[fe,r.newCategoryName]]),n("button",{onClick:t[7]||(t[7]=(...g)=>r.addCategory&&r.addCategory(...g)),class:"bg-purple-500 text-white px-6 py-3 rounded-lg font-medium active:bg-purple-600"}," Thm ")])]),n("div",sb,[(y(!0),b(de,null,me(r.ingredientStore.categories,g=>(y(),b("div",{key:g.id,class:"bg-white border border-gray-200 rounded-xl p-4 flex items-center justify-between"},[n("div",nb,[t[42]||(t[42]=n("div",{class:"w-10 h-10 rounded-lg bg-purple-100 text-purple-600 flex items-center justify-center text-xl"},"  ",-1)),n("div",null,[n("div",rb,h(g.name),1),n("div",ob,h(r.getCategoryCount(g.name))+" nguyn liu",1)])]),n("button",{onClick:S=>r.deleteCategory(g.name),class:"text-red-500 hover:text-red-700 p-2"},"  ",8,ib)]))),128))])])])])):W("",!0)]),_:1}),r.showModal?(y(),b("div",ab,[n("div",lb,[n("h2",ub,h(r.isEditing?"Cp Nht Nguyn Liu":"Thm Nguyn Liu Mi"),1),n("div",cb,[n("div",null,[t[43]||(t[43]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tn Nguyn Liu *",-1)),ae(n("input",{"onUpdate:modelValue":t[8]||(t[8]=g=>r.formData.name=g),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[fe,r.formData.name]])]),n("div",db,[n("div",null,[t[45]||(t[45]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Danh Mc *",-1)),ae(n("select",{"onUpdate:modelValue":t[9]||(t[9]=g=>r.formData.category=g),class:"w-full px-3 py-2 border border-gray-300 rounded-lg"},[t[44]||(t[44]=n("option",{value:""},"Chn danh mc",-1)),(y(!0),b(de,null,me(r.categories,g=>(y(),b("option",{key:g,value:g},h(g),9,fb))),128))],512),[[lt,r.formData.category]])]),n("div",null,[t[47]||(t[47]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"n V *",-1)),ae(n("select",{"onUpdate:modelValue":t[10]||(t[10]=g=>r.formData.unit=g),class:"w-full px-3 py-2 border border-gray-300 rounded-lg"},[t[46]||(t[46]=n("option",{value:""},"Chn n v",-1)),(y(!0),b(de,null,me(r.INGREDIENT_UNIT_OPTIONS,g=>(y(),b("option",{key:g.value,value:g.value},h(g.label),9,pb))),128))],512),[[lt,r.formData.unit]])])]),n("div",hb,[n("div",null,[t[48]||(t[48]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"S Lng *",-1)),ae(n("input",{"onUpdate:modelValue":t[11]||(t[11]=g=>r.formData.quantity=g),type:"number",step:"0.01",class:"w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[fe,r.formData.quantity,void 0,{number:!0}]])]),n("div",null,[t[49]||(t[49]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"S Lng Ti Thiu *",-1)),ae(n("input",{"onUpdate:modelValue":t[12]||(t[12]=g=>r.formData.min_stock=g),type:"number",step:"0.01",class:"w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[fe,r.formData.min_stock,void 0,{number:!0}]])]),n("div",null,[t[50]||(t[50]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Gi/n V *",-1)),ae(n("input",{"onUpdate:modelValue":t[13]||(t[13]=g=>r.formData.cost_per_unit=g),type:"number",step:"0.01",class:"w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[fe,r.formData.cost_per_unit,void 0,{number:!0}]])])]),n("div",null,[t[51]||(t[51]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nh Cung Cp",-1)),ae(n("input",{"onUpdate:modelValue":t[14]||(t[14]=g=>r.formData.supplier=g),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[fe,r.formData.supplier]])]),n("div",null,[t[52]||(t[52]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ghi Ch",-1)),ae(n("textarea",{"onUpdate:modelValue":t[15]||(t[15]=g=>r.formData.notes=g),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[fe,r.formData.notes]])]),!r.isEditing&&r.formData.quantity>0&&r.formData.cost_per_unit>0?(y(),b("div",gb,[n("div",mb,[t[55]||(t[55]=n("span",{class:"text-green-600 text-lg"},"",-1)),n("div",yb,[t[53]||(t[53]=n("p",{class:"text-sm font-medium text-green-800"},"T ng ghi nhn chi ph",-1)),n("p",bb," H thng s t ng to chi ph: "+h(r.formatCurrency(r.formData.quantity*r.formData.cost_per_unit)),1),t[54]||(t[54]=n("p",{class:"text-xs text-green-600"},"Danh mc: Nguyn liu",-1))])])])):W("",!0)]),n("div",xb,[n("button",{onClick:t[16]||(t[16]=(...g)=>r.closeModal&&r.closeModal(...g)),class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"}," Hy "),n("button",{onClick:t[17]||(t[17]=(...g)=>r.saveIngredient&&r.saveIngredient(...g)),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},h(r.isEditing?"Cp Nht":"Thm Mi"),1)])])])):W("",!0),r.showAdjustModal?(y(),b("div",vb,[n("div",wb,[t[65]||(t[65]=n("h2",{class:"text-2xl font-bold mb-4"},"iu Chnh Tn Kho",-1)),n("div",_b,[n("p",Cb,[t[56]||(t[56]=Pe("Nguyn liu: ",-1)),n("span",Sb,h((l=r.currentIngredient)==null?void 0:l.name),1)]),n("p",$b,[t[57]||(t[57]=Pe("Tn kho hin ti: ",-1)),n("span",kb,h((u=r.currentIngredient)==null?void 0:u.quantity)+" "+h((d=r.currentIngredient)==null?void 0:d.unit),1)])]),n("div",Eb,[n("div",null,[t[58]||(t[58]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Loi iu Chnh *",-1)),ae(n("select",{"onUpdate:modelValue":t[18]||(t[18]=g=>r.adjustData.type=g),class:"w-full px-3 py-2 border border-gray-300 rounded-lg"},[(y(!0),b(de,null,me(r.ADJUSTMENT_TYPE_OPTIONS,g=>(y(),b("option",{key:g.value,value:g.value},h(g.label),9,Tb))),128))],512),[[lt,r.adjustData.type]])]),n("div",null,[t[59]||(t[59]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"S Lng *",-1)),ae(n("input",{"onUpdate:modelValue":t[19]||(t[19]=g=>r.adjustData.quantity=g),type:"number",step:"0.01",class:"w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[fe,r.adjustData.quantity,void 0,{number:!0}]])]),n("div",null,[t[60]||(t[60]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"L Do *",-1)),ae(n("textarea",{"onUpdate:modelValue":t[20]||(t[20]=g=>r.adjustData.reason=g),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg"},null,512),[[fe,r.adjustData.reason]])]),n("div",Ob,[n("p",Rb,[t[61]||(t[61]=Pe(" Tn kho sau iu chnh: ",-1)),n("span",Ab,h(r.calculateNewQuantity())+" "+h((c=r.currentIngredient)==null?void 0:c.unit),1)])]),r.adjustData.type==="add"&&r.adjustData.quantity>0&&((f=r.currentIngredient)==null?void 0:f.cost_per_unit)>0?(y(),b("div",Ib,[n("div",Nb,[t[64]||(t[64]=n("span",{class:"text-green-600 text-lg"},"",-1)),n("div",Db,[t[62]||(t[62]=n("p",{class:"text-sm font-medium text-green-800"},"T ng ghi nhn chi ph",-1)),n("p",Pb," H thng s t ng to chi ph: "+h(r.formatCurrency(r.adjustData.quantity*r.currentIngredient.cost_per_unit)),1),t[63]||(t[63]=n("p",{class:"text-xs text-green-600"},"Danh mc: Nguyn liu",-1))])])])):W("",!0)]),n("div",Lb,[n("button",{onClick:t[21]||(t[21]=(...g)=>r.closeAdjustModal&&r.closeAdjustModal(...g)),class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"}," Hy "),n("button",{onClick:t[22]||(t[22]=(...g)=>r.adjustStock&&r.adjustStock(...g)),class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"}," Xc Nhn ")])])])):W("",!0),r.showHistoryModal?(y(),b("div",Mb,[n("div",Ub,[n("h2",Fb,"Lch S Tn Kho - "+h((w=r.currentIngredient)==null?void 0:w.name),1),n("div",jb,[(y(!0),b(de,null,me(r.stockHistory,g=>(y(),b("div",{key:g.id,class:"border border-gray-200 rounded-lg p-4"},[n("div",Vb,[n("div",null,[n("div",Bb,[n("span",{class:he([r.getAdjustmentTypeClass(g.type),"px-2 py-1 text-xs font-semibold rounded-full"])},h(r.getAdjustmentTypeText(g.type)),3),n("span",Hb,h(g.quantity)+" "+h(g.unit),1)]),n("p",qb,h(g.reason),1),n("p",Kb,h(r.formatDateTime(g.created_at))+" - "+h(g.created_by),1)]),n("div",Gb,[t[66]||(t[66]=n("p",{class:"text-xs text-gray-500"},"Trc",-1)),n("p",Wb,h(g.quantity_before),1),t[67]||(t[67]=n("p",{class:"text-xs text-gray-500 mt-1"},"Sau",-1)),n("p",zb,h(g.quantity_after),1)])])]))),128))]),n("div",Qb,[n("button",{onClick:t[23]||(t[23]=(...g)=>r.closeHistoryModal&&r.closeHistoryModal(...g)),class:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700"}," ng ")])])])):W("",!0)])}const Xb=je(hy,[["render",Jb],["__scopeId","data-v-4ee12798"]]),Oe={async getFacilities(){return(await H.get("/manager/facilities")).data},async getFacility(e){return(await H.get(`/manager/facilities/${e}`)).data},async createFacility(e){return(await H.post("/manager/facilities",e)).data},async updateFacility(e,t){return(await H.put(`/manager/facilities/${e}`,t)).data},async updateFacilityWithHistory(e,t){return(await H.put(`/manager/facilities/${e}/update-with-history`,t)).data},async moveAsset(e,t,s){return(await H.patch(`/manager/facilities/${e}/move`,{new_area:t,reason:s})).data},async checkDeletionEligibility(e){return(await H.get(`/manager/facilities/${e}/can-delete`)).data},async deleteFacility(e){return(await H.delete(`/manager/facilities/${e}`)).data},async getFacilityHistory(e){return(await H.get(`/manager/facilities/${e}/history`)).data},async getStatusAlerts(){return(await H.get("/manager/facilities/status-alerts")).data},async getStatusHistory(e){console.log("getStatusHistory called with id:",e),console.log("Auth token:",localStorage.getItem("token"));try{const t=await H.get(`/manager/facilities/${e}/status-history`);return console.log("getStatusHistory response:",t.data),t.data}catch(t){throw console.error("getStatusHistory error:",t),t}},async updateStatusWithDetails(e,t){return(await H.patch(`/manager/facilities/${e}/status-detailed`,t)).data},async resolveStatusAlert(e){return(await H.patch(`/manager/facilities/alerts/${e}/resolve`,{})).data},async getFacilitiesByStatus(e){return(await H.get(`/manager/facilities/status/${e}`)).data},async getFacilitiesByArea(e){return(await H.get(`/manager/facilities/area/${e}`)).data},async getMaintenanceHistory(e){return(await H.get(`/manager/facilities/${e}/maintenance`)).data},async getMaintenanceStats(e){var t;try{return(await H.get(`/manager/facilities/${e}/maintenance-stats`)).data}catch(s){if(((t=s.response)==null?void 0:t.status)===404)return console.warn("Maintenance stats endpoint not implemented"),{total:0,totalCost:0,avgInterval:0,scheduledCost:0,emergencyCost:0};throw s}},async getNextMaintenanceDate(e){var t;try{return(await H.get(`/manager/facilities/${e}/next-maintenance`)).data}catch(s){if(((t=s.response)==null?void 0:t.status)===404)return console.warn("Next maintenance date endpoint not implemented"),{next_date:null};throw s}},async updateMaintenanceRecord(e,t){return(await H.put(`/manager/maintenance/${e}`,t)).data},async getMaintenanceCostAnalysis(e,t="12months"){return(await H.get(`/manager/facilities/${e}/maintenance-costs`,{params:{period:t}})).data},async scheduleRecurringMaintenance(e,t){return(await H.post(`/manager/facilities/${e}/recurring-maintenance`,t)).data},async scheduleMaintenanceTask(e){return(await H.post("/manager/maintenance/schedule",e)).data},async getScheduledMaintenance(){var e;try{return(await H.get("/manager/maintenance/scheduled")).data}catch(t){if(((e=t.response)==null?void 0:e.status)===404)return console.warn("Scheduled maintenance endpoint not implemented"),[];throw t}},async updateMaintenanceTask(e,t){return(await H.patch(`/manager/maintenance/${e}`,t)).data},async getMaintenanceDue(){var e;try{return(await H.get("/manager/maintenance/due")).data}catch(t){if(((e=t.response)==null?void 0:e.status)===404)return console.warn("Maintenance due endpoint not implemented"),[];throw t}},async getIssueReports(){return(await H.get("/manager/issues")).data},async createMaintenanceRecord(e){return(await H.post("/manager/maintenance",e)).data},async createIssueReport(e){return(await H.post("/manager/issues",e)).data},async updateIssueReportStatus(e,t){return(await H.patch(`/manager/issues/${e}/status`,{status:t})).data},async addReportComment(e,t){return(await H.post(`/manager/issues/${e}/comments`,{comment:t})).data},async searchFacilities(e={}){const t=new URLSearchParams;return e.name&&t.append("name",e.name),e.type&&t.append("type",e.type),e.area&&t.append("area",e.area),e.status&&t.append("status",e.status),e.limit&&t.append("limit",e.limit),e.offset&&t.append("offset",e.offset),(await H.get(`/manager/facilities/search?${t}`)).data},async searchFacilitiesForStaff(e={}){const t=new URLSearchParams;return e.name&&t.append("name",e.name),e.type&&t.append("type",e.type),e.area&&t.append("area",e.area),e.status&&t.append("status",e.status),e.limit&&t.append("limit",e.limit),e.offset&&t.append("offset",e.offset),(await H.get(`/waiter/facilities/search?${t}`)).data}},Yb=Rt("facility",{state:()=>({items:[],loading:!1,error:null}),actions:{async fetchFacilities(){var e,t;this.loading=!0,this.error=null;try{this.items=await Oe.getFacilities()||[]}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti c s vt cht",this.items=[]}finally{this.loading=!1}},async createFacility(e){var t,s;this.error=null;try{const r=await Oe.createFacility(e);return this.items.push(r),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li to ti sn",!1}},async updateFacility(e,t){var s,r;this.error=null;try{const o=await Oe.updateFacility(e,t),i=this.items.findIndex(a=>a.id===e);return i!==-1&&(this.items[i]=o),!0}catch(o){return this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li cp nht ti sn",!1}},async updateFacilityWithHistory(e,t){var s,r;this.error=null;try{const o=await Oe.updateFacilityWithHistory(e,t),i=this.items.findIndex(a=>a.id===e);return i!==-1&&(this.items[i]=o),!0}catch(o){return this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li cp nht ti sn",!1}},async moveAsset(e,t,s){var r,o;this.error=null;try{const i=await Oe.moveAsset(e,t,s),a=this.items.findIndex(l=>l.id===e);return a!==-1&&(this.items[a]=i),!0}catch(i){return this.error=((o=(r=i.response)==null?void 0:r.data)==null?void 0:o.error)||"Li di chuyn ti sn",!1}},async checkCanDelete(e){var t,s;try{return await Oe.checkDeletionEligibility(e)}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li kim tra quyn xa",{canDelete:!1,reason:"Li h thng"}}},async deleteFacility(e){var t,s;this.error=null;try{return await Oe.deleteFacility(e),this.items=this.items.filter(r=>r.id!==e),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li xa ti sn",!1}},async fetchStatusAlerts(){var e,t;try{return await Oe.getStatusAlerts()||[]}catch(s){return this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti cnh bo trng thi",[]}},async fetchStatusHistory(e){var t,s;console.log("fetchStatusHistory called with id:",e);try{const r=await Oe.getStatusHistory(e)||[];return console.log("fetchStatusHistory result:",r),r}catch(r){return console.error("fetchStatusHistory error:",r),this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li ti lch s trng thi",[]}},async updateStatusWithDetails(e,t){var s,r;this.error=null;try{const o=await Oe.updateStatusWithDetails(e,t),i=this.items.findIndex(a=>a.id===e);return i!==-1&&(this.items[i]=o),!0}catch(o){return this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li cp nht trng thi",!1}},async resolveStatusAlert(e){var t,s;this.error=null;try{return await Oe.resolveStatusAlert(e),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li gii quyt cnh bo",!1}},async fetchFacilitiesByStatus(e){var t,s;try{return await Oe.getFacilitiesByStatus(e)||[]}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li ti ti sn theo trng thi",[]}},async fetchFacilitiesByArea(e){var t,s;try{return await Oe.getFacilitiesByArea(e)||[]}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li ti ti sn theo khu vc",[]}},async fetchFacilityHistory(e){var t,s;try{return await Oe.getFacilityHistory(e)||[]}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li ti lch s",[]}},async fetchMaintenanceHistory(e){var t,s;try{return await Oe.getMaintenanceHistory(e)||[]}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li ti lch s bo tr",[]}},async fetchMaintenanceStats(e){var t,s;try{return await Oe.getMaintenanceStats(e)||{total:0,totalCost:0,avgInterval:0,scheduledCost:0,emergencyCost:0}}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li ti thng k bo tr",{total:0,totalCost:0,avgInterval:0,scheduledCost:0,emergencyCost:0}}},async fetchNextMaintenanceDate(e){var t,s;try{const r=await Oe.getNextMaintenanceDate(e);return(r==null?void 0:r.next_date)||null}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li ti ngy bo tr tip theo",null}},async updateMaintenanceRecord(e,t){var s,r;this.error=null;try{return await Oe.updateMaintenanceRecord(e,t),!0}catch(o){return this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li cp nht bo tr",!1}},async fetchMaintenanceCostAnalysis(e,t="12months"){var s,r;try{return await Oe.getMaintenanceCostAnalysis(e,t)||[]}catch(o){return this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li ti phn tch chi ph",[]}},async createMaintenanceRecord(e){var t,s;this.error=null;try{return await Oe.createMaintenanceRecord(e),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li to bo tr",!1}},async scheduleMaintenanceTask(e){var t,s;this.error=null;try{return await Oe.scheduleMaintenanceTask(e),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li ln lch bo tr",!1}},async fetchScheduledMaintenance(){try{return await Oe.getScheduledMaintenance()||[]}catch(e){return console.warn("Scheduled maintenance endpoint not available:",e.message),[]}},async createIssueReport(e){var t,s;this.error=null;try{return await Oe.createIssueReport(e),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li to bo co s c",!1}},async fetchIssueReports(){var e,t;try{return await Oe.getIssueReports()||[]}catch(s){return this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti bo co s c",[]}},async updateIssueReportStatus(e,t){var s,r;this.error=null;try{return await Oe.updateIssueReportStatus(e,t),!0}catch(o){return this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li cp nht trng thi bo co",!1}},async addReportComment(e,t){var s,r;this.error=null;try{return await Oe.addReportComment(e,t),!0}catch(o){return this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li thm bnh lun",!1}},async searchFacilities(e={}){var t,s;this.loading=!0,this.error=null;try{return await Oe.searchFacilities(e)}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li tm kim ti sn",{data:[],total:0}}finally{this.loading=!1}},async searchFacilitiesForStaff(e={}){var t,s;this.loading=!0,this.error=null;try{return await Oe.searchFacilitiesForStaff(e)}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li tm kim ti sn",{data:[],total:0}}finally{this.loading=!1}},async fetchMaintenanceDue(){try{return await Oe.getMaintenanceDue()||[]}catch(e){return console.warn("Maintenance due endpoint not available:",e.message),[]}}}}),ot={IN_USE:"ang s dng",BROKEN:"Hng",REPAIRING:"ang sa",INACTIVE:"Ngng s dng",DISPOSED:"Thanh l"},Zb=[{value:ot.IN_USE,label:"ang s dng",color:"green"},{value:ot.REPAIRING,label:"ang sa",color:"yellow"},{value:ot.BROKEN,label:"Hng",color:"red"},{value:ot.INACTIVE,label:"Ngng s dng",color:"gray"},{value:ot.DISPOSED,label:"Thanh l",color:"gray"}],ex={[ot.IN_USE]:"bg-green-100 text-green-800",[ot.REPAIRING]:"bg-yellow-100 text-yellow-800",[ot.BROKEN]:"bg-red-100 text-red-800",[ot.INACTIVE]:"bg-gray-100 text-gray-800",[ot.DISPOSED]:"bg-gray-100 text-gray-800"},Ys={FURNITURE:"Bn gh",MACHINE:"My mc",UTENSIL:"Dng c",ELECTRIC:"in t",OTHER:"Khc"},ba=[{value:Ys.FURNITURE,label:"Bn gh"},{value:Ys.MACHINE,label:"My mc"},{value:Ys.UTENSIL,label:"Dng c"},{value:Ys.ELECTRIC,label:"in t"},{value:Ys.OTHER,label:"Khc"}],Wr={OPEN:"open",IN_PROGRESS:"in_progress",RESOLVED:"resolved"},tx={[Wr.OPEN]:"bg-yellow-100 text-yellow-800",[Wr.IN_PROGRESS]:"bg-blue-100 text-blue-800",[Wr.RESOLVED]:"bg-green-100 text-green-800"};function sx(e){return ex[e]||"bg-gray-100 text-gray-800"}function nx(e){return tx[e]||"bg-gray-100 text-gray-800"}function xa(e,t=!1){if(!e)return null;try{let s;if(typeof e=="string"){if(e.includes("T")&&e.includes("Z"))return e;s=new Date(e+"T00:00:00Z")}else if(e instanceof Date)s=e;else return null;if(isNaN(s.getTime()))return null;if(t)return s.toISOString();{const r=s.getUTCFullYear(),o=String(s.getUTCMonth()+1).padStart(2,"0"),i=String(s.getUTCDate()).padStart(2,"0");return`${r}-${o}-${i}T00:00:00Z`}}catch(s){return console.error("Error converting date to ISO format:",s),null}}function rx(e){if(!e)return"";try{const t=new Date(e);if(isNaN(t.getTime()))return"";const s=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0");return`${s}-${r}-${o}`}catch(t){return console.error("Error converting ISO date to local format:",t),""}}function tr(e,t={}){if(!e)return"N/A";try{const s=typeof e=="string"?new Date(e):e;if(isNaN(s.getTime()))return"N/A";const r={year:"numeric",month:"2-digit",day:"2-digit",...t};return new Intl.DateTimeFormat("vi-VN",r).format(s)}catch(s){return console.error("Error formatting date:",s),"N/A"}}function Lt(e){return tr(e,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function qe(e,t=!0){if(e==null)return t?"0 ":"0";try{return new Intl.NumberFormat("vi-VN",{style:t?"currency":"decimal",currency:"VND",maximumFractionDigits:0}).format(e)}catch(s){return console.error("Error formatting price:",s),t?"0 ":"0"}}function ox(e,t={}){const s={};for(const[r,o]of Object.entries(e)){const i=t[r]||{},a=i.type||"string",l=i.default;switch(a){case"date":s[r]=o?xa(o):l||null;break;case"datetime":s[r]=o?xa(o,!0):l||null;break;case"number":s[r]=o!==""&&o!==null&&o!==void 0?Number(o):l!==void 0?l:0;break;case"string":s[r]=o!=null?String(o):l!==void 0?l:"";break;case"boolean":s[r]=!!o;break;default:s[r]=o!==void 0?o:l}}return s}function ix(e,t={}){const s={...e};for(const[r,o]of Object.entries(e))switch((t[r]||{}).type||"string"){case"date":case"datetime":s[r]=o?rx(o):"";break;default:s[r]=o}return s}const ax={class:"min-h-screen bg-gray-50"},lx={class:"sticky top-0 z-40 bg-white shadow-sm"},ux={class:"px-4 py-3"},cx={class:"px-4 py-4 pb-24"},dx={class:"bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl p-4 mb-4 text-white shadow-lg"},fx={class:"grid grid-cols-4 gap-1.5"},px={class:"text-center"},hx={class:"text-lg font-bold"},gx={class:"text-center"},mx={class:"text-lg font-bold"},yx={class:"text-center"},bx={class:"text-lg font-bold"},xx={class:"text-center"},vx={class:"text-lg font-bold"},wx={class:"mb-4"},_x={class:"grid grid-cols-2 gap-2"},Cx={class:"mb-4"},Sx={key:0,class:"text-center py-16"},$x={key:1,class:"space-y-3"},kx=["onClick"],Ex={class:"flex justify-between items-start mb-3"},Tx={class:"font-bold text-lg"},Ox={class:"text-sm text-gray-600"},Rx={class:"text-xs text-gray-400"},Ax={class:"mb-3 space-y-1 text-sm"},Ix={class:"flex justify-between"},Nx={class:"font-medium"},Dx={key:0,class:"flex justify-between"},Px={class:"font-medium text-green-600"},Lx={class:"flex gap-2 pt-3 border-t"},Mx=["onClick"],Ux=["onClick"],Fx={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},jx={class:"bg-white rounded-t-3xl w-full max-h-[90vh] overflow-y-auto"},Vx={class:"sticky top-0 bg-white px-4 py-4 border-b flex justify-between items-center"},Bx={class:"text-lg font-bold"},Hx={class:"px-4 py-4 space-y-4"},qx={class:"grid grid-cols-2 gap-3"},Kx=["value"],Gx=["value"],Wx={class:"grid grid-cols-2 gap-3"},zx={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-3"},Qx={class:"flex items-start gap-2"},Jx={class:"flex-1"},Xx={class:"text-xs text-green-600 mt-1"},Yx={class:"flex gap-3 pt-4"},Zx={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},ev={class:"bg-white rounded-t-3xl w-full max-h-[85vh] overflow-y-auto"},tv={class:"sticky top-0 bg-white px-4 py-4 border-b flex justify-between items-center"},sv={class:"px-4 py-4"},nv={key:0,class:"text-center py-16"},rv={key:1,class:"space-y-3"},ov={class:"flex justify-between items-start mb-2"},iv={class:"font-bold text-gray-900"},av={class:"text-sm text-gray-600"},lv={class:"text-sm text-gray-500"},uv={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},cv={class:"bg-white rounded-t-3xl w-full max-h-[85vh] overflow-y-auto"},dv={class:"sticky top-0 bg-white px-4 py-4 border-b flex justify-between items-center"},fv={class:"px-4 py-4"},pv={key:0,class:"text-center py-16"},hv={key:1,class:"space-y-3"},gv={class:"flex justify-between items-start mb-2"},mv={class:"flex-1"},yv={class:"font-bold text-gray-900"},bv={class:"text-sm text-gray-700 mt-1"},xv={class:"text-xs text-gray-500 mt-2"},vv={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},wv={class:"bg-white rounded-t-3xl w-full max-h-[85vh] overflow-y-auto"},_v={class:"sticky top-0 bg-white px-4 py-4 border-b flex justify-between items-center"},Cv={class:"px-4 py-4"},Sv={class:"bg-gray-50 rounded-xl p-4 mb-4"},$v={class:"flex gap-2"},kv={class:"space-y-2"},Ev={class:"flex items-center gap-3"},Tv={class:"font-medium text-gray-800"},Ov={class:"text-xs text-gray-500"},Rv=["onClick"],Av={__name:"FacilityManagementView",setup(e){const t=Yb(),s=Z(""),r=Z(!1),o=Z(!1),i=Z(!1),a=Z(!1),l=Z(!1),u=Z(null),d=Z(""),c=Z({name:"",type:"",area:"",quantity:1,status:ot.IN_USE,purchase_date:"",cost:0,supplier:"",notes:""}),f=J(()=>t.items||[]),w=Z([]),g=Z([]),S=J(()=>{const Y=ba.map(j=>j.label),E=JSON.parse(localStorage.getItem("facilityCategories")||"[]");return[...new Set([...Y,...E])]}),T=J(()=>{if(!s.value)return f.value;const Y=s.value.toLowerCase();return f.value.filter(E=>{var j,$,m;return((j=E.name)==null?void 0:j.toLowerCase().includes(Y))||(($=E.type)==null?void 0:$.toLowerCase().includes(Y))||((m=E.area)==null?void 0:m.toLowerCase().includes(Y))})}),k=J(()=>f.value.filter(Y=>Y.status===ot.IN_USE).length),U=J(()=>f.value.filter(Y=>Y.status===ot.REPAIRING).length),z=J(()=>f.value.filter(Y=>Y.status===ot.BROKEN).length),F=Y=>sx(Y),N=Y=>Y,L=Y=>nx(Y),V=Y=>({open:"Ch x l",in_progress:"ang x l",resolved:" gii quyt"})[Y]||Y,R=Y=>f.value.filter(E=>E.type===Y).length,B=()=>{if(!d.value.trim())return;if(S.value.includes(d.value.trim())){alert("Danh mc  tn ti!");return}const Y=JSON.parse(localStorage.getItem("facilityCategories")||"[]");Y.push(d.value.trim()),localStorage.setItem("facilityCategories",JSON.stringify(Y)),d.value="",alert("Thm danh mc thnh cng")},O=Y=>{if(f.value.some($=>$.type===Y)){alert("Khng th xa danh mc  c thit b!");return}if(ba.map($=>$.label).includes(Y)){alert("Khng th xa danh mc mc nh!");return}if(confirm(`Bn c chc mun xa danh mc "${Y}"?`)){const m=JSON.parse(localStorage.getItem("facilityCategories")||"[]").filter(oe=>oe!==Y);localStorage.setItem("facilityCategories",JSON.stringify(m)),alert("Xa danh mc thnh cng")}},_=()=>{l.value=!1,u.value=null,c.value={name:"",type:"",area:"",quantity:1,status:ot.IN_USE,purchase_date:"",cost:0,supplier:"",notes:""},r.value=!0},v=Y=>{l.value=!0,u.value=Y,c.value=ix({...Y},{purchase_date:{type:"date"}}),r.value=!0},p=()=>{r.value=!1,l.value=!1,u.value=null},A=async()=>{var Y,E,j;try{const $=ox(c.value,{name:{type:"string"},type:{type:"string"},area:{type:"string"},quantity:{type:"number",default:1},status:{type:"string"},purchase_date:{type:"date",default:new Date().toISOString()},cost:{type:"number",default:0},supplier:{type:"string",default:""},notes:{type:"string",default:""}});l.value?(await t.updateFacility(u.value.id,$),alert("Cp nht thit b thnh cng")):(await t.createFacility($),alert("Thm thit b thnh cng")),p()}catch($){console.error("Error saving facility:",$),console.error("Error response:",(Y=$.response)==null?void 0:Y.data);const m=((j=(E=$.response)==null?void 0:E.data)==null?void 0:j.error)||"C li xy ra khi lu thit b";alert(m)}},I=async Y=>{var E,j;if(confirm(`Bn c chc mun xa thit b "${Y.name}"?`))try{await t.deleteFacility(Y.id),alert("Xa thit b thnh cng")}catch($){console.error("Error deleting facility:",$);const m=((j=(E=$.response)==null?void 0:E.data)==null?void 0:j.error)||"C li xy ra khi xa thit b";alert(m)}},P=Y=>{console.log("View details:",Y),v(Y)};return Ge(async()=>{await t.fetchFacilities(),w.value=await t.fetchScheduledMaintenance(),g.value=await t.fetchIssueReports()}),(Y,E)=>(y(),b("div",ax,[n("div",lx,[n("div",ux,[E[17]||(E[17]=n("div",{class:"flex items-center justify-between mb-3"},[n("h1",{class:"text-xl font-bold text-gray-800"}," C s vt cht")],-1)),ae(n("input",{"onUpdate:modelValue":E[0]||(E[0]=j=>s.value=j),type:"text",placeholder:"Tm kim thit b...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[fe,s.value]])])]),n("div",cx,[n("div",dx,[E[22]||(E[22]=n("div",{class:"text-xs opacity-90 mb-2"},"Tng quan",-1)),n("div",fx,[n("div",px,[n("div",hx,h(f.value.length),1),E[18]||(E[18]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"},"Tng",-1))]),n("div",gx,[n("div",mx,h(k.value),1),E[19]||(E[19]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"},"Hot ng",-1))]),n("div",yx,[n("div",bx,h(U.value),1),E[20]||(E[20]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"},"Bo tr",-1))]),n("div",xx,[n("div",vx,h(z.value),1),E[21]||(E[21]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"},"Hng",-1))])])]),n("div",wx,[E[27]||(E[27]=n("h2",{class:"text-sm font-bold text-gray-800 mb-2"}," Thao tc nhanh",-1)),n("div",_x,[n("button",{onClick:_,class:"bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-xl p-4 shadow-md active:scale-95 transition-transform"},[...E[23]||(E[23]=[n("div",{class:"text-2xl mb-1"},"",-1),n("div",{class:"text-sm font-bold"},"To thit b",-1)])]),n("button",{onClick:E[1]||(E[1]=j=>o.value=!0),class:"bg-gradient-to-br from-purple-500 to-pink-500 text-white rounded-xl p-4 shadow-md active:scale-95 transition-transform"},[...E[24]||(E[24]=[n("div",{class:"text-2xl mb-1"},"",-1),n("div",{class:"text-sm font-bold"},"Qun l danh mc",-1)])]),n("button",{onClick:E[2]||(E[2]=j=>i.value=!0),class:"bg-gradient-to-br from-yellow-500 to-orange-500 text-white rounded-xl p-4 shadow-md active:scale-95 transition-transform"},[...E[25]||(E[25]=[n("div",{class:"text-2xl mb-1"},"",-1),n("div",{class:"text-sm font-bold"},"Lch bo tr",-1)])]),n("button",{onClick:E[3]||(E[3]=j=>a.value=!0),class:"bg-gradient-to-br from-red-500 to-pink-500 text-white rounded-xl p-4 shadow-md active:scale-95 transition-transform"},[...E[26]||(E[26]=[n("div",{class:"text-2xl mb-1"},"",-1),n("div",{class:"text-sm font-bold"},"S c",-1)])])])]),n("div",Cx,[E[31]||(E[31]=n("div",{class:"flex items-center justify-between mb-3"},[n("h2",{class:"text-lg font-bold text-gray-800"}," Danh sch thit b")],-1)),T.value.length===0?(y(),b("div",Sx,[...E[28]||(E[28]=[n("div",{class:"text-6xl mb-4"},"",-1),n("p",{class:"text-gray-500"},"Khng c thit b no",-1)])])):(y(),b("div",$x,[(y(!0),b(de,null,me(T.value,j=>(y(),b("div",{key:j.id,onClick:$=>P(j),class:"bg-white rounded-2xl p-4 shadow-sm active:scale-98 transition-transform"},[n("div",Ex,[n("div",null,[n("h3",Tx,h(j.name),1),n("p",Ox,h(j.type),1),n("p",Rx," "+h(j.area),1)]),n("span",{class:he([F(j.status),"px-3 py-1 rounded-full text-xs font-medium"])},h(N(j.status)),3)]),n("div",Ax,[n("div",Ix,[E[29]||(E[29]=n("span",{class:"text-gray-600"},"S lng:",-1)),n("span",Nx,h(j.quantity),1)]),j.cost?(y(),b("div",Dx,[E[30]||(E[30]=n("span",{class:"text-gray-600"},"Gi tr:",-1)),n("span",Px,h(_e(qe)(j.cost)),1)])):W("",!0)]),n("div",Lx,[n("button",{onClick:ze($=>v(j),["stop"]),class:"flex-1 bg-blue-500 text-white py-2 rounded-lg text-sm font-medium active:bg-blue-600"},"  Sa ",8,Mx),n("button",{onClick:ze($=>I(j),["stop"]),class:"flex-1 bg-red-500 text-white py-2 rounded-lg text-sm font-medium active:bg-red-600"},"  Xa ",8,Ux)])],8,kx))),128))]))])]),ye(It),ye(mt,{name:"slide-up"},{default:De(()=>[r.value?(y(),b("div",Fx,[n("div",jx,[n("div",Vx,[n("h3",Bx,h(l.value?"Cp nht thit b":"Thm thit b mi"),1),n("button",{onClick:p,class:"text-2xl text-gray-400"},"")]),n("div",Hx,[n("div",null,[E[32]||(E[32]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tn thit b *",-1)),ae(n("input",{"onUpdate:modelValue":E[4]||(E[4]=j=>c.value.name=j),type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[fe,c.value.name]])]),n("div",qx,[n("div",null,[E[34]||(E[34]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Loi *",-1)),ae(n("select",{"onUpdate:modelValue":E[5]||(E[5]=j=>c.value.type=j),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[E[33]||(E[33]=n("option",{value:""},"Chn loi",-1)),(y(!0),b(de,null,me(S.value,j=>(y(),b("option",{key:j,value:j},h(j),9,Kx))),128))],512),[[lt,c.value.type]])]),n("div",null,[E[35]||(E[35]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"S lng *",-1)),ae(n("input",{"onUpdate:modelValue":E[6]||(E[6]=j=>c.value.quantity=j),type:"number",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[fe,c.value.quantity,void 0,{number:!0}]])])]),n("div",null,[E[36]||(E[36]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Khu vc *",-1)),ae(n("input",{"onUpdate:modelValue":E[7]||(E[7]=j=>c.value.area=j),type:"text",placeholder:"VD: Quy bar, Bp, Kho...",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[fe,c.value.area]])]),n("div",null,[E[37]||(E[37]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Trng thi *",-1)),ae(n("select",{"onUpdate:modelValue":E[8]||(E[8]=j=>c.value.status=j),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[(y(!0),b(de,null,me(_e(Zb),j=>(y(),b("option",{key:j.value,value:j.value},h(j.label),9,Gx))),128))],512),[[lt,c.value.status]])]),n("div",Wx,[n("div",null,[E[38]||(E[38]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ngy mua",-1)),ae(n("input",{"onUpdate:modelValue":E[9]||(E[9]=j=>c.value.purchase_date=j),type:"date",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[fe,c.value.purchase_date]])]),n("div",null,[E[39]||(E[39]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Gi tr",-1)),ae(n("input",{"onUpdate:modelValue":E[10]||(E[10]=j=>c.value.cost=j),type:"number",placeholder:"VND",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[fe,c.value.cost,void 0,{number:!0}]])])]),n("div",null,[E[40]||(E[40]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nh cung cp",-1)),ae(n("input",{"onUpdate:modelValue":E[11]||(E[11]=j=>c.value.supplier=j),type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[fe,c.value.supplier]])]),n("div",null,[E[41]||(E[41]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ghi ch",-1)),ae(n("textarea",{"onUpdate:modelValue":E[12]||(E[12]=j=>c.value.notes=j),rows:"3",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[fe,c.value.notes]])]),!l.value&&c.value.cost>0?(y(),b("div",zx,[n("div",Qx,[E[44]||(E[44]=n("span",{class:"text-green-600 text-lg"},"",-1)),n("div",Jx,[E[42]||(E[42]=n("p",{class:"text-sm font-medium text-green-800"},"T ng ghi nhn chi ph",-1)),n("p",Xx," H thng s t ng to chi ph: "+h(_e(qe)(c.value.cost)),1),E[43]||(E[43]=n("p",{class:"text-xs text-green-600"},"Danh mc: C s vt cht",-1))])])])):W("",!0),n("div",Yx,[n("button",{onClick:p,class:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-xl font-medium active:bg-gray-300"}," Hy "),n("button",{onClick:A,class:"flex-1 bg-blue-500 text-white py-3 rounded-xl font-medium active:bg-blue-600"},h(l.value?"Cp nht":"Thm mi"),1)])])])])):W("",!0)]),_:1}),ye(mt,{name:"slide-up"},{default:De(()=>[i.value?(y(),b("div",Zx,[n("div",ev,[n("div",tv,[E[45]||(E[45]=n("h3",{class:"text-lg font-bold"}," Lch bo tr",-1)),n("button",{onClick:E[13]||(E[13]=j=>i.value=!1),class:"text-2xl text-gray-400"},"")]),n("div",sv,[w.value.length===0?(y(),b("div",nv,[...E[46]||(E[46]=[n("div",{class:"text-6xl mb-4"},"",-1),n("p",{class:"text-gray-500"},"Khng c lch bo tr no",-1)])])):(y(),b("div",rv,[(y(!0),b(de,null,me(w.value,j=>(y(),b("div",{key:j.id,class:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm"},[n("div",ov,[n("div",null,[n("h4",iv,h(j.facility_name),1),n("p",av," "+h(j.location),1)]),n("span",{class:he([j.is_overdue?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800","px-2 py-1 text-xs font-medium rounded-full"])},h(j.is_overdue?"Qu hn":"Sp ti"),3)]),n("p",lv," "+h(_e(tr)(j.scheduled_date)),1)]))),128))]))])])])):W("",!0)]),_:1}),ye(mt,{name:"slide-up"},{default:De(()=>[a.value?(y(),b("div",uv,[n("div",cv,[n("div",dv,[E[47]||(E[47]=n("h3",{class:"text-lg font-bold"}," Bo co s c",-1)),n("button",{onClick:E[14]||(E[14]=j=>a.value=!1),class:"text-2xl text-gray-400"},"")]),n("div",fv,[g.value.length===0?(y(),b("div",pv,[...E[48]||(E[48]=[n("div",{class:"text-6xl mb-4"},"",-1),n("p",{class:"text-gray-500"},"Khng c s c no",-1)])])):(y(),b("div",hv,[(y(!0),b(de,null,me(g.value,j=>(y(),b("div",{key:j.id,class:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm"},[n("div",gv,[n("div",mv,[n("h4",yv,h(j.facility_name),1),n("p",bv,h(j.description),1)]),n("span",{class:he([L(j.status),"px-2 py-1 text-xs font-medium rounded-full whitespace-nowrap ml-2"])},h(V(j.status)),3)]),n("p",xv,"  "+h(j.reported_by)+"  "+h(_e(tr)(j.reported_at)),1)]))),128))]))])])])):W("",!0)]),_:1}),ye(mt,{name:"slide-up"},{default:De(()=>[o.value?(y(),b("div",vv,[n("div",wv,[n("div",_v,[E[49]||(E[49]=n("h3",{class:"text-lg font-bold"}," Qun l danh mc thit b",-1)),n("button",{onClick:E[15]||(E[15]=j=>o.value=!1),class:"text-2xl text-gray-400"},"")]),n("div",Cv,[n("div",Sv,[E[50]||(E[50]=n("h4",{class:"font-semibold text-gray-800 mb-3"},"Thm danh mc mi",-1)),n("div",$v,[ae(n("input",{"onUpdate:modelValue":E[16]||(E[16]=j=>d.value=j),type:"text",placeholder:"Tn danh mc...",class:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"},null,512),[[fe,d.value]]),n("button",{onClick:B,class:"bg-purple-500 text-white px-6 py-3 rounded-lg font-medium active:bg-purple-600"}," Thm ")])]),n("div",kv,[(y(!0),b(de,null,me(S.value,j=>(y(),b("div",{key:j,class:"bg-white border border-gray-200 rounded-xl p-4 flex items-center justify-between"},[n("div",Ev,[E[51]||(E[51]=n("div",{class:"w-10 h-10 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center text-xl"},"  ",-1)),n("div",null,[n("div",Tv,h(j),1),n("div",Ov,h(R(j))+" thit b",1)])]),n("button",{onClick:$=>O(j),class:"text-red-500 hover:text-red-700 p-2"},"  ",8,Rv)]))),128))])])])])):W("",!0)]),_:1})]))}},Iv=je(Av,[["__scopeId","data-v-c74bf875"]]),at={async getExpenses(e={}){const t=new URLSearchParams(e);return(await H.get(`/manager/expenses?${t}`)).data},async createExpense(e){return(await H.post("/manager/expenses",e)).data},async updateExpense(e,t){return(await H.put(`/manager/expenses/${e}`,t)).data},async deleteExpense(e){await H.delete(`/manager/expenses/${e}`)},async getCategories(){return(await H.get("/manager/expense-categories")).data},async createCategory(e){return(await H.post("/manager/expense-categories",e)).data},async deleteCategory(e){await H.delete(`/manager/expense-categories/${e}`)},async getRecurringExpenses(){return(await H.get("/manager/recurring-expenses")).data},async createRecurringExpense(e){return(await H.post("/manager/recurring-expenses",e)).data},async deleteRecurringExpense(e){await H.delete(`/manager/recurring-expenses/${e}`)},async getRecurringReminders(){return(await H.get("/manager/recurring-expenses/reminders")).data},async getPrepaidExpenses(){return(await H.get("/manager/prepaid-expenses")).data},async createPrepaidExpense(e){return(await H.post("/manager/prepaid-expenses",e)).data},async deletePrepaidExpense(e){await H.delete(`/manager/prepaid-expenses/${e}`)},async getExpenseReport(e={}){const t=new URLSearchParams(e);return(await H.get(`/manager/expenses/report?${t}`)).data}},Nv=Rt("expense",{state:()=>({expenses:[],categories:[],recurringExpenses:[],prepaidExpenses:[],loading:!1,error:null}),actions:{async fetchExpenses(e={}){var t,s;this.loading=!0,this.error=null;try{this.expenses=await at.getExpenses(e)}catch(r){this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li ti chi ph",this.expenses=[]}finally{this.loading=!1}},async createExpense(e){var t,s;this.error=null;try{const r=await at.createExpense(e);return this.expenses.push(r),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li to chi ph",!1}},async updateExpense(e,t){var s,r;this.error=null;try{const o=await at.updateExpense(e,t),i=this.expenses.findIndex(a=>a.id===e);return i!==-1&&(this.expenses[i]=o),!0}catch(o){return this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li cp nht chi ph",!1}},async deleteExpense(e){var t,s;this.error=null;try{return await at.deleteExpense(e),this.expenses=this.expenses.filter(r=>r.id!==e),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li xa chi ph",!1}},async fetchCategories(){var e,t;try{this.categories=await at.getCategories()}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti danh mc",this.categories=[]}},async createCategory(e){var t,s;this.error=null;try{const r=await at.createCategory(e);return this.categories.push(r),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li to danh mc",!1}},async deleteCategory(e){var t,s;this.error=null;try{return await at.deleteCategory(e),this.categories=this.categories.filter(r=>r.id!==e),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li xa danh mc",!1}},async fetchRecurringExpenses(){var e,t;try{this.recurringExpenses=await at.getRecurringExpenses()}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti chi ph nh k",this.recurringExpenses=[]}},async createRecurringExpense(e){var t,s;this.error=null;try{const r=await at.createRecurringExpense(e);return this.recurringExpenses.push(r),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li to chi ph nh k",!1}},async deleteRecurringExpense(e){var t,s;this.error=null;try{return await at.deleteRecurringExpense(e),this.recurringExpenses=this.recurringExpenses.filter(r=>r.id!==e),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li xa chi ph nh k",!1}},async fetchPrepaidExpenses(){var e,t;try{this.prepaidExpenses=await at.getPrepaidExpenses()}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti chi ph tr trc",this.prepaidExpenses=[]}},async createPrepaidExpense(e){var t,s;this.error=null;try{const r=await at.createPrepaidExpense(e);return this.prepaidExpenses.push(r),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li to chi ph tr trc",!1}},async deletePrepaidExpense(e){var t,s;this.error=null;try{return await at.deletePrepaidExpense(e),this.prepaidExpenses=this.prepaidExpenses.filter(r=>r.id!==e),!0}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li xa chi ph tr trc",!1}},async getExpenseReport(e={}){var t,s;try{return await at.getExpenseReport(e)}catch(r){return this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li ti bo co",null}}}}),cn={CASH:"cash",BANK:"bank",CARD:"card"},ku=[{value:cn.CASH,label:"Tin mt"},{value:cn.BANK,label:"Chuyn khon"},{value:cn.CARD,label:"Th"}],Dv=e=>{const t=ku.find(s=>s.value===e);return t?t.label:e};const Pv={class:"min-h-screen bg-gray-50"},Lv={class:"sticky top-0 z-40 bg-white shadow-sm"},Mv={class:"px-4 py-3"},Uv={class:"mt-2 flex gap-2 overflow-x-auto pb-2"},Fv={class:"px-4 py-4 pb-24"},jv={class:"bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl p-4 mb-4 text-white shadow-lg"},Vv={class:"grid grid-cols-4 gap-1.5"},Bv={class:"text-center"},Hv={class:"text-lg font-bold"},qv={class:"text-center"},Kv={class:"text-lg font-bold"},Gv={class:"text-center"},Wv={class:"text-lg font-bold"},zv={class:"text-center"},Qv={class:"text-lg font-bold"},Jv={class:"mb-4"},Xv={class:"grid grid-cols-2 gap-2"},Yv={class:"mb-4"},Zv={key:0,class:"text-center py-16"},e1={key:1,class:"space-y-3"},t1=["onClick"],s1={class:"flex justify-between items-start mb-3"},n1={class:"flex items-center gap-2 mb-1"},r1={class:"font-bold text-lg"},o1={class:"text-sm text-gray-600"},i1={class:"text-xs text-gray-400"},a1={class:"text-right"},l1={class:"text-lg font-bold text-red-600"},u1={class:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},c1={key:0,class:"mb-3 text-sm"},d1={class:"flex items-center gap-2 text-gray-600"},f1={class:"flex gap-2 pt-3 border-t"},p1=["onClick"],h1=["onClick"],g1={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},m1={class:"bg-white rounded-t-3xl w-full max-h-[85vh] overflow-y-auto"},y1={class:"sticky top-0 bg-white px-4 py-4 border-b flex justify-between items-center"},b1={class:"px-4 py-4"},x1={class:"bg-gray-50 rounded-xl p-4 mb-4"},v1={class:"flex gap-2"},w1={class:"space-y-2"},_1={class:"flex items-center gap-3"},C1={class:"font-medium text-gray-800"},S1={class:"text-xs text-gray-500"},$1=["onClick"],k1={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},E1={class:"bg-white rounded-t-3xl w-full max-h-[90vh] overflow-y-auto"},T1={class:"sticky top-0 bg-white px-4 py-4 border-b flex justify-between items-center"},O1={class:"text-lg font-bold"},R1={class:"px-4 py-4 space-y-4"},A1={class:"grid grid-cols-2 gap-3"},I1=["value"],N1={class:"grid grid-cols-2 gap-3"},D1=["value"],P1={class:"flex gap-3 pt-4"},L1={__name:"ExpenseManagementView",setup(e){const t=Nv(),s=Z(""),r=Z(""),o=Z(!1),i=Z(!1),a=Z(!1),l=Z(!1),u=Z(!1),d=Z(null),c=Z(""),f=Z({description:"",category_id:"",amount:0,date:new Date().toISOString().split("T")[0],payment_method:cn.CASH,vendor:"",notes:""}),w=J(()=>t.expenses||[]),g=J(()=>t.categories||[]),S=J(()=>{let A=w.value;if(r.value&&(A=A.filter(I=>r.value==="manual"?!I.source_type||I.source_type==="manual":I.source_type===r.value)),s.value){const I=s.value.toLowerCase();A=A.filter(P=>{var Y,E;return((Y=P.description)==null?void 0:Y.toLowerCase().includes(I))||((E=P.vendor)==null?void 0:E.toLowerCase().includes(I))})}return A}),T=J(()=>{const A=new Date,I=A.getMonth(),P=A.getFullYear();return w.value.filter(Y=>{const E=new Date(Y.date);return E.getMonth()===I&&E.getFullYear()===P}).reduce((Y,E)=>Y+E.amount,0)}),k=J(()=>{var A;return((A=t.recurringExpenses)==null?void 0:A.length)||0}),U=A=>{const I=g.value.find(P=>P.id===A);return I?I.name:"Khng xc nh"},z=A=>w.value.filter(I=>I.category_id===A).length,F=A=>({ingredient:" T ng",facility:" T ng",maintenance:" T ng",manual:" Th cng"})[A]||"",N=A=>({ingredient:"bg-green-100 text-green-700",facility:"bg-blue-100 text-blue-700",maintenance:"bg-orange-100 text-orange-700",manual:"bg-gray-100 text-gray-700"})[A]||"bg-gray-100 text-gray-700",L=()=>{u.value=!1,d.value=null,f.value={description:"",category_id:"",amount:0,date:new Date().toISOString().split("T")[0],payment_method:cn.CASH,vendor:"",notes:""},o.value=!0},V=A=>{u.value=!0,d.value=A,f.value={...A,date:new Date(A.date).toISOString().split("T")[0]},o.value=!0},R=()=>{o.value=!1,u.value=!1,d.value=null},B=async()=>{try{u.value?(await t.updateExpense(d.value.id,f.value),alert("Cp nht chi ph thnh cng")):(await t.createExpense(f.value),alert("Thm chi ph thnh cng")),R()}catch(A){console.error("Error saving expense:",A),alert("C li xy ra khi lu chi ph")}},O=async A=>{if(confirm(`Bn c chc mun xa chi ph "${A.description}"?`))try{await t.deleteExpense(A.id),alert("Xa chi ph thnh cng")}catch(I){console.error("Error deleting expense:",I),alert("C li xy ra khi xa chi ph")}},_=async()=>{if(c.value.trim())try{await t.createCategory({name:c.value.trim()}),c.value=""}catch(A){console.error("Error adding category:",A),alert("C li xy ra khi thm danh mc")}},v=async A=>{if(w.value.some(P=>P.category_id===A)){alert("Khng th xa danh mc  c chi ph!");return}if(confirm("Bn c chc mun xa danh mc ny?"))try{await t.deleteCategory(A)}catch(P){console.error("Error deleting category:",P),alert("C li xy ra khi xa danh mc")}},p=A=>{V(A)};return Ge(async()=>{await t.fetchCategories(),await t.fetchExpenses(),await t.fetchRecurringExpenses()}),(A,I)=>(y(),b("div",Pv,[n("div",Lv,[n("div",Mv,[I[18]||(I[18]=n("div",{class:"flex items-center justify-between mb-3"},[n("h1",{class:"text-xl font-bold text-gray-800"}," Chi ph")],-1)),ae(n("input",{"onUpdate:modelValue":I[0]||(I[0]=P=>s.value=P),type:"text",placeholder:"Tm kim chi ph...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[fe,s.value]]),n("div",Uv,[n("button",{onClick:I[1]||(I[1]=P=>r.value=""),class:he([r.value===""?"bg-purple-500 text-white":"bg-white text-gray-700 border border-gray-300","px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap"])}," Tt c ",2),n("button",{onClick:I[2]||(I[2]=P=>r.value="manual"),class:he([r.value==="manual"?"bg-purple-500 text-white":"bg-white text-gray-700 border border-gray-300","px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap"])},"  Th cng ",2),n("button",{onClick:I[3]||(I[3]=P=>r.value="ingredient"),class:he([r.value==="ingredient"?"bg-green-500 text-white":"bg-white text-gray-700 border border-gray-300","px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap"])},"  Nguyn liu ",2),n("button",{onClick:I[4]||(I[4]=P=>r.value="facility"),class:he([r.value==="facility"?"bg-blue-500 text-white":"bg-white text-gray-700 border border-gray-300","px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap"])},"  C s vt cht ",2),n("button",{onClick:I[5]||(I[5]=P=>r.value="maintenance"),class:he([r.value==="maintenance"?"bg-orange-500 text-white":"bg-white text-gray-700 border border-gray-300","px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap"])},"  Bo tr ",2)])])]),n("div",Fv,[n("div",jv,[I[23]||(I[23]=n("div",{class:"text-xs opacity-90 mb-2"},"Tng quan chi ph",-1)),n("div",Vv,[n("div",Bv,[n("div",Hv,h(w.value.length),1),I[19]||(I[19]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"},"Tng",-1))]),n("div",qv,[n("div",Kv,h(_e(qe)(T.value)),1),I[20]||(I[20]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"},"Thng ny",-1))]),n("div",Gv,[n("div",Wv,h(k.value),1),I[21]||(I[21]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"},"nh k",-1))]),n("div",zv,[n("div",Qv,h(g.value.length),1),I[22]||(I[22]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"},"Danh mc",-1))])])]),n("div",Jv,[I[28]||(I[28]=n("h2",{class:"text-sm font-bold text-gray-800 mb-2"}," Thao tc nhanh",-1)),n("div",Xv,[n("button",{onClick:L,class:"bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-xl p-4 shadow-md active:scale-95 transition-transform"},[...I[24]||(I[24]=[n("div",{class:"text-2xl mb-1"},"",-1),n("div",{class:"text-sm font-bold"},"To chi ph",-1)])]),n("button",{onClick:I[6]||(I[6]=P=>i.value=!0),class:"bg-gradient-to-br from-purple-500 to-pink-500 text-white rounded-xl p-4 shadow-md active:scale-95 transition-transform"},[...I[25]||(I[25]=[n("div",{class:"text-2xl mb-1"},"",-1),n("div",{class:"text-sm font-bold"},"Qun l danh mc",-1)])]),n("button",{onClick:I[7]||(I[7]=P=>a.value=!0),class:"bg-gradient-to-br from-green-500 to-emerald-500 text-white rounded-xl p-4 shadow-md active:scale-95 transition-transform"},[...I[26]||(I[26]=[n("div",{class:"text-2xl mb-1"},"",-1),n("div",{class:"text-sm font-bold"},"Chi ph nh k",-1)])]),n("button",{onClick:I[8]||(I[8]=P=>l.value=!0),class:"bg-gradient-to-br from-orange-500 to-red-500 text-white rounded-xl p-4 shadow-md active:scale-95 transition-transform"},[...I[27]||(I[27]=[n("div",{class:"text-2xl mb-1"},"",-1),n("div",{class:"text-sm font-bold"},"Bo co",-1)])])])]),n("div",Yv,[I[31]||(I[31]=n("div",{class:"flex items-center justify-between mb-3"},[n("h2",{class:"text-lg font-bold text-gray-800"}," Danh sch chi ph")],-1)),S.value.length===0?(y(),b("div",Zv,[...I[29]||(I[29]=[n("div",{class:"text-6xl mb-4"},"",-1),n("p",{class:"text-gray-500"},"Khng c chi ph no",-1)])])):(y(),b("div",e1,[(y(!0),b(de,null,me(S.value,P=>(y(),b("div",{key:P.id,onClick:Y=>p(P),class:"bg-white rounded-2xl p-4 shadow-sm active:scale-98 transition-transform"},[n("div",s1,[n("div",null,[n("div",n1,[n("h3",r1,h(P.description),1),P.source_type&&P.source_type!=="manual"?(y(),b("span",{key:0,class:he([N(P.source_type),"px-2 py-0.5 rounded text-[10px] font-medium"])},h(F(P.source_type)),3)):W("",!0)]),n("p",o1,h(U(P.category_id)),1),n("p",i1,h(_e(tr)(P.date)),1)]),n("div",a1,[n("div",l1,"-"+h(_e(qe)(P.amount)),1),n("span",u1,h(_e(Dv)(P.payment_method)),1)])]),P.vendor?(y(),b("div",c1,[n("div",d1,[I[30]||(I[30]=n("span",null,"",-1)),n("span",null,h(P.vendor),1)])])):W("",!0),n("div",f1,[n("button",{onClick:ze(Y=>V(P),["stop"]),class:"flex-1 bg-blue-500 text-white py-2 rounded-lg text-sm font-medium active:bg-blue-600"},"  Sa ",8,p1),n("button",{onClick:ze(Y=>O(P),["stop"]),class:"flex-1 bg-red-500 text-white py-2 rounded-lg text-sm font-medium active:bg-red-600"},"  Xa ",8,h1)])],8,t1))),128))]))])]),ye(It),ye(mt,{name:"slide-up"},{default:De(()=>[i.value?(y(),b("div",g1,[n("div",m1,[n("div",y1,[I[32]||(I[32]=n("h3",{class:"text-lg font-bold"}," Qun l danh mc",-1)),n("button",{onClick:I[9]||(I[9]=P=>i.value=!1),class:"text-2xl text-gray-400"},"")]),n("div",b1,[n("div",x1,[I[33]||(I[33]=n("h4",{class:"font-semibold text-gray-800 mb-3"},"Thm danh mc mi",-1)),n("div",v1,[ae(n("input",{"onUpdate:modelValue":I[10]||(I[10]=P=>c.value=P),type:"text",placeholder:"Tn danh mc...",class:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"},null,512),[[fe,c.value]]),n("button",{onClick:_,class:"bg-purple-500 text-white px-6 py-3 rounded-lg font-medium active:bg-purple-600"}," Thm ")])]),n("div",w1,[(y(!0),b(de,null,me(g.value,P=>(y(),b("div",{key:P.id,class:"bg-white border border-gray-200 rounded-xl p-4 flex items-center justify-between"},[n("div",_1,[I[34]||(I[34]=n("div",{class:"w-10 h-10 rounded-lg bg-purple-100 text-purple-600 flex items-center justify-center text-xl"},"  ",-1)),n("div",null,[n("div",C1,h(P.name),1),n("div",S1,h(z(P.id))+" chi ph",1)])]),n("button",{onClick:Y=>v(P.id),class:"text-red-500 hover:text-red-700 p-2"},"  ",8,$1)]))),128))])])])])):W("",!0)]),_:1}),ye(mt,{name:"slide-up"},{default:De(()=>[o.value?(y(),b("div",k1,[n("div",E1,[n("div",T1,[n("h3",O1,h(u.value?"Cp nht chi ph":"Thm chi ph mi"),1),n("button",{onClick:R,class:"text-2xl text-gray-400"},"")]),n("div",R1,[n("div",null,[I[35]||(I[35]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"M t *",-1)),ae(n("input",{"onUpdate:modelValue":I[11]||(I[11]=P=>f.value.description=P),type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[fe,f.value.description]])]),n("div",A1,[n("div",null,[I[37]||(I[37]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Danh mc *",-1)),ae(n("select",{"onUpdate:modelValue":I[12]||(I[12]=P=>f.value.category_id=P),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[I[36]||(I[36]=n("option",{value:""},"Chn danh mc",-1)),(y(!0),b(de,null,me(g.value,P=>(y(),b("option",{key:P.id,value:P.id},h(P.name),9,I1))),128))],512),[[lt,f.value.category_id]])]),n("div",null,[I[38]||(I[38]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"S tin *",-1)),ae(n("input",{"onUpdate:modelValue":I[13]||(I[13]=P=>f.value.amount=P),type:"number",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[fe,f.value.amount,void 0,{number:!0}]])])]),n("div",N1,[n("div",null,[I[39]||(I[39]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ngy *",-1)),ae(n("input",{"onUpdate:modelValue":I[14]||(I[14]=P=>f.value.date=P),type:"date",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[fe,f.value.date]])]),n("div",null,[I[40]||(I[40]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Thanh ton *",-1)),ae(n("select",{"onUpdate:modelValue":I[15]||(I[15]=P=>f.value.payment_method=P),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[(y(!0),b(de,null,me(_e(ku),P=>(y(),b("option",{key:P.value,value:P.value},h(P.label),9,D1))),128))],512),[[lt,f.value.payment_method]])])]),n("div",null,[I[41]||(I[41]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nh cung cp",-1)),ae(n("input",{"onUpdate:modelValue":I[16]||(I[16]=P=>f.value.vendor=P),type:"text",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[fe,f.value.vendor]])]),n("div",null,[I[42]||(I[42]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ghi ch",-1)),ae(n("textarea",{"onUpdate:modelValue":I[17]||(I[17]=P=>f.value.notes=P),rows:"3",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},null,512),[[fe,f.value.notes]])]),n("div",P1,[n("button",{onClick:R,class:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-xl font-medium active:bg-gray-300"}," Hy "),n("button",{onClick:B,class:"flex-1 bg-blue-500 text-white py-3 rounded-xl font-medium active:bg-blue-600"},h(u.value?"Cp nht":"Thm mi"),1)])])])])):W("",!0)]),_:1})]))}},M1=je(L1,[["__scopeId","data-v-77ff8b89"]]);const U1={class:"min-h-screen bg-gray-50"},F1={class:"sticky top-0 z-40 bg-white shadow-sm"},j1={class:"px-4 py-3"},V1={class:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide"},B1=["onClick"],H1={class:"ml-1 text-xs opacity-75"},q1={key:0,class:"mx-4 mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg"},K1={class:"px-4 py-4 pb-24"},G1={key:0,class:"text-center py-10"},W1={key:1,class:"text-center py-16"},z1={key:2,class:"space-y-3"},Q1=["onClick"],J1={class:"flex justify-between items-start mb-3"},X1={class:"font-bold text-lg"},Y1={class:"text-sm text-gray-600"},Z1={class:"text-xs text-gray-400"},ew={class:"mb-3 space-y-1"},tw={class:"text-gray-700"},sw={class:"text-gray-400"},nw={class:"font-medium text-gray-900"},rw={key:0,class:"text-xs text-gray-400"},ow={class:"flex justify-between items-center pt-3 border-t"},iw={class:"text-lg font-bold text-green-600"},aw={class:"mt-3 flex gap-2"},lw=["onClick"],uw=["onClick"],cw=["onClick"],dw={key:3,class:"flex-1 bg-gray-300 text-gray-600 py-2 rounded-lg text-sm font-medium cursor-not-allowed"},fw={key:0,class:"fixed inset-0 bg-white z-50 overflow-hidden flex flex-col"},pw={class:"bg-blue-500 text-white px-4 py-4 flex items-center justify-between"},hw=["disabled"],gw={class:"px-4 py-3 bg-gray-50 border-b"},mw={class:"flex gap-2 px-4 py-3 overflow-x-auto bg-white border-b scrollbar-hide"},yw=["onClick"],bw={class:"flex-1 overflow-y-auto px-4 py-4"},xw={class:"grid grid-cols-2 gap-3"},vw=["onClick"],ww={class:"font-medium text-gray-900 mb-1"},_w={class:"text-sm font-bold text-blue-600"},Cw={key:0,class:"mt-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full inline-block"},Sw={key:0,class:"bg-white border-t shadow-lg"},$w={class:"px-4 py-3"},kw={class:"max-h-32 overflow-y-auto mb-3 space-y-2"},Ew={class:"flex-1 text-sm font-medium"},Tw={class:"flex items-center gap-2"},Ow=["onClick"],Rw={class:"w-8 text-center font-bold"},Aw=["onClick"],Iw=["onClick"],Nw={class:"flex justify-between items-center"},Dw={class:"text-2xl font-bold text-green-600"},Pw={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},Lw={class:"bg-white rounded-t-3xl w-full max-h-[85vh] overflow-y-auto"},Mw={class:"sticky top-0 bg-white px-4 py-4 border-b flex justify-between items-center"},Uw={class:"px-4 py-4"},Fw={class:"mb-4"},jw={class:"text-2xl font-bold mb-1"},Vw={class:"text-gray-600"},Bw={class:"text-sm text-gray-400"},Hw={class:"mb-4"},qw={class:"space-y-2"},Kw={class:"font-medium"},Gw={class:"text-sm text-gray-500"},Ww={class:"font-bold"},zw={key:0,class:"mb-4 p-3 bg-yellow-50 rounded-lg"},Qw={class:"text-sm text-gray-700"},Jw={class:"mb-4 p-4 bg-gray-50 rounded-lg"},Xw={class:"flex justify-between text-lg font-bold"},Yw={class:"text-green-600"},Zw={key:0,class:"flex justify-between text-sm text-gray-600 mt-1"},e_={class:"space-y-2"},t_={key:4,class:"w-full bg-gray-100 text-gray-600 py-3 rounded-xl font-medium text-center"},s_={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},n_={class:"bg-white rounded-t-3xl w-full p-6"},r_={class:"mb-4 p-4 bg-gray-50 rounded-lg"},o_={class:"flex justify-between mb-2"},i_={class:"text-xl font-bold text-green-600"},a_={key:0,class:"flex justify-between text-sm text-gray-600"},l_={class:"mb-4"},u_={class:"mb-4"},c_={class:"grid grid-cols-3 gap-2"},d_=["onClick"],f_={class:"flex gap-2"},p_={__name:"OrderView",setup(e){ps();const t=vu(),s=Ks(),r=_u(),o=Z("ALL"),i=Z(!1),a=Z(null),l=Z(!1),u=Z(null),d=Z(0),c=Z("CASH"),f=Z(""),w=Z("all"),g=Z([]),S=[{value:"ALL",label:"Tt c",icon:""},{value:"CREATED",label:"Mi",icon:""},{value:"PAID",label:" thu",icon:""},{value:"QUEUED",label:"Ch pha",icon:""},{value:"IN_PROGRESS",label:"ang pha",icon:""},{value:"READY",label:"Sn sng",icon:""},{value:"SERVED",label:"Hon tt",icon:""}],T=[{id:"all",name:"Tt c",icon:""},{id:"coffee",name:"C ph",icon:""},{id:"tea",name:"Tr",icon:""},{id:"juice",name:"Nc p",icon:""},{id:"food",name:" n",icon:""}],k=[{value:"CASH",label:"Tin mt",icon:""},{value:"QR",label:"QR",icon:""},{value:"TRANSFER",label:"CK",icon:""}],U=J(()=>t.loading),z=J(()=>t.orders),F=J(()=>r.items),N=J(()=>s.hasOpenShift),L=J(()=>o.value==="ALL"?z.value:z.value.filter(K=>K.status===o.value)),V=J(()=>w.value==="all"?F.value:F.value.filter(K=>K.category===w.value)),R=J(()=>g.value.reduce((K,X)=>K+X.price*X.quantity,0)),B=async()=>{await t.fetchOrders()},O=K=>K==="ALL"?z.value.length:z.value.filter(X=>X.status===K).length,_=K=>({CREATED:"bg-gray-100 text-gray-800",PAID:"bg-green-100 text-green-800",QUEUED:"bg-yellow-100 text-yellow-800",IN_PROGRESS:"bg-blue-100 text-blue-800",READY:"bg-purple-100 text-purple-800",SERVED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800"})[K]||"bg-gray-100 text-gray-800",v=K=>({CREATED:"Mi to",PAID:" thanh ton",QUEUED:"Ch pha ch",IN_PROGRESS:"ang pha ch",READY:"Sn sng",SERVED:" phc v",CANCELLED:" hy"})[K]||K,p=K=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(K),A=K=>new Date(K).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}),I=K=>new Date(K).toLocaleString("vi-VN"),P=K=>{a.value=K},Y=()=>{g.value=[],f.value="",w.value="all",i.value=!0},E=()=>{g.value.length>0&&!confirm("Bn c chc mun hy order ny?")||(i.value=!1,g.value=[],f.value="")},j=K=>{const X=g.value.find(ne=>ne.menu_item_id===K.id);X?X.quantity++:g.value.push({menu_item_id:K.id,name:K.name,price:K.price,quantity:1})},$=K=>{const X=g.value.find(ne=>ne.menu_item_id===K);return X?X.quantity:0},m=K=>{g.value[K].quantity++},oe=K=>{g.value[K].quantity>1?g.value[K].quantity--:xe(K)},xe=K=>{g.value.splice(K,1)},Ke=async()=>{var K,X;try{const ne={customer_name:f.value||"",items:g.value,note:"",shift_id:s.currentShift.id};await t.createOrder(ne),i.value=!1,g.value=[],f.value=""}catch(ne){alert("Li: "+(((X=(K=ne.response)==null?void 0:K.data)==null?void 0:X.error)||ne.message))}},Be=K=>{u.value=K,d.value=K.amount_due||K.total,c.value="CASH",l.value=!0,a.value=null},et=K=>{u.value=K,d.value=K.amount_due||K.total,c.value="CASH",l.value=!0,a.value=null},We=async()=>{try{await t.collectPayment(u.value.id,{amount:d.value,payment_method:c.value}),l.value=!1,u.value=null}catch(K){alert("Li: "+K.message)}},q=async K=>{try{await t.sendToBar(K),a.value=null}catch(X){alert("Li: "+X.message)}},ue=async K=>{try{await t.serveOrder(K),a.value=null}catch(X){alert("Li: "+X.message)}},Q=K=>{alert("Chc nng chnh sa order ang c pht trin")};return Ge(async()=>{await Promise.all([s.fetchCurrentShift(),t.fetchOrders(),r.fetchMenuItems()])}),(K,X)=>(y(),b("div",U1,[n("div",F1,[n("div",j1,[n("div",{class:"flex items-center justify-between mb-3"},[X[9]||(X[9]=n("h1",{class:"text-xl font-bold text-gray-800"}," Orders",-1)),n("div",{class:"flex gap-2"},[n("button",{onClick:B,class:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200"},"  ")])]),n("div",V1,[(y(),b(de,null,me(S,ne=>n("button",{key:ne.value,onClick:x=>o.value=ne.value,class:he(["px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all",o.value===ne.value?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700"])},[Pe(h(ne.icon)+" "+h(ne.label)+" ",1),n("span",H1,"("+h(O(ne.value))+")",1)],10,B1)),64))])])]),N.value?W("",!0):(y(),b("div",q1,[X[10]||(X[10]=n("p",{class:"text-yellow-700 text-sm font-medium"}," Cha m ca lm vic",-1)),n("button",{onClick:X[0]||(X[0]=ne=>K.$router.push("/shifts")),class:"mt-2 bg-yellow-500 text-white px-4 py-2 rounded-lg text-sm font-medium"}," M ca ngay ")])),n("div",K1,[U.value?(y(),b("div",G1,[...X[11]||(X[11]=[n("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},null,-1)])])):L.value.length===0?(y(),b("div",W1,[...X[12]||(X[12]=[n("div",{class:"text-6xl mb-4"},"",-1),n("p",{class:"text-gray-500"},"Khng c order no",-1)])])):(y(),b("div",z1,[(y(!0),b(de,null,me(L.value,ne=>(y(),b("div",{key:ne.id,onClick:x=>P(ne),class:"bg-white rounded-2xl p-4 shadow-sm active:scale-98 transition-transform"},[n("div",J1,[n("div",null,[n("h3",X1,h(ne.order_number),1),n("p",Y1,h(ne.customer_name||"Khch l"),1),n("p",Z1,h(A(ne.created_at)),1)]),n("span",{class:he([_(ne.status),"px-3 py-1 rounded-full text-xs font-medium"])},h(v(ne.status)),3)]),n("div",ew,[(y(!0),b(de,null,me(ne.items.slice(0,2),(x,C)=>(y(),b("div",{key:C,class:"flex justify-between text-sm"},[n("span",tw,[Pe(h(x.name)+" ",1),n("span",sw,"x"+h(x.quantity),1)]),n("span",nw,h(p(x.subtotal)),1)]))),128)),ne.items.length>2?(y(),b("p",rw," +"+h(ne.items.length-2)+" mn khc... ",1)):W("",!0)]),n("div",ow,[X[13]||(X[13]=n("span",{class:"text-sm font-medium text-gray-600"},"Tng cng",-1)),n("span",iw,h(p(ne.total)),1)]),n("div",aw,[ne.status==="CREATED"?(y(),b("button",{key:0,onClick:ze(x=>Be(ne),["stop"]),class:"flex-1 bg-green-500 text-white py-2 rounded-lg text-sm font-medium active:bg-green-600"},"  Thu tin ",8,lw)):W("",!0),ne.status==="PAID"&&ne.amount_due<=0?(y(),b("button",{key:1,onClick:ze(x=>q(ne.id),["stop"]),class:"flex-1 bg-blue-500 text-white py-2 rounded-lg text-sm font-medium active:bg-blue-600"},"  Gi bar ",8,uw)):W("",!0),ne.status==="READY"?(y(),b("button",{key:2,onClick:ze(x=>ue(ne.id),["stop"]),class:"flex-1 bg-purple-500 text-white py-2 rounded-lg text-sm font-medium active:bg-purple-600"},"  Giao khch ",8,cw)):W("",!0),ne.status==="QUEUED"||ne.status==="IN_PROGRESS"?(y(),b("button",dw,"  ang pha... ")):W("",!0)])],8,Q1))),128))]))]),N.value?(y(),b("button",{key:1,onClick:Y,class:"fixed bottom-20 right-4 w-16 h-16 bg-blue-500 text-white rounded-full shadow-lg flex items-center justify-center text-2xl active:scale-95 transition-transform z-30"},"  ")):W("",!0),ye(It),ye(mt,{name:"slide-up"},{default:De(()=>[i.value?(y(),b("div",fw,[n("div",pw,[n("button",{onClick:E,class:"text-2xl"},""),X[14]||(X[14]=n("h2",{class:"text-lg font-bold"},"To Order Mi",-1)),n("button",{onClick:Ke,disabled:g.value.length===0,class:"text-sm font-medium px-4 py-2 bg-white text-blue-500 rounded-lg disabled:opacity-50"}," Xc nhn ",8,hw)]),n("div",gw,[ae(n("input",{"onUpdate:modelValue":X[1]||(X[1]=ne=>f.value=ne),type:"text",placeholder:"Tn khch hng (ty chn)",class:"w-full px-4 py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[fe,f.value]])]),n("div",mw,[(y(),b(de,null,me(T,ne=>n("button",{key:ne.id,onClick:x=>w.value=ne.id,class:he(["px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap",w.value===ne.id?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"])},h(ne.icon)+" "+h(ne.name),11,yw)),64))]),n("div",bw,[n("div",xw,[(y(!0),b(de,null,me(V.value,ne=>(y(),b("button",{key:ne.id,onClick:x=>j(ne),class:"bg-white rounded-xl p-4 shadow-sm active:scale-95 transition-transform text-left"},[n("div",ww,h(ne.name),1),n("div",_w,h(p(ne.price)),1),$(ne.id)>0?(y(),b("div",Cw,h($(ne.id))+" mn ",1)):W("",!0)],8,vw))),128))])]),g.value.length>0?(y(),b("div",Sw,[n("div",$w,[n("div",kw,[(y(!0),b(de,null,me(g.value,(ne,x)=>(y(),b("div",{key:x,class:"flex items-center gap-3 bg-gray-50 rounded-lg p-2"},[n("span",Ew,h(ne.name),1),n("div",Tw,[n("button",{onClick:C=>oe(x),class:"w-8 h-8 bg-gray-200 rounded-full text-lg font-bold active:bg-gray-300"},"  ",8,Ow),n("span",Rw,h(ne.quantity),1),n("button",{onClick:C=>m(x),class:"w-8 h-8 bg-blue-500 text-white rounded-full text-lg font-bold active:bg-blue-600"}," + ",8,Aw)]),n("button",{onClick:C=>xe(x),class:"text-red-500 text-xl"},"",8,Iw)]))),128))]),n("div",Nw,[X[15]||(X[15]=n("span",{class:"text-gray-600"},"Tng cng",-1)),n("span",Dw,h(p(R.value)),1)])])])):W("",!0)])):W("",!0)]),_:1}),ye(mt,{name:"slide-up"},{default:De(()=>[a.value?(y(),b("div",Pw,[n("div",Lw,[n("div",Mw,[X[16]||(X[16]=n("h3",{class:"text-lg font-bold"},"Chi tit Order",-1)),n("button",{onClick:X[2]||(X[2]=ne=>a.value=null),class:"text-2xl text-gray-400"},"")]),n("div",Uw,[n("div",Fw,[n("h4",jw,h(a.value.order_number),1),n("p",Vw,h(a.value.customer_name||"Khch l"),1),n("p",Bw,h(I(a.value.created_at)),1),n("span",{class:he([_(a.value.status),"inline-block mt-2 px-3 py-1 rounded-full text-xs font-medium"])},h(v(a.value.status)),3)]),n("div",Hw,[X[17]||(X[17]=n("h5",{class:"font-bold mb-2"},"Mn  order",-1)),n("div",qw,[(y(!0),b(de,null,me(a.value.items,ne=>(y(),b("div",{key:ne.menu_item_id,class:"flex justify-between bg-gray-50 p-3 rounded-lg"},[n("div",null,[n("div",Kw,h(ne.name),1),n("div",Gw,h(p(ne.price))+" x "+h(ne.quantity),1)]),n("div",Ww,h(p(ne.subtotal)),1)]))),128))])]),a.value.note?(y(),b("div",zw,[n("p",Qw," "+h(a.value.note),1)])):W("",!0),n("div",Jw,[n("div",Xw,[X[18]||(X[18]=n("span",null,"Tng cng",-1)),n("span",Yw,h(p(a.value.total)),1)]),a.value.amount_paid>0?(y(),b("div",Zw,[X[19]||(X[19]=n("span",null," thu",-1)),n("span",null,h(p(a.value.amount_paid)),1)])):W("",!0)]),n("div",e_,[a.value.status==="CREATED"?(y(),b("button",{key:0,onClick:X[3]||(X[3]=ne=>et(a.value)),class:"w-full bg-green-500 text-white py-3 rounded-xl font-medium active:bg-green-600"},"  Thu tin ")):W("",!0),a.value.status==="CREATED"?(y(),b("button",{key:1,onClick:X[4]||(X[4]=ne=>Q(a.value)),class:"w-full bg-blue-500 text-white py-3 rounded-xl font-medium active:bg-blue-600"},"  Chnh sa ")):W("",!0),a.value.status==="PAID"&&a.value.amount_due<=0?(y(),b("button",{key:2,onClick:X[5]||(X[5]=ne=>q(a.value.id)),class:"w-full bg-blue-500 text-white py-3 rounded-xl font-medium active:bg-blue-600"},"  Gi quy bar ")):W("",!0),a.value.status==="READY"?(y(),b("button",{key:3,onClick:X[6]||(X[6]=ne=>ue(a.value.id)),class:"w-full bg-purple-500 text-white py-3 rounded-xl font-medium active:bg-purple-600"},"  Giao cho khch ")):W("",!0),a.value.status==="QUEUED"||a.value.status==="IN_PROGRESS"?(y(),b("div",t_,"  Barista ang pha ch... ")):W("",!0)])])])])):W("",!0)]),_:1}),ye(mt,{name:"slide-up"},{default:De(()=>{var ne,x,C;return[l.value?(y(),b("div",s_,[n("div",n_,[X[24]||(X[24]=n("h3",{class:"text-xl font-bold mb-4"}," Thu tin",-1)),n("div",r_,[n("div",o_,[X[20]||(X[20]=n("span",{class:"text-gray-600"},"Tng tin",-1)),n("span",i_,h(p((ne=u.value)==null?void 0:ne.total)),1)]),((x=u.value)==null?void 0:x.amount_paid)>0?(y(),b("div",a_,[X[21]||(X[21]=n("span",null," thu",-1)),n("span",null,h(p((C=u.value)==null?void 0:C.amount_paid)),1)])):W("",!0)]),n("div",l_,[X[22]||(X[22]=n("label",{class:"block text-sm font-medium mb-2"},"S tin thu",-1)),ae(n("input",{"onUpdate:modelValue":X[7]||(X[7]=D=>d.value=D),type:"number",step:"1000",class:"w-full px-4 py-3 text-lg font-bold border rounded-lg focus:ring-2 focus:ring-green-500"},null,512),[[fe,d.value,void 0,{number:!0}]])]),n("div",u_,[X[23]||(X[23]=n("label",{class:"block text-sm font-medium mb-2"},"Phng thc",-1)),n("div",c_,[(y(),b(de,null,me(k,D=>n("button",{key:D.value,onClick:ee=>c.value=D.value,class:he(["py-3 rounded-lg font-medium",c.value===D.value?"bg-green-500 text-white":"bg-gray-100 text-gray-700"])},h(D.icon)+" "+h(D.label),11,d_)),64))])]),n("div",f_,[n("button",{onClick:X[8]||(X[8]=D=>l.value=!1),class:"flex-1 bg-gray-200 text-gray-700 py-3 rounded-xl font-medium"}," Hy "),n("button",{onClick:We,class:"flex-1 bg-green-500 text-white py-3 rounded-xl font-medium"}," Xc nhn ")])])])):W("",!0)]}),_:1})]))}},h_=je(p_,[["__scopeId","data-v-c65ec363"]]);const g_={class:"min-h-screen bg-gray-50"},m_={class:"sticky top-0 z-40 bg-white shadow-sm"},y_={class:"px-4 py-3"},b_={class:"flex gap-2"},x_={class:"ml-1"},v_={class:"ml-1"},w_={class:"ml-1"},__={class:"px-4 py-4 pb-24"},C_={key:0,class:"mb-4 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-2xl p-4 shadow-lg"},S_={class:"flex items-start gap-3"},$_={class:"flex-1"},k_={key:1},E_={key:0,class:"text-center py-10"},T_={key:1,class:"text-center py-16"},O_={key:2,class:"space-y-3"},R_={class:"flex justify-between items-start mb-3"},A_={class:"font-bold text-lg"},I_={class:"text-sm text-gray-600"},N_={class:"text-xs text-gray-400"},D_={class:"mb-3 space-y-2"},P_={class:"font-medium"},L_={class:"text-sm text-gray-500"},M_={key:0,class:"mb-3 p-3 bg-yellow-50 rounded-lg"},U_={class:"text-sm text-gray-700"},F_=["onClick","disabled"],j_={key:2},V_={key:0,class:"text-center py-10"},B_={key:1,class:"text-center py-16"},H_={key:2,class:"space-y-3"},q_={class:"flex justify-between items-start mb-3"},K_={class:"font-bold text-lg"},G_={class:"text-sm text-gray-600"},W_={class:"text-xs text-gray-400"},z_={class:"text-xs text-blue-600 font-medium"},Q_={class:"mb-3 space-y-2"},J_={class:"font-medium"},X_={class:"text-sm text-gray-500"},Y_={key:0,class:"mb-3 p-3 bg-yellow-50 rounded-lg"},Z_={class:"text-sm text-gray-700"},e2=["onClick"],t2={key:3},s2={key:0,class:"text-center py-10"},n2={key:1,class:"text-center py-16"},r2={key:2,class:"space-y-3"},o2={class:"flex justify-between items-start mb-3"},i2={class:"font-bold text-lg"},a2={class:"text-sm text-gray-600"},l2={class:"text-xs text-gray-400"},u2={class:"text-xs text-green-600 font-medium"},c2={class:"mb-3 space-y-2"},d2={class:"font-medium"},f2={class:"text-sm text-gray-500"},p2={key:0,class:"mb-3 p-3 bg-yellow-50 rounded-lg"},h2={class:"text-sm text-gray-700"},g2={__name:"BaristaView",setup(e){const t=ps(),s=wu(),r=Ks(),o=Z("queue");let i=null;const a=J(()=>s.loading),l=J(()=>s.queuedOrders),u=J(()=>s.inProgressOrders),d=J(()=>s.readyOrders),c=J(()=>s.queueCount),f=J(()=>s.inProgressCount),w=J(()=>s.readyCount),g=J(()=>r.hasOpenShift),S=async()=>{await Promise.all([s.fetchQueuedOrders(),s.fetchMyOrders(),r.fetchCurrentShift()])},T=async N=>{var L,V;if(!g.value){confirm("Bn cha m ca lm vic. Bn c mun m ca ngay khng?")&&t.push("/shifts");return}try{await s.acceptOrder(N),o.value="working"}catch(R){const B=((V=(L=R.response)==null?void 0:L.data)==null?void 0:V.error)||R.message;B.includes("shift")?(alert(` Bn phi m ca trc khi nhn order.

Vui lng vo "Ca lm vic"  m ca.`),confirm("Chuyn n trang Ca lm vic?")&&t.push("/shifts")):alert("Li: "+B)}},k=async N=>{try{await s.markReady(N),o.value="ready"}catch(L){alert("Li: "+L.message)}},U=N=>N?new Date(N).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}):"",z=N=>{if(!N)return"";const L=new Date(N),R=new Date-L,B=Math.floor(R/6e4),O=Math.floor(R%6e4/1e3);return`${B}m ${O}s`},F=N=>{if(!N)return"";const L=new Date(N),R=new Date-L;return`${Math.floor(R/6e4)} pht`};return Ge(async()=>{await S(),i=setInterval(S,1e4)}),hr(()=>{i&&clearInterval(i)}),(N,L)=>(y(),b("div",g_,[n("div",m_,[n("div",y_,[n("div",{class:"flex items-center justify-between mb-3"},[L[4]||(L[4]=n("h1",{class:"text-xl font-bold text-gray-800"}," Barista",-1)),n("button",{onClick:S,class:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200"},"  ")]),n("div",b_,[n("button",{onClick:L[0]||(L[0]=V=>o.value="queue"),class:he(["flex-1 px-4 py-2 rounded-xl text-sm font-medium transition-all",o.value==="queue"?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700"])},[L[5]||(L[5]=Pe("  Queue ",-1)),n("span",x_,"("+h(c.value)+")",1)],2),n("button",{onClick:L[1]||(L[1]=V=>o.value="working"),class:he(["flex-1 px-4 py-2 rounded-xl text-sm font-medium transition-all",o.value==="working"?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700"])},[L[6]||(L[6]=Pe("  ang pha ",-1)),n("span",v_,"("+h(f.value)+")",1)],2),n("button",{onClick:L[2]||(L[2]=V=>o.value="ready"),class:he(["flex-1 px-4 py-2 rounded-xl text-sm font-medium transition-all",o.value==="ready"?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700"])},[L[7]||(L[7]=Pe("  Sn sng ",-1)),n("span",w_,"("+h(w.value)+")",1)],2)])])]),n("div",__,[g.value?W("",!0):(y(),b("div",C_,[n("div",S_,[L[10]||(L[10]=n("div",{class:"text-3xl"},"",-1)),n("div",$_,[L[8]||(L[8]=n("h3",{class:"font-bold text-lg mb-1"},"Cha m ca lm vic",-1)),L[9]||(L[9]=n("p",{class:"text-sm opacity-90 mb-3"},"Bn cn m ca trc khi nhn order t queue",-1)),n("button",{onClick:L[3]||(L[3]=V=>N.$router.push("/shifts")),class:"bg-white text-orange-600 px-4 py-2 rounded-lg font-medium text-sm active:scale-95 transition-transform"}," M ca ngay  ")])])])),o.value==="queue"?(y(),b("div",k_,[a.value?(y(),b("div",E_,[...L[11]||(L[11]=[n("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},null,-1)])])):l.value.length===0?(y(),b("div",T_,[...L[12]||(L[12]=[n("div",{class:"text-6xl mb-4"},"",-1),n("p",{class:"text-gray-500"},"Khng c order no trong queue",-1)])])):(y(),b("div",O_,[(y(!0),b(de,null,me(l.value,V=>(y(),b("div",{key:V.id,class:"bg-white rounded-2xl p-4 shadow-sm"},[n("div",R_,[n("div",null,[n("h3",A_,h(V.order_number),1),n("p",I_,h(V.customer_name||"Khch l"),1),n("p",N_,h(U(V.queued_at)),1)]),L[13]||(L[13]=n("span",{class:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-xs font-medium"},"  Ch pha ",-1))]),n("div",D_,[(y(!0),b(de,null,me(V.items,(R,B)=>(y(),b("div",{key:B,class:"flex justify-between bg-gray-50 p-3 rounded-lg"},[n("div",null,[n("div",P_,h(R.name),1),n("div",L_,"x"+h(R.quantity),1)])]))),128))]),V.note?(y(),b("div",M_,[n("p",U_," "+h(V.note),1)])):W("",!0),n("button",{onClick:R=>T(V.id),disabled:!g.value,class:he(["w-full py-3 rounded-xl font-bold transition-all",g.value?"bg-blue-500 text-white active:scale-95":"bg-gray-300 text-gray-500 cursor-not-allowed"])},h(g.value?" Nhn order":" Cn m ca"),11,F_)]))),128))]))])):W("",!0),o.value==="working"?(y(),b("div",j_,[a.value?(y(),b("div",V_,[...L[14]||(L[14]=[n("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},null,-1)])])):u.value.length===0?(y(),b("div",B_,[...L[15]||(L[15]=[n("div",{class:"text-6xl mb-4"},"",-1),n("p",{class:"text-gray-500"},"Cha c order no ang pha",-1)])])):(y(),b("div",H_,[(y(!0),b(de,null,me(u.value,V=>(y(),b("div",{key:V.id,class:"bg-white rounded-2xl p-4 shadow-sm border-2 border-blue-200"},[n("div",q_,[n("div",null,[n("h3",K_,h(V.order_number),1),n("p",G_,h(V.customer_name||"Khch l"),1),n("p",W_,"Bt u: "+h(U(V.accepted_at)),1),n("p",z_," "+h(z(V.accepted_at)),1)]),L[16]||(L[16]=n("span",{class:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium"},"  ang pha ",-1))]),n("div",Q_,[(y(!0),b(de,null,me(V.items,(R,B)=>(y(),b("div",{key:B,class:"flex justify-between bg-blue-50 p-3 rounded-lg"},[n("div",null,[n("div",J_,h(R.name),1),n("div",X_,"x"+h(R.quantity),1)])]))),128))]),V.note?(y(),b("div",Y_,[n("p",Z_," "+h(V.note),1)])):W("",!0),n("button",{onClick:R=>k(V.id),class:"w-full bg-green-500 text-white py-3 rounded-xl font-bold active:scale-95 transition-transform"},"  Hon tt ",8,e2)]))),128))]))])):W("",!0),o.value==="ready"?(y(),b("div",t2,[a.value?(y(),b("div",s2,[...L[17]||(L[17]=[n("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},null,-1)])])):d.value.length===0?(y(),b("div",n2,[...L[18]||(L[18]=[n("div",{class:"text-6xl mb-4"},"",-1),n("p",{class:"text-gray-500"},"Cha c order no sn sng",-1)])])):(y(),b("div",r2,[(y(!0),b(de,null,me(d.value,V=>(y(),b("div",{key:V.id,class:"bg-white rounded-2xl p-4 shadow-sm border-2 border-green-200"},[n("div",o2,[n("div",null,[n("h3",i2,h(V.order_number),1),n("p",a2,h(V.customer_name||"Khch l"),1),n("p",l2,"Hon tt: "+h(U(V.ready_at)),1),n("p",u2," Ch giao: "+h(F(V.ready_at)),1)]),L[19]||(L[19]=n("span",{class:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium"},"  Sn sng ",-1))]),n("div",c2,[(y(!0),b(de,null,me(V.items,(R,B)=>(y(),b("div",{key:B,class:"flex justify-between bg-green-50 p-3 rounded-lg"},[n("div",null,[n("div",d2,h(R.name),1),n("div",f2,"x"+h(R.quantity),1)])]))),128))]),V.note?(y(),b("div",p2,[n("p",h2," "+h(V.note),1)])):W("",!0),L[20]||(L[20]=n("div",{class:"p-3 bg-green-50 rounded-lg text-center"},[n("p",{class:"text-sm text-green-700 font-medium"},"  Ch waiter giao cho khch ")],-1))]))),128))]))])):W("",!0)]),ye(It)]))}},m2=je(g2,[["__scopeId","data-v-485839b5"]]);const y2={class:"min-h-screen bg-gray-50"},b2={class:"px-4 py-4 pb-24"},x2={key:0,class:"bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-2xl p-6 mb-4 shadow-lg"},v2={class:"flex justify-between items-start mb-4"},w2={class:"text-blue-100"},_2={key:0,class:"text-sm text-blue-100 mt-1"},C2={class:"grid grid-cols-2 gap-3 mb-4"},S2={class:"bg-white bg-opacity-20 rounded-xl p-3"},$2={class:"font-bold"},k2={class:"bg-white bg-opacity-20 rounded-xl p-3"},E2={class:"font-bold"},T2={key:1,class:"bg-white rounded-2xl p-6 mb-4 shadow-sm"},O2={class:"bg-white rounded-2xl p-6 shadow-sm"},R2={key:0,class:"text-center py-10"},A2={key:1,class:"text-center py-10"},I2={key:2,class:"space-y-3"},N2={class:"flex justify-between items-start mb-3"},D2={class:"font-bold text-lg"},P2={class:"text-sm text-gray-500"},L2={key:0,class:"text-xs text-blue-600 font-medium mt-1"},M2={class:"grid grid-cols-2 gap-3 text-sm"},U2={class:"bg-gray-50 rounded-lg p-3"},F2={class:"font-bold"},j2={key:0,class:"bg-gray-50 rounded-lg p-3"},V2={class:"font-bold"},B2={key:1,class:"bg-green-50 rounded-lg p-3"},H2={class:"font-bold text-green-600"},q2={key:2,class:"bg-blue-50 rounded-lg p-3"},K2={class:"font-bold text-blue-600"},G2=["onClick"],W2={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},z2={class:"bg-white rounded-t-3xl w-full p-6"},Q2={class:"bg-blue-50 p-4 rounded-xl"},J2={class:"font-bold text-2xl text-blue-600"},X2={class:"flex gap-2"},Y2={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},Z2={class:"bg-white rounded-t-3xl w-full p-6"},e3={class:"flex gap-2"},t3={__name:"ShiftView",setup(e){const t=Ks(),s=Es(),r=Z(!1),o=Z(!1),i=Z(null),a=Z({type:"",start_cash:0}),l=Z({end_cash:0}),u=Z({end_cash:0}),d=J(()=>t.loading),c=J(()=>t.currentShift),f=J(()=>t.shifts),w=J(()=>{var V,R;return((V=s.user)==null?void 0:V.role)==="cashier"||((R=s.user)==null?void 0:R.role)==="manager"});Ge(async()=>{await t.fetchCurrentShift(),w.value?await t.fetchAllShifts():await t.fetchMyShifts()});const g=async()=>{var V,R;try{await t.startShift(a.value),a.value={type:"",start_cash:0}}catch(B){alert("Li: "+(((R=(V=B.response)==null?void 0:V.data)==null?void 0:R.error)||B.message))}},S=async()=>{var V,R;try{await t.endShift(c.value.id,l.value.end_cash),r.value=!1,l.value={end_cash:0},await t.fetchMyShifts()}catch(B){alert("Li: "+(((R=(V=B.response)==null?void 0:V.data)==null?void 0:R.error)||B.message))}},T=V=>{i.value=V,o.value=!0},k=async()=>{var V,R;try{await t.closeShift(i.value.id,u.value.end_cash),o.value=!1,i.value=null,u.value={end_cash:0},await t.fetchAllShifts()}catch(B){alert("Li: "+(((R=(V=B.response)==null?void 0:V.data)==null?void 0:R.error)||B.message))}},U=V=>({MORNING:" Ca sng",AFTERNOON:" Ca chiu",EVENING:" Ca ti"})[V]||V,z=V=>({waiter:" Phc v",barista:" Pha ch",cashier:" Thu ngn"})[V]||V,F=V=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(V),N=V=>new Date(V).toLocaleString("vi-VN"),L=V=>new Date(V).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"});return(V,R)=>(y(),b("div",y2,[R[31]||(R[31]=n("div",{class:"sticky top-0 z-40 bg-white shadow-sm"},[n("div",{class:"px-4 py-3"},[n("h1",{class:"text-xl font-bold text-gray-800"}," Ca lm vic")])],-1)),n("div",b2,[c.value?(y(),b("div",x2,[n("div",v2,[n("div",null,[R[7]||(R[7]=n("h3",{class:"text-2xl font-bold"},"Ca ang m",-1)),n("p",w2,h(U(c.value.type)),1),c.value.role_type?(y(),b("p",_2,h(z(c.value.role_type)),1)):W("",!0)]),R[8]||(R[8]=n("span",{class:"bg-white text-blue-600 px-4 py-2 rounded-full font-bold text-sm"},"ANG M",-1))]),n("div",C2,[n("div",S2,[R[9]||(R[9]=n("p",{class:"text-sm text-blue-100"},"Bt u",-1)),n("p",$2,h(L(c.value.started_at)),1)]),n("div",k2,[R[10]||(R[10]=n("p",{class:"text-sm text-blue-100"},"Tin u ca",-1)),n("p",E2,h(F(c.value.start_cash)),1)])]),n("button",{onClick:R[0]||(R[0]=B=>r.value=!0),class:"w-full bg-white text-blue-600 hover:bg-blue-50 px-4 py-3 rounded-xl font-bold active:scale-95 transition-transform"}," Kt thc ca ")])):(y(),b("div",T2,[R[15]||(R[15]=n("h3",{class:"text-xl font-bold mb-4"},"M ca lm vic",-1)),n("form",{onSubmit:ze(g,["prevent"]),class:"space-y-4"},[n("div",null,[R[12]||(R[12]=n("label",{class:"block text-sm font-medium mb-2"},"Chn ca *",-1)),ae(n("select",{"onUpdate:modelValue":R[1]||(R[1]=B=>a.value.type=B),required:"",class:"w-full p-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...R[11]||(R[11]=[n("option",{value:""},"-- Chn ca --",-1),n("option",{value:"MORNING"}," Ca sng (7:00 - 12:00)",-1),n("option",{value:"AFTERNOON"}," Ca chiu (12:00 - 18:00)",-1),n("option",{value:"EVENING"}," Ca ti (18:00 - 22:00)",-1)])],512),[[lt,a.value.type]])]),n("div",null,[R[13]||(R[13]=n("label",{class:"block text-sm font-medium mb-2"},"Tin u ca (VN) *",-1)),ae(n("input",{"onUpdate:modelValue":R[2]||(R[2]=B=>a.value.start_cash=B),type:"number",min:"0",step:"1000",required:"",class:"w-full p-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[fe,a.value.start_cash,void 0,{number:!0}]])]),R[14]||(R[14]=n("button",{type:"submit",class:"w-full bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-xl font-bold active:scale-95 transition-transform"}," M ca ",-1))],32)])),n("div",O2,[R[22]||(R[22]=n("h3",{class:"text-xl font-bold mb-4"},"Lch s ca lm vic",-1)),d.value?(y(),b("div",R2,[...R[16]||(R[16]=[n("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},null,-1)])])):f.value.length===0?(y(),b("div",A2,[...R[17]||(R[17]=[n("div",{class:"text-4xl mb-2"},"",-1),n("p",{class:"text-gray-500"},"Cha c ca lm vic no",-1)])])):(y(),b("div",I2,[(y(!0),b(de,null,me(f.value,B=>{var O;return y(),b("div",{key:B.id,class:"border rounded-xl p-4 active:scale-98 transition-transform"},[n("div",N2,[n("div",null,[n("h4",D2,h(U(B.type)),1),n("p",P2,h(N(B.started_at)),1),B.role_type?(y(),b("p",L2,h(z(B.role_type)),1)):W("",!0)]),n("span",{class:he([B.status==="OPEN"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","px-3 py-1 rounded-full text-xs font-medium"])},h(B.status==="OPEN"?"ang m":" ng"),3)]),n("div",M2,[n("div",U2,[R[18]||(R[18]=n("p",{class:"text-gray-500 text-xs"},"Tin u ca",-1)),n("p",F2,h(F(B.start_cash)),1)]),B.status==="CLOSED"?(y(),b("div",j2,[R[19]||(R[19]=n("p",{class:"text-gray-500 text-xs"},"Tin cui ca",-1)),n("p",V2,h(F(B.end_cash)),1)])):W("",!0),B.status==="CLOSED"?(y(),b("div",B2,[R[20]||(R[20]=n("p",{class:"text-gray-500 text-xs"},"Doanh thu",-1)),n("p",H2,h(F(B.total_revenue)),1)])):W("",!0),B.status==="CLOSED"?(y(),b("div",q2,[R[21]||(R[21]=n("p",{class:"text-gray-500 text-xs"},"S order",-1)),n("p",K2,h(B.total_orders),1)])):W("",!0)]),w.value&&B.status==="OPEN"&&B.id!==((O=c.value)==null?void 0:O.id)?(y(),b("button",{key:0,onClick:_=>T(B),class:"mt-3 w-full bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-xl text-sm font-medium active:scale-95 transition-transform"}," Cht ca ",8,G2)):W("",!0)])}),128))]))])]),ye(It),ye(mt,{name:"slide-up"},{default:De(()=>{var B;return[r.value?(y(),b("div",W2,[n("div",z2,[R[26]||(R[26]=n("h3",{class:"text-xl font-bold mb-4"},"Kt thc ca",-1)),n("form",{onSubmit:ze(S,["prevent"]),class:"space-y-4"},[n("div",null,[R[23]||(R[23]=n("label",{class:"block text-sm font-medium mb-2"},"Tin cui ca (VN) *",-1)),ae(n("input",{"onUpdate:modelValue":R[3]||(R[3]=O=>l.value.end_cash=O),type:"number",min:"0",step:"1000",required:"",class:"w-full p-3 border rounded-xl text-lg font-bold focus:ring-2 focus:ring-blue-500"},null,512),[[fe,l.value.end_cash,void 0,{number:!0}]])]),n("div",Q2,[R[24]||(R[24]=n("p",{class:"text-sm text-gray-600"},"Tin u ca",-1)),n("p",J2,h(F((B=c.value)==null?void 0:B.start_cash)),1)]),n("div",X2,[n("button",{type:"button",onClick:R[4]||(R[4]=O=>r.value=!1),class:"flex-1 bg-gray-200 text-gray-700 px-4 py-3 rounded-xl font-medium"}," Hy "),R[25]||(R[25]=n("button",{type:"submit",class:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-xl font-medium"}," Kt thc ",-1))])],32)])])):W("",!0)]}),_:1}),ye(mt,{name:"slide-up"},{default:De(()=>[o.value?(y(),b("div",Y2,[n("div",Z2,[R[29]||(R[29]=n("h3",{class:"text-xl font-bold mb-4"},"Cht ca",-1)),R[30]||(R[30]=n("p",{class:"text-sm text-gray-600 mb-4"},"Cht ca s kha tt c orders trong ca ny",-1)),n("form",{onSubmit:ze(k,["prevent"]),class:"space-y-4"},[n("div",null,[R[27]||(R[27]=n("label",{class:"block text-sm font-medium mb-2"},"Tin cui ca (VN) *",-1)),ae(n("input",{"onUpdate:modelValue":R[5]||(R[5]=B=>u.value.end_cash=B),type:"number",min:"0",step:"1000",required:"",class:"w-full p-3 border rounded-xl text-lg font-bold focus:ring-2 focus:ring-red-500"},null,512),[[fe,u.value.end_cash,void 0,{number:!0}]])]),n("div",e3,[n("button",{type:"button",onClick:R[6]||(R[6]=B=>o.value=!1),class:"flex-1 bg-gray-200 text-gray-700 px-4 py-3 rounded-xl font-medium"}," Hy "),R[28]||(R[28]=n("button",{type:"submit",class:"flex-1 bg-red-500 hover:bg-red-600 text-white px-4 py-3 rounded-xl font-medium"}," Cht ca ",-1))])],32)])])):W("",!0)]),_:1})]))}},s3=je(t3,[["__scopeId","data-v-1030a55b"]]),pt={async startCashierShift(e){return(await H.post("/cashier-shifts",{starting_float:e})).data},async getCurrentCashierShift(){var e;try{return(await H.get("/cashier-shifts/current")).data}catch(t){if(((e=t.response)==null?void 0:e.status)===404)return null;throw t}},async getAllCashierShifts(){return(await H.get("/cashier-shifts")).data},async getMyCashierShifts(){return(await H.get("/cashier-shifts/my-shifts")).data},async getCashierShift(e){return(await H.get(`/cashier-shifts/${e}`)).data},async initiateClosure(e){return(await H.post(`/cashier-shifts/${e}/initiate-closure`,{})).data},async recordActualCash(e,t){return(await H.post(`/cashier-shifts/${e}/record-actual-cash`,{actual_cash:t})).data},async documentVariance(e,t){return(await H.post(`/cashier-shifts/${e}/document-variance`,t)).data},async confirmResponsibility(e){return(await H.post(`/cashier-shifts/${e}/confirm-responsibility`,{})).data},async closeShift(e){return(await H.post(`/cashier-shifts/${e}/close`,{})).data},async checkWaiterShifts(){return(await H.get("/cashier-shifts/check-waiter-shifts")).data}},Go=Rt("cashierShift",{state:()=>({currentCashierShift:null,cashierShifts:[],shifts:[],loading:!1,error:null}),getters:{hasOpenCashierShift:e=>e.currentCashierShift&&e.currentCashierShift.status==="OPEN",canStartCashierShift:e=>!e.currentCashierShift||e.currentCashierShift.status==="CLOSED",isClosureInitiated:e=>e.currentCashierShift&&e.currentCashierShift.status==="CLOSURE_INITIATED",isClosed:e=>e.currentCashierShift&&e.currentCashierShift.status==="CLOSED",currentShiftId:e=>{var t;return((t=e.currentCashierShift)==null?void 0:t.id)||null}},actions:{async startCashierShift(e){var t,s;this.loading=!0,this.error=null;try{const r=await pt.startCashierShift(e);return this.currentCashierShift=r,r}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to start cashier shift",r}finally{this.loading=!1}},async fetchCurrentCashierShift(){var e,t,s,r;this.loading=!0,this.error=null;try{const o=await pt.getCurrentCashierShift();return this.currentCashierShift=o,o}catch(o){if(this.currentCashierShift=null,((e=o.response)==null?void 0:e.status)!==404&&(this.error=((s=(t=o.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to fetch current cashier shift",console.error("Error fetching current cashier shift:",o)),((r=o.response)==null?void 0:r.status)===404)return null;throw o}finally{this.loading=!1}},async fetchAllCashierShifts(){var e,t;this.loading=!0,this.error=null;try{const s=await pt.getAllCashierShifts();return this.cashierShifts=s,this.shifts=s,s}catch(s){throw this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to fetch cashier shifts",s}finally{this.loading=!1}},async fetchAllShifts(){return this.fetchAllCashierShifts()},async fetchMyCashierShifts(){var e,t;this.loading=!0,this.error=null;try{const s=await pt.getMyCashierShifts();return this.cashierShifts=s,s}catch(s){throw this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to fetch my cashier shifts",s}finally{this.loading=!1}},async fetchCashierShift(e){var t,s,r;this.loading=!0,this.error=null;try{const o=await pt.getCashierShift(e);return((t=this.currentCashierShift)==null?void 0:t.id)===e&&(this.currentCashierShift=o),o}catch(o){throw this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Failed to fetch cashier shift",o}finally{this.loading=!1}},clearCurrentShift(){this.currentCashierShift=null},clearError(){this.error=null},reset(){this.currentCashierShift=null,this.cashierShifts=[],this.shifts=[],this.loading=!1,this.error=null}}});const n3={class:"min-h-screen bg-gray-50"},r3={class:"sticky top-0 z-40 bg-white shadow-sm"},o3={class:"px-4 py-3"},i3={class:"flex gap-2 overflow-x-auto pb-2"},a3={class:"px-4 py-4 pb-24"},l3={class:"bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl p-4 mb-4 text-white shadow-lg"},u3={class:"grid grid-cols-4 gap-1.5"},c3={class:"text-center"},d3={class:"text-lg font-bold"},f3={class:"text-center"},p3={class:"text-lg font-bold"},h3={class:"text-center"},g3={class:"text-lg font-bold"},m3={class:"text-center"},y3={class:"text-lg font-bold"},b3={class:"mb-4"},x3={class:"flex items-center justify-between mb-3"},v3={class:"text-sm text-gray-500"},w3={key:0,class:"text-center py-8 bg-white rounded-xl"},_3={key:1,class:"space-y-3"},C3=["onClick"],S3={class:"flex justify-between items-start mb-3"},$3={class:"font-bold text-lg"},k3={class:"text-sm text-gray-600"},E3={class:"text-xs text-gray-400"},T3={class:"grid grid-cols-2 gap-2 text-sm mb-3"},O3={class:"font-medium"},R3={key:0},A3={class:"font-medium"},I3={key:1},N3={class:"font-medium text-green-600"},D3={key:0,class:"grid grid-cols-3 gap-2 pt-3 border-t"},P3={class:"text-center"},L3={class:"font-bold text-sm"},M3={class:"text-center"},U3={class:"font-bold text-sm"},F3={class:"text-center"},j3={class:"font-bold text-sm text-green-600"},V3={class:"mb-4"},B3={class:"flex items-center justify-between mb-3"},H3={class:"text-sm text-gray-500"},q3={key:0,class:"text-center py-8 bg-white rounded-xl"},K3={key:1,class:"space-y-3"},G3=["onClick"],W3={class:"flex justify-between items-start mb-3"},z3={class:"font-bold text-lg"},Q3={class:"text-sm text-gray-600"},J3={class:"text-xs text-gray-400"},X3={class:"grid grid-cols-2 gap-2 text-sm mb-3"},Y3={class:"font-medium"},Z3={key:0},eC={class:"font-medium"},tC={key:1},sC={class:"font-medium text-green-600"},nC={key:0,class:"grid grid-cols-3 gap-2 pt-3 border-t"},rC={class:"text-center"},oC={class:"font-bold text-sm"},iC={class:"text-center"},aC={class:"font-bold text-sm"},lC={class:"text-center"},uC={class:"font-bold text-sm text-green-600"},cC={class:"mb-4"},dC={class:"flex items-center justify-between mb-3"},fC={class:"text-sm text-gray-500"},pC={key:0,class:"text-center py-8 bg-white rounded-xl"},hC={key:1,class:"space-y-3"},gC=["onClick"],mC={class:"flex justify-between items-start mb-3"},yC={class:"font-bold text-lg"},bC={class:"grid grid-cols-2 gap-2 text-sm mb-3"},xC={class:"font-medium"},vC={key:0},wC={class:"font-medium"},_C={key:1},CC={class:"font-medium text-green-600"},SC={key:0,class:"grid grid-cols-3 gap-2 pt-3 border-t"},$C={class:"text-center"},kC={class:"font-bold text-sm"},EC={class:"text-center"},TC={class:"font-bold text-sm"},OC={class:"text-center"},RC={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end"},AC={class:"bg-white rounded-t-3xl w-full max-h-[85vh] overflow-y-auto"},IC={class:"px-4 py-4"},NC={key:0},DC={class:"bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl p-4 text-white mb-4"},PC={class:"font-bold text-lg mb-1"},LC={class:"text-sm opacity-90"},MC={class:"text-xs opacity-75"},UC={class:"space-y-3"},FC={class:"bg-gray-50 rounded-lg p-3"},jC={class:"bg-gray-50 rounded-lg p-3"},VC={class:"font-medium"},BC={key:0,class:"bg-gray-50 rounded-lg p-3"},HC={class:"font-medium"},qC={key:1,class:"grid grid-cols-2 gap-3"},KC={class:"bg-blue-50 rounded-lg p-3"},GC={class:"font-bold text-lg"},WC={class:"bg-green-50 rounded-lg p-3"},zC={class:"font-bold text-lg"},QC={class:"bg-purple-50 rounded-lg p-3 col-span-2"},JC={class:"font-bold text-2xl"},XC={key:1},YC={class:"bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl p-4 text-white mb-4"},ZC={class:"font-bold text-lg mb-1"},e5={class:"space-y-3"},t5={class:"bg-gray-50 rounded-lg p-3"},s5={class:"bg-gray-50 rounded-lg p-3"},n5={class:"font-medium"},r5={key:0,class:"bg-gray-50 rounded-lg p-3"},o5={class:"font-medium"},i5={key:1,class:"space-y-3"},a5={class:"grid grid-cols-2 gap-3"},l5={class:"bg-blue-50 rounded-lg p-3"},u5={class:"font-bold text-lg"},c5={class:"bg-green-50 rounded-lg p-3"},d5={class:"font-bold text-lg"},f5={key:0,class:"bg-yellow-50 rounded-lg p-3"},p5={class:"text-sm"},h5={__name:"ManagerShiftView",setup(e){const t=Ks(),s=Go(),r=Z("all"),o=Z(!1),i=Z(null),a=Z(null),l=J(()=>[...t.shifts,...s.shifts]),u=J(()=>t.shifts||[]),d=J(()=>s.shifts||[]),c=J(()=>u.value.filter(v=>v.status==="OPEN"&&v.role_type==="waiter")),f=J(()=>u.value.filter(v=>v.status==="OPEN"&&v.role_type==="barista")),w=J(()=>d.value.filter(v=>v.status==="OPEN")),g=J(()=>{const v=new Date().toDateString();return l.value.filter(p=>{const A=p.started_at||p.opened_at;return new Date(A).toDateString()===v})}),S=J(()=>{const v=u.value.filter(p=>p.role_type==="waiter");return r.value==="all"?v:v.filter(p=>p.status===r.value)}),T=J(()=>{const v=u.value.filter(p=>p.role_type==="barista");return r.value==="all"?v:v.filter(p=>p.status===r.value)}),k=J(()=>r.value==="all"?d.value:d.value.filter(v=>v.status===r.value)),U=async()=>{await Promise.all([t.fetchAllShifts(),s.fetchAllShifts()])},z=v=>({waiter:" Phc v",barista:" Pha ch",cashier:" Thu ngn"})[v]||v,F=v=>({MORNING:" Ca sng",AFTERNOON:" Ca chiu",EVENING:" Ca ti"})[v]||v,N=v=>v==="OPEN"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",L=v=>v==="OPEN"?"ang m":" ng",V=v=>({OPEN:"bg-green-100 text-green-800",CLOSURE_INITIATED:"bg-yellow-100 text-yellow-800",CLOSED:"bg-gray-100 text-gray-800"})[v]||"bg-gray-100 text-gray-800",R=v=>({OPEN:"ang m",CLOSURE_INITIATED:"ang ng",CLOSED:" ng"})[v]||v,B=v=>{if(!v)return"";const p=new Date(v),I=new Date-p,P=Math.floor(I/36e5),Y=Math.floor(I%36e5/6e4);return`${P}h ${Y}m`},O=(v,p)=>{i.value=v,a.value=p,o.value=!0},_=()=>{o.value=!1,i.value=null,a.value=null};return Ge(async()=>{await U()}),(v,p)=>(y(),b("div",n3,[n("div",r3,[n("div",o3,[n("div",{class:"flex items-center justify-between mb-3"},[p[3]||(p[3]=n("h1",{class:"text-xl font-bold text-gray-800"}," Qun l ca lm vic",-1)),n("button",{onClick:U,class:"p-2 rounded-lg bg-blue-500 text-white"},"  ")]),n("div",i3,[n("button",{onClick:p[0]||(p[0]=A=>r.value="all"),class:he([r.value==="all"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap"])}," Tt c ",2),n("button",{onClick:p[1]||(p[1]=A=>r.value="OPEN"),class:he([r.value==="OPEN"?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap"])}," ang m ",2),n("button",{onClick:p[2]||(p[2]=A=>r.value="CLOSED"),class:he([r.value==="CLOSED"?"bg-gray-500 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap"])},"  ng ",2)])])]),n("div",a3,[n("div",l3,[p[8]||(p[8]=n("div",{class:"text-xs opacity-90 mb-2"},"Tng quan ca lm",-1)),n("div",u3,[n("div",c3,[n("div",d3,h(g.value.length),1),p[4]||(p[4]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"},"Hm nay",-1))]),n("div",f3,[n("div",p3,h(c.value.length),1),p[5]||(p[5]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"},"Waiter",-1))]),n("div",h3,[n("div",g3,h(f.value.length),1),p[6]||(p[6]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"},"Barista",-1))]),n("div",m3,[n("div",y3,h(w.value.length),1),p[7]||(p[7]=n("div",{class:"text-[10px] opacity-90 whitespace-nowrap"},"Cashier",-1))])])]),n("div",b3,[n("div",x3,[p[9]||(p[9]=n("h2",{class:"text-lg font-bold text-gray-800"}," Ca Waiter",-1)),n("span",v3,h(S.value.length)+" ca",1)]),S.value.length===0?(y(),b("div",w3,[...p[10]||(p[10]=[n("div",{class:"text-4xl mb-2"},"",-1),n("p",{class:"text-gray-500"},"Khng c ca no",-1)])])):(y(),b("div",_3,[(y(!0),b(de,null,me(S.value,A=>(y(),b("div",{key:A.id,onClick:I=>O(A,"waiter"),class:"bg-white rounded-2xl p-4 shadow-sm active:scale-98 transition-transform border-l-4 border-blue-500"},[n("div",S3,[n("div",null,[n("h3",$3,h(A.user_name),1),n("p",k3,h(z(A.role_type)),1),n("p",E3,h(F(A.type)),1)]),n("span",{class:he([N(A.status),"px-3 py-1 rounded-full text-xs font-medium"])},h(L(A.status)),3)]),n("div",T3,[n("div",null,[p[11]||(p[11]=n("span",{class:"text-gray-500"},"Bt u:",-1)),n("p",O3,h(_e(Lt)(A.started_at)),1)]),A.ended_at?(y(),b("div",R3,[p[12]||(p[12]=n("span",{class:"text-gray-500"},"Kt thc:",-1)),n("p",A3,h(_e(Lt)(A.ended_at)),1)])):(y(),b("div",I3,[p[13]||(p[13]=n("span",{class:"text-gray-500"},"Thi gian:",-1)),n("p",N3,h(B(A.started_at)),1)]))]),A.status==="CLOSED"?(y(),b("div",D3,[n("div",P3,[p[14]||(p[14]=n("p",{class:"text-xs text-gray-500"},"Tin u",-1)),n("p",L3,h(_e(qe)(A.start_cash)),1)]),n("div",M3,[p[15]||(p[15]=n("p",{class:"text-xs text-gray-500"},"Tin cui",-1)),n("p",U3,h(_e(qe)(A.end_cash)),1)]),n("div",F3,[p[16]||(p[16]=n("p",{class:"text-xs text-gray-500"},"Doanh thu",-1)),n("p",j3,h(_e(qe)(A.total_revenue)),1)])])):W("",!0)],8,C3))),128))]))]),n("div",V3,[n("div",B3,[p[17]||(p[17]=n("h2",{class:"text-lg font-bold text-gray-800"}," Ca Barista",-1)),n("span",H3,h(T.value.length)+" ca",1)]),T.value.length===0?(y(),b("div",q3,[...p[18]||(p[18]=[n("div",{class:"text-4xl mb-2"},"",-1),n("p",{class:"text-gray-500"},"Khng c ca no",-1)])])):(y(),b("div",K3,[(y(!0),b(de,null,me(T.value,A=>(y(),b("div",{key:A.id,onClick:I=>O(A,"barista"),class:"bg-white rounded-2xl p-4 shadow-sm active:scale-98 transition-transform border-l-4 border-purple-500"},[n("div",W3,[n("div",null,[n("h3",z3,h(A.user_name),1),n("p",Q3,h(z(A.role_type)),1),n("p",J3,h(F(A.type)),1)]),n("span",{class:he([N(A.status),"px-3 py-1 rounded-full text-xs font-medium"])},h(L(A.status)),3)]),n("div",X3,[n("div",null,[p[19]||(p[19]=n("span",{class:"text-gray-500"},"Bt u:",-1)),n("p",Y3,h(_e(Lt)(A.started_at)),1)]),A.ended_at?(y(),b("div",Z3,[p[20]||(p[20]=n("span",{class:"text-gray-500"},"Kt thc:",-1)),n("p",eC,h(_e(Lt)(A.ended_at)),1)])):(y(),b("div",tC,[p[21]||(p[21]=n("span",{class:"text-gray-500"},"Thi gian:",-1)),n("p",sC,h(B(A.started_at)),1)]))]),A.status==="CLOSED"?(y(),b("div",nC,[n("div",rC,[p[22]||(p[22]=n("p",{class:"text-xs text-gray-500"},"Tin u",-1)),n("p",oC,h(_e(qe)(A.start_cash)),1)]),n("div",iC,[p[23]||(p[23]=n("p",{class:"text-xs text-gray-500"},"Tin cui",-1)),n("p",aC,h(_e(qe)(A.end_cash)),1)]),n("div",lC,[p[24]||(p[24]=n("p",{class:"text-xs text-gray-500"},"Doanh thu",-1)),n("p",uC,h(_e(qe)(A.total_revenue)),1)])])):W("",!0)],8,G3))),128))]))]),n("div",cC,[n("div",dC,[p[25]||(p[25]=n("h2",{class:"text-lg font-bold text-gray-800"}," Ca Thu ngn",-1)),n("span",fC,h(k.value.length)+" ca",1)]),k.value.length===0?(y(),b("div",pC,[...p[26]||(p[26]=[n("div",{class:"text-4xl mb-2"},"",-1),n("p",{class:"text-gray-500"},"Khng c ca no",-1)])])):(y(),b("div",hC,[(y(!0),b(de,null,me(k.value,A=>(y(),b("div",{key:A.id,onClick:I=>O(A,"cashier"),class:"bg-white rounded-2xl p-4 shadow-sm active:scale-98 transition-transform border-l-4 border-yellow-500"},[n("div",mC,[n("div",null,[n("h3",yC,h(A.cashier_name),1),p[27]||(p[27]=n("p",{class:"text-sm text-gray-600"}," Thu ngn",-1))]),n("span",{class:he([V(A.status),"px-3 py-1 rounded-full text-xs font-medium"])},h(R(A.status)),3)]),n("div",bC,[n("div",null,[p[28]||(p[28]=n("span",{class:"text-gray-500"},"Bt u:",-1)),n("p",xC,h(_e(Lt)(A.opened_at)),1)]),A.closed_at?(y(),b("div",vC,[p[29]||(p[29]=n("span",{class:"text-gray-500"},"Kt thc:",-1)),n("p",wC,h(_e(Lt)(A.closed_at)),1)])):(y(),b("div",_C,[p[30]||(p[30]=n("span",{class:"text-gray-500"},"Thi gian:",-1)),n("p",CC,h(B(A.opened_at)),1)]))]),A.status==="CLOSED"?(y(),b("div",SC,[n("div",$C,[p[31]||(p[31]=n("p",{class:"text-xs text-gray-500"},"Tin mt",-1)),n("p",kC,h(_e(qe)(A.actual_cash)),1)]),n("div",EC,[p[32]||(p[32]=n("p",{class:"text-xs text-gray-500"},"D kin",-1)),n("p",TC,h(_e(qe)(A.expected_cash)),1)]),n("div",OC,[p[33]||(p[33]=n("p",{class:"text-xs text-gray-500"},"Chnh lch",-1)),n("p",{class:he([A.variance>=0?"text-green-600":"text-red-600","font-bold text-sm"])},h(A.variance>=0?"+":"")+h(_e(qe)(Math.abs(A.variance))),3)])])):W("",!0)],8,gC))),128))]))])]),ye(It),ye(mt,{name:"slide-up"},{default:De(()=>[o.value?(y(),b("div",RC,[n("div",AC,[n("div",{class:"sticky top-0 bg-white px-4 py-4 border-b flex justify-between items-center"},[p[34]||(p[34]=n("h3",{class:"text-lg font-bold"},"Chi tit ca lm vic",-1)),n("button",{onClick:_,class:"text-2xl text-gray-400"},"")]),n("div",IC,[a.value==="waiter"&&i.value?(y(),b("div",NC,[n("div",DC,[n("h4",PC,h(i.value.user_name),1),n("p",LC,h(z(i.value.role_type)),1),n("p",MC,h(F(i.value.type)),1)]),n("div",UC,[n("div",FC,[p[35]||(p[35]=n("p",{class:"text-xs text-gray-500 mb-1"},"Trng thi",-1)),n("span",{class:he([N(i.value.status),"px-3 py-1 rounded-full text-sm font-medium"])},h(L(i.value.status)),3)]),n("div",jC,[p[36]||(p[36]=n("p",{class:"text-xs text-gray-500 mb-1"},"Thi gian bt u",-1)),n("p",VC,h(_e(Lt)(i.value.started_at)),1)]),i.value.ended_at?(y(),b("div",BC,[p[37]||(p[37]=n("p",{class:"text-xs text-gray-500 mb-1"},"Thi gian kt thc",-1)),n("p",HC,h(_e(Lt)(i.value.ended_at)),1)])):W("",!0),i.value.status==="CLOSED"?(y(),b("div",qC,[n("div",KC,[p[38]||(p[38]=n("p",{class:"text-xs text-blue-600 mb-1"},"Tin u ca",-1)),n("p",GC,h(_e(qe)(i.value.start_cash)),1)]),n("div",WC,[p[39]||(p[39]=n("p",{class:"text-xs text-green-600 mb-1"},"Tin cui ca",-1)),n("p",zC,h(_e(qe)(i.value.end_cash)),1)]),n("div",QC,[p[40]||(p[40]=n("p",{class:"text-xs text-purple-600 mb-1"},"Tng doanh thu",-1)),n("p",JC,h(_e(qe)(i.value.total_revenue)),1)])])):W("",!0)])])):W("",!0),a.value==="cashier"&&i.value?(y(),b("div",XC,[n("div",YC,[n("h4",ZC,h(i.value.cashier_name),1),p[41]||(p[41]=n("p",{class:"text-sm opacity-90"}," Thu ngn",-1))]),n("div",e5,[n("div",t5,[p[42]||(p[42]=n("p",{class:"text-xs text-gray-500 mb-1"},"Trng thi",-1)),n("span",{class:he([V(i.value.status),"px-3 py-1 rounded-full text-sm font-medium"])},h(R(i.value.status)),3)]),n("div",s5,[p[43]||(p[43]=n("p",{class:"text-xs text-gray-500 mb-1"},"Thi gian m ca",-1)),n("p",n5,h(_e(Lt)(i.value.opened_at)),1)]),i.value.closed_at?(y(),b("div",r5,[p[44]||(p[44]=n("p",{class:"text-xs text-gray-500 mb-1"},"Thi gian ng ca",-1)),n("p",o5,h(_e(Lt)(i.value.closed_at)),1)])):W("",!0),i.value.status==="CLOSED"?(y(),b("div",i5,[n("div",a5,[n("div",l5,[p[45]||(p[45]=n("p",{class:"text-xs text-blue-600 mb-1"},"Tin mt thc t",-1)),n("p",u5,h(_e(qe)(i.value.actual_cash)),1)]),n("div",c5,[p[46]||(p[46]=n("p",{class:"text-xs text-green-600 mb-1"},"Tin d kin",-1)),n("p",d5,h(_e(qe)(i.value.expected_cash)),1)])]),n("div",{class:he([i.value.variance>=0?"bg-green-50":"bg-red-50","rounded-lg p-3"])},[n("p",{class:he([i.value.variance>=0?"text-green-600":"text-red-600","text-xs mb-1"])}," Chnh lch ",2),n("p",{class:he([i.value.variance>=0?"text-green-600":"text-red-600","font-bold text-2xl"])},h(i.value.variance>=0?"+":"")+h(_e(qe)(Math.abs(i.value.variance))),3)],2),i.value.variance_reason?(y(),b("div",f5,[p[47]||(p[47]=n("p",{class:"text-xs text-yellow-600 mb-1"},"L do chnh lch",-1)),n("p",p5,h(i.value.variance_reason),1)])):W("",!0)])):W("",!0)])])):W("",!0)])])])):W("",!0)]),_:1})]))}},g5=je(h5,[["__scopeId","data-v-7385a7e9"]]),xt={getShiftStatus:e=>H.get(`/cashier/shifts/${e}/status`),getPaymentsByShift:e=>H.get(`/cashier/shifts/${e}/payments`),reportDiscrepancy:e=>H.post("/cashier/discrepancies",e),getPendingDiscrepancies:()=>H.get("/cashier/discrepancies/pending"),resolveDiscrepancy:e=>H.post(`/cashier/discrepancies/${e}/resolve`),overridePayment:(e,t)=>H.post(`/cashier/orders/${e}/override`,t),lockOrder:e=>H.post(`/cashier/orders/${e}/lock`),reconcileCash:e=>H.post("/cashier/reconcile/cash",e),generateShiftReport:e=>H.get(`/cashier/reports/shift/${e}`),getDailyReport:e=>H.get(`/cashier/reports/daily?date=${e}`),handoverShift:e=>H.post("/cashier/handover",e),getOrderAudits:e=>H.get(`/cashier/orders/${e}/audits`)},Eu=Rt("cashier",{state:()=>({shiftStatus:null,payments:[],discrepancies:[],reconciliation:null,reports:[],audits:[],loading:!1,error:null}),getters:{pendingDiscrepancies:e=>e.discrepancies.filter(t=>t.status==="PENDING"),resolvedDiscrepancies:e=>e.discrepancies.filter(t=>t.status==="RESOLVED"),cashPayments:e=>e.payments.filter(t=>t.payment_method==="CASH"),transferPayments:e=>e.payments.filter(t=>t.payment_method==="TRANSFER"),qrPayments:e=>e.payments.filter(t=>t.payment_method==="QR"),totalCashAmount:e=>e.payments.filter(t=>t.payment_method==="CASH").reduce((t,s)=>t+s.amount,0),hasReconciliation:e=>!!e.reconciliation,reconciliationStatus:e=>{var t;return((t=e.reconciliation)==null?void 0:t.status)||null}},actions:{async getShiftStatus(e){var t,s;this.loading=!0,this.error=null;try{const r=await xt.getShiftStatus(e);return this.shiftStatus=r.data,r.data}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to get shift status",r}finally{this.loading=!1}},async getPaymentsByShift(e){var t,s;this.loading=!0,this.error=null;try{const r=await xt.getPaymentsByShift(e);return this.payments=r.data.payments||[],r.data.payments}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to get payments",r}finally{this.loading=!1}},async reportDiscrepancy(e){var t,s;this.loading=!0,this.error=null;try{return await xt.reportDiscrepancy(e),await this.getPendingDiscrepancies(),!0}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to report discrepancy",r}finally{this.loading=!1}},async getPendingDiscrepancies(){var e,t;try{const s=await xt.getPendingDiscrepancies();return this.discrepancies=s.data.discrepancies||[],s.data.discrepancies}catch(s){throw this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Failed to get discrepancies",s}},async resolveDiscrepancy(e){var t,s;this.loading=!0,this.error=null;try{return await xt.resolveDiscrepancy(e),await this.getPendingDiscrepancies(),!0}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to resolve discrepancy",r}finally{this.loading=!1}},async reconcileCash(e){var t,s;this.loading=!0,this.error=null;try{const r=await xt.reconcileCash(e);return this.reconciliation=r.data,r.data}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to reconcile cash",r}finally{this.loading=!1}},async overridePayment(e,t){var s,r;this.loading=!0,this.error=null;try{return await xt.overridePayment(e,{reason:t}),!0}catch(o){throw this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Failed to override payment",o}finally{this.loading=!1}},async lockOrder(e){var t,s;this.loading=!0,this.error=null;try{return await xt.lockOrder(e),!0}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to lock order",r}finally{this.loading=!1}},async generateShiftReport(e){var t,s;this.loading=!0,this.error=null;try{const o=(await xt.generateShiftReport(e)).data;return this.reports.unshift(o),o}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to generate report",r}finally{this.loading=!1}},async getDailyReport(e){var t,s;this.loading=!0,this.error=null;try{return(await xt.getDailyReport(e)).data}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to get daily report",r}finally{this.loading=!1}},async handoverShift(e){var t,s;this.loading=!0,this.error=null;try{return await xt.handoverShift(e),!0}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to handover shift",r}finally{this.loading=!1}},async getOrderAudits(e){var t,s;this.loading=!0,this.error=null;try{const r=await xt.getOrderAudits(e);return this.audits=r.data.audits||[],r.data.audits}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Failed to get audits",r}finally{this.loading=!1}},clearError(){this.error=null},reset(){this.shiftStatus=null,this.payments=[],this.discrepancies=[],this.reconciliation=null,this.reports=[],this.audits=[],this.loading=!1,this.error=null}}});const m5={class:"bg-white rounded-2xl p-4 shadow-sm mb-4"},y5={key:0,class:"text-center py-4"},b5={key:1,class:"bg-red-50 border-2 border-red-200 rounded-xl p-4"},x5={class:"flex items-start gap-3"},v5={class:"text-sm text-red-600"},w5={key:2,class:"space-y-4"},_5={class:"bg-gray-50 rounded-xl p-4 text-center"},C5={key:3,class:"space-y-3"},S5={class:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-xl p-4"},$5={class:"flex items-center justify-between mb-3"},k5={class:"text-lg font-bold"},E5={class:"bg-white/20 rounded-lg px-3 py-1 backdrop-blur-sm"},T5={class:"text-xs font-medium"},O5={class:"grid grid-cols-2 gap-3"},R5={class:"bg-white/20 rounded-lg p-2 backdrop-blur-sm"},A5={class:"text-sm font-bold"},I5={class:"bg-white/20 rounded-lg p-2 backdrop-blur-sm"},N5={class:"text-sm font-bold"},D5={key:4,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},P5={class:"bg-white rounded-2xl p-6 max-w-md w-full"},L5={class:"mb-4"},M5={key:0,class:"text-sm text-red-600 mt-1"},U5={class:"flex gap-3"},F5=["disabled"],j5={__name:"CashierShiftManager",setup(e){const t=ps(),s=Go(),r=Z(!1),o=Z(null),i=Z(null),a=Z(!1),l=J(()=>s.loading),u=J(()=>s.error),d=J(()=>s.currentCashierShift),c=J(()=>s.hasOpenCashierShift),f=J(()=>d.value&&d.value.status==="OPEN"),w=J(()=>o.value!==null&&o.value>=0&&!i.value),g=()=>(i.value=null,o.value===null||o.value===""?(i.value="Vui lng nhp tin u ca",!1):o.value<0?(i.value="S tin khng c m",!1):!0),S=async()=>{if(g()){a.value=!0;try{await s.startCashierShift(o.value),r.value=!1,o.value=null}catch(F){console.error("Failed to start cashier shift:",F)}finally{a.value=!1}}},T=()=>{var F;(F=d.value)!=null&&F.id&&t.push(`/cashier/shift-closure/${d.value.id}`)},k=F=>!F&&F!==0?"0":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(F),U=F=>F?new Date(F).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"}):"N/A",z=F=>({OPEN:" ang m",CLOSURE_INITIATED:" ang ng",CLOSED:"  ng"})[F]||F;return Ge(async()=>{var F;try{await s.fetchCurrentCashierShift()}catch(N){((F=N.response)==null?void 0:F.status)!==404&&console.error("Failed to fetch current cashier shift:",N)}}),(F,N)=>(y(),b("div",m5,[N[14]||(N[14]=n("h2",{class:"text-lg font-bold text-gray-800 mb-4"}," Ca thu ngn",-1)),l.value?(y(),b("div",y5,[...N[3]||(N[3]=[n("div",{class:"animate-spin text-3xl"},"",-1),n("p",{class:"text-sm text-gray-600 mt-2"},"ang ti...",-1)])])):u.value?(y(),b("div",b5,[n("div",x5,[N[5]||(N[5]=n("span",{class:"text-2xl"},"",-1)),n("div",null,[N[4]||(N[4]=n("p",{class:"font-medium text-red-800"},"Li",-1)),n("p",v5,h(u.value),1)])])])):c.value?(y(),b("div",C5,[n("div",S5,[n("div",$5,[n("div",null,[N[8]||(N[8]=n("p",{class:"text-xs opacity-90"},"Ca hin ti",-1)),n("p",k5,h(d.value.cashier_name),1)]),n("div",E5,[n("p",T5,h(z(d.value.status)),1)])]),n("div",O5,[n("div",R5,[N[9]||(N[9]=n("p",{class:"text-xs opacity-90"},"Bt u",-1)),n("p",A5,h(U(d.value.start_time)),1)]),n("div",I5,[N[10]||(N[10]=n("p",{class:"text-xs opacity-90"},"Tin u ca",-1)),n("p",N5,h(k(d.value.starting_float)),1)])])]),f.value?(y(),b("button",{key:0,onClick:T,class:"w-full py-3 bg-red-500 text-white rounded-xl font-bold text-base active:scale-95 transition-transform flex items-center justify-center gap-2"},[...N[11]||(N[11]=[n("span",null,"",-1),n("span",null,"ng ca thu ngn",-1)])])):W("",!0)])):(y(),b("div",w5,[n("div",_5,[N[6]||(N[6]=n("div",{class:"text-4xl mb-2"},"",-1)),N[7]||(N[7]=n("p",{class:"text-sm text-gray-600 mb-4"},"Cha c ca thu ngn no ang m",-1)),n("button",{onClick:N[0]||(N[0]=L=>r.value=!0),class:"w-full py-3 bg-yellow-500 text-white rounded-xl font-bold text-base active:scale-95 transition-transform"},"  Bt u ca thu ngn ")])])),r.value?(y(),b("div",D5,[n("div",P5,[N[13]||(N[13]=n("h3",{class:"text-xl font-bold text-gray-800 mb-4"},"Bt u ca thu ngn",-1)),n("div",L5,[N[12]||(N[12]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[Pe(" Tin u ca (VN) "),n("span",{class:"text-red-500"},"*")],-1)),ae(n("input",{"onUpdate:modelValue":N[1]||(N[1]=L=>o.value=L),type:"number",step:"1000",min:"0",class:he(["w-full border-2 border-gray-300 rounded-xl px-4 py-3 text-base focus:outline-none focus:border-yellow-500",{"border-red-500":i.value}]),placeholder:"Nhp s tin u ca",onInput:g},null,34),[[fe,o.value,void 0,{number:!0}]]),i.value?(y(),b("p",M5,h(i.value),1)):W("",!0)]),n("div",U5,[n("button",{onClick:N[2]||(N[2]=L=>r.value=!1),class:"flex-1 py-3 bg-gray-200 text-gray-800 rounded-xl font-bold active:scale-95 transition-transform"}," Hy "),n("button",{onClick:S,disabled:!w.value||a.value,class:"flex-1 py-3 bg-yellow-500 text-white rounded-xl font-bold active:scale-95 transition-transform disabled:opacity-50 disabled:cursor-not-allowed"},h(a.value?"ang x l...":"Bt u"),9,F5)])])])):W("",!0)]))}},V5=je(j5,[["__scopeId","data-v-c3eea194"]]);const B5={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},H5={class:"bg-white rounded-2xl p-6 w-full max-w-md"},q5={class:"bg-gray-50 rounded-xl p-4 mb-4 space-y-2"},K5={class:"flex justify-between items-center"},G5={class:"font-mono text-sm font-medium"},W5={class:"flex justify-between items-center"},z5={class:"font-medium"},Q5={class:"flex justify-between items-center pt-2 border-t border-gray-200"},J5={class:"font-bold text-green-600"},X5={class:"mb-6"},Y5={class:"flex gap-3"},Z5=["disabled"],eS={__name:"OverridePaymentModal",props:{show:{type:Boolean,default:!1},payment:{type:Object,default:null}},emits:["close","confirm"],setup(e,{emit:t}){const s=e,r=t,o=Z("");ds(()=>s.show,u=>{u&&(o.value="")});const i=()=>{r("close")},a=()=>{o.value.trim()&&(r("confirm",o.value.trim()),o.value="")},l=u=>!u&&u!==0?"0":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(u);return(u,d)=>{var c,f,w,g;return e.show?(y(),b("div",B5,[n("div",H5,[d[5]||(d[5]=n("h3",{class:"text-xl font-bold text-gray-800 mb-4"}," iu chnh thanh ton",-1)),n("div",q5,[n("div",K5,[d[1]||(d[1]=n("span",{class:"text-sm text-gray-600"},"Order:",-1)),n("span",G5,"#"+h((f=(c=e.payment)==null?void 0:c.order_id)==null?void 0:f.slice(-6)),1)]),n("div",W5,[d[2]||(d[2]=n("span",{class:"text-sm text-gray-600"},"Khch hng:",-1)),n("span",z5,h(((w=e.payment)==null?void 0:w.customer_name)||"Khch l"),1)]),n("div",Q5,[d[3]||(d[3]=n("span",{class:"text-sm text-gray-600"},"S tin:",-1)),n("span",J5,h(l((g=e.payment)==null?void 0:g.amount)),1)])]),n("div",X5,[d[4]||(d[4]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"L do iu chnh *",-1)),ae(n("textarea",{"onUpdate:modelValue":d[0]||(d[0]=S=>o.value=S),class:"w-full border-2 border-gray-300 rounded-xl px-4 py-3 text-base resize-none focus:outline-none focus:border-orange-500",rows:"4",placeholder:"Nhp l do iu chnh thanh ton...",required:""},null,512),[[fe,o.value]])]),n("div",Y5,[n("button",{onClick:i,class:"flex-1 py-3 text-gray-700 bg-gray-100 rounded-xl font-medium active:scale-95 transition-transform"}," Hy "),n("button",{onClick:a,disabled:!o.value.trim(),class:"flex-1 py-3 bg-orange-500 text-white rounded-xl font-medium active:scale-95 transition-transform disabled:opacity-50 disabled:cursor-not-allowed"}," Xc nhn ",8,Z5)])])])):W("",!0)}}},tS=je(eS,[["__scopeId","data-v-371ff138"]]);const sS={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},nS={class:"bg-white rounded-2xl p-6 w-full max-w-md"},rS={class:"bg-gray-50 rounded-xl p-4 mb-4 space-y-2"},oS={class:"flex justify-between items-center"},iS={class:"font-mono text-sm font-medium"},aS={class:"flex justify-between items-center"},lS={class:"font-medium"},uS={class:"flex justify-between items-center pt-2 border-t border-gray-200"},cS={class:"font-bold text-green-600"},dS={class:"mb-4"},fS={class:"mb-6"},pS={class:"flex gap-3"},hS=["disabled"],gS={__name:"DiscrepancyModal",props:{show:{type:Boolean,default:!1},payment:{type:Object,default:null}},emits:["close","confirm"],setup(e,{emit:t}){const s=e,r=t,o=Z(""),i=Z(null);ds(()=>s.show,d=>{d&&(o.value="",i.value=null)});const a=()=>{r("close")},l=()=>{o.value.trim()&&i.value&&(r("confirm",{reason:o.value.trim(),amount:i.value}),o.value="",i.value=null)},u=d=>!d&&d!==0?"0":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(d);return(d,c)=>{var f,w,g,S;return e.show?(y(),b("div",sS,[n("div",nS,[c[7]||(c[7]=n("h3",{class:"text-xl font-bold text-gray-800 mb-4"}," Bo co sai lch",-1)),n("div",rS,[n("div",oS,[c[2]||(c[2]=n("span",{class:"text-sm text-gray-600"},"Order:",-1)),n("span",iS,"#"+h((w=(f=e.payment)==null?void 0:f.order_id)==null?void 0:w.slice(-6)),1)]),n("div",aS,[c[3]||(c[3]=n("span",{class:"text-sm text-gray-600"},"Khch hng:",-1)),n("span",lS,h(((g=e.payment)==null?void 0:g.customer_name)||"Khch l"),1)]),n("div",uS,[c[4]||(c[4]=n("span",{class:"text-sm text-gray-600"},"S tin gc:",-1)),n("span",cS,h(u((S=e.payment)==null?void 0:S.amount)),1)])]),n("div",dS,[c[5]||(c[5]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"L do sai lch *",-1)),ae(n("textarea",{"onUpdate:modelValue":c[0]||(c[0]=T=>o.value=T),class:"w-full border-2 border-gray-300 rounded-xl px-4 py-3 text-base resize-none focus:outline-none focus:border-yellow-500",rows:"3",placeholder:"M t chi tit sai lch...",required:""},null,512),[[fe,o.value]])]),n("div",fS,[c[6]||(c[6]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"S tin sai lch *",-1)),ae(n("input",{"onUpdate:modelValue":c[1]||(c[1]=T=>i.value=T),type:"number",step:"1000",class:"w-full border-2 border-gray-300 rounded-xl px-4 py-3 text-base focus:outline-none focus:border-yellow-500",placeholder:"Nhp s tin sai lch",required:""},null,512),[[fe,i.value,void 0,{number:!0}]])]),n("div",pS,[n("button",{onClick:a,class:"flex-1 py-3 text-gray-700 bg-gray-100 rounded-xl font-medium active:scale-95 transition-transform"}," Hy "),n("button",{onClick:l,disabled:!o.value.trim()||!i.value,class:"flex-1 py-3 bg-yellow-500 text-white rounded-xl font-medium active:scale-95 transition-transform disabled:opacity-50 disabled:cursor-not-allowed"}," Bo co ",8,hS)])])])):W("",!0)}}},mS=je(gS,[["__scopeId","data-v-3d73f016"]]);const yS={class:"min-h-screen bg-gray-50"},bS={class:"sticky top-0 z-40 bg-white shadow-sm"},xS={class:"px-4 py-4"},vS={class:"flex items-center justify-between"},wS=["disabled"],_S={class:"px-4 py-4 pb-24"},CS={key:0,class:"bg-red-50 border-2 border-red-200 rounded-2xl p-4 mb-4"},SS={class:"flex items-start justify-between"},$S={class:"flex items-start gap-3"},kS={class:"text-sm text-red-600"},ES={class:"bg-white rounded-2xl p-4 shadow-sm mb-4"},TS=["value"],OS={key:1,class:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-2xl p-6 shadow-lg mb-4"},RS={class:"grid grid-cols-2 gap-3"},AS={class:"bg-white/20 rounded-xl p-3 backdrop-blur-sm"},IS={class:"text-2xl font-bold"},NS={class:"bg-white/20 rounded-xl p-3 backdrop-blur-sm"},DS={class:"text-lg font-bold"},PS={class:"bg-white/20 rounded-xl p-3 backdrop-blur-sm"},LS={class:"text-lg font-bold"},MS={class:"bg-white/20 rounded-xl p-3 backdrop-blur-sm"},US={class:"text-lg font-bold"},FS={key:2,class:"bg-yellow-50 border-2 border-yellow-300 rounded-2xl p-4 mb-4"},jS={class:"flex items-center gap-3 mb-3"},VS={class:"text-sm text-yellow-700"},BS={key:3,class:"space-y-3 mb-4"},HS={class:"flex justify-between items-start mb-2"},qS={class:"font-bold text-gray-800"},KS={class:"text-sm text-gray-600"},GS={class:"text-lg font-bold text-yellow-600"},WS={class:"flex justify-between items-center"},zS={class:"text-xs text-gray-500"},QS=["onClick"],JS={key:4,class:"bg-white rounded-2xl p-4 shadow-sm mb-4"},XS={key:0,class:"space-y-4"},YS=["disabled"],ZS={key:1,class:"bg-gray-50 rounded-xl p-4"},e4={class:"grid grid-cols-1 gap-3 mb-3"},t4={class:"flex justify-between items-center"},s4={class:"font-bold text-gray-800"},n4={class:"flex justify-between items-center"},r4={class:"font-bold text-gray-800"},o4={class:"flex justify-between items-center pt-2 border-t-2 border-gray-200"},i4={key:0,class:"text-sm text-gray-600 bg-white rounded-lg p-3"},a4={class:"mb-4"},l4={class:"flex items-center justify-between mb-3"},u4={class:"text-sm text-gray-600"},c4={key:0,class:"text-center py-12 bg-white rounded-2xl"},d4={key:1,class:"space-y-3"},f4={class:"flex justify-between items-start mb-3"},p4={class:"font-bold text-gray-800"},h4={class:"text-xs text-gray-500"},g4={class:"text-right"},m4={class:"text-lg font-bold text-green-600"},y4={class:"mb-3"},b4={class:"flex gap-2"},x4=["onClick"],v4=["onClick"],w4=["onClick"],_4={__name:"CashierDashboard",setup(e){const t=Eu(),s=Go(),r=Z(""),o=Z(!1),i=Z(!1),a=Z(!1),l=Z(null),u=Z({actualCash:null,notes:""}),d=J(()=>t.shiftStatus),c=J(()=>s.cashierShifts),f=J(()=>t.payments),w=J(()=>t.pendingDiscrepancies),g=J(()=>t.reconciliation),S=J(()=>t.hasReconciliation),T=J(()=>t.loading),k=J(()=>t.error),U=async()=>{r.value&&await Promise.all([t.getShiftStatus(r.value),t.getPaymentsByShift(r.value)]),await t.getPendingDiscrepancies()},z=async()=>{r.value&&await Promise.all([t.getShiftStatus(r.value),t.getPaymentsByShift(r.value)])},F=$=>{l.value=$,o.value=!0},N=$=>{l.value=$,i.value=!0},L=async $=>{try{await t.overridePayment(l.value.order_id,$),o.value=!1,await U()}catch(m){console.error("Override failed:",m)}},V=async $=>{try{await t.reportDiscrepancy({order_id:l.value.order_id,...$}),i.value=!1,await U()}catch(m){console.error("Report discrepancy failed:",m)}},R=async $=>{if(confirm("Bn c chc mun kha order ny? Khng th hon tc!"))try{await t.lockOrder($),await U()}catch(m){console.error("Lock order failed:",m)}},B=async $=>{if(confirm("Xc nhn  gii quyt sai lch ny?"))try{await t.resolveDiscrepancy($),await U()}catch(m){console.error("Resolve discrepancy failed:",m)}},O=async()=>{if(u.value.actualCash&&confirm("Xc nhn i sot tin mt? Khng th thay i sau khi xc nhn."))try{await t.reconcileCash({shift_id:r.value,actual_cash:u.value.actualCash,notes:u.value.notes}),u.value={actualCash:null,notes:""},await U()}catch($){console.error("Reconciliation failed:",$)}},_=()=>{t.clearError()},v=$=>!$&&$!==0?"0":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format($),p=$=>$?new Date($).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",A=$=>$?new Date($).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}):"N/A",I=$=>({OPEN:" ang m",CLOSURE_INITIATED:" ang ng",CLOSED:"  ng",PAID:"  thu",QUEUED:" Ch pha",IN_PROGRESS:" ang pha",READY:" Sn sng",SERVED:" Hon tt",LOCKED:"  kha"})[$]||$,P=$=>({CASH:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-700 font-medium",TRANSFER:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-700 font-medium",QR:"px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-700 font-medium"})[$]||"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-700 font-medium",Y=$=>({CASH:" Tin mt",TRANSFER:" CK",QR:" QR"})[$]||$,E=$=>({PAID:"px-3 py-1 text-xs rounded-full bg-green-100 text-green-700 font-medium inline-block",QUEUED:"px-3 py-1 text-xs rounded-full bg-yellow-100 text-yellow-700 font-medium inline-block",IN_PROGRESS:"px-3 py-1 text-xs rounded-full bg-blue-100 text-blue-700 font-medium inline-block",READY:"px-3 py-1 text-xs rounded-full bg-purple-100 text-purple-700 font-medium inline-block",SERVED:"px-3 py-1 text-xs rounded-full bg-green-100 text-green-700 font-medium inline-block",LOCKED:"px-3 py-1 text-xs rounded-full bg-red-100 text-red-700 font-medium inline-block"})[$]||"px-3 py-1 text-xs rounded-full bg-gray-100 text-gray-700 font-medium inline-block",j=$=>$>0?"text-green-600":$<0?"text-red-600":"text-gray-600";return Ge(async()=>{await s.fetchMyCashierShifts(),await t.getPendingDiscrepancies()}),($,m)=>(y(),b("div",yS,[n("div",bS,[n("div",xS,[n("div",vS,[m[6]||(m[6]=n("div",null,[n("h1",{class:"text-2xl font-bold text-gray-800"}," Thu ngn"),n("p",{class:"text-sm text-gray-600"},"Gim st & i sot")],-1)),n("button",{onClick:U,disabled:T.value,class:"p-3 bg-yellow-500 text-white rounded-xl shadow-lg active:scale-95 transition-transform disabled:opacity-50"},[n("span",{class:he(["text-xl",{"animate-spin":T.value}])},"",2)],8,wS)])])]),n("div",_S,[k.value?(y(),b("div",CS,[n("div",SS,[n("div",$S,[m[8]||(m[8]=n("span",{class:"text-2xl"},"",-1)),n("div",null,[m[7]||(m[7]=n("p",{class:"font-medium text-red-800"},"Li",-1)),n("p",kS,h(k.value),1)])]),n("button",{onClick:_,class:"text-red-600 text-xl font-bold"},"")])])):W("",!0),ye(V5),n("div",ES,[m[10]||(m[10]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Chn ca thu ngn  xem",-1)),ae(n("select",{"onUpdate:modelValue":m[0]||(m[0]=oe=>r.value=oe),onChange:z,class:"w-full border-2 border-gray-300 rounded-xl px-4 py-3 text-base focus:outline-none focus:border-yellow-500"},[m[9]||(m[9]=n("option",{value:""},"-- Chn ca thu ngn --",-1)),(y(!0),b(de,null,me(c.value,oe=>(y(),b("option",{key:oe.id,value:oe.id},h(p(oe.start_time))+" - "+h(oe.cashier_name)+" - "+h(I(oe.status)),9,TS))),128))],544),[[lt,r.value]])]),d.value?(y(),b("div",OS,[m[15]||(m[15]=n("h2",{class:"text-lg font-bold mb-4"}," Tng quan ca lm",-1)),n("div",RS,[n("div",AS,[n("div",IS,h(d.value.total_orders),1),m[11]||(m[11]=n("div",{class:"text-xs opacity-90"},"Tng n",-1))]),n("div",NS,[n("div",DS,h(v(d.value.total_revenue)),1),m[12]||(m[12]=n("div",{class:"text-xs opacity-90"},"Tng doanh thu",-1))]),n("div",PS,[n("div",LS,h(v(d.value.cash_revenue)),1),m[13]||(m[13]=n("div",{class:"text-xs opacity-90"}," Tin mt",-1))]),n("div",MS,[n("div",US,h(v(d.value.transfer_revenue+d.value.qr_revenue)),1),m[14]||(m[14]=n("div",{class:"text-xs opacity-90"}," Chuyn khon",-1))])])])):W("",!0),w.value.length>0?(y(),b("div",FS,[n("div",jS,[m[17]||(m[17]=n("span",{class:"text-2xl"},"",-1)),n("div",null,[m[16]||(m[16]=n("h3",{class:"font-bold text-yellow-800"},"Sai lch cn x l",-1)),n("p",VS,h(w.value.length)+" sai lch ang ch",1)])]),n("button",{onClick:m[1]||(m[1]=oe=>a.value=!a.value),class:"text-sm text-yellow-700 font-medium underline"},h(a.value?"n":"Xem chi tit")+"  ",1)])):W("",!0),a.value&&w.value.length>0?(y(),b("div",BS,[(y(!0),b(de,null,me(w.value,oe=>{var xe;return y(),b("div",{key:oe.id,class:"bg-white rounded-xl p-4 shadow-sm border-l-4 border-yellow-500"},[n("div",HS,[n("div",null,[n("h4",qS,"Order #"+h((xe=oe.order_id)==null?void 0:xe.slice(-6)),1),n("p",KS,h(oe.reason),1)]),n("span",GS,h(v(oe.amount)),1)]),n("div",WS,[n("span",zS,h(A(oe.reported_at)),1),n("button",{onClick:Ke=>B(oe.id),class:"px-4 py-2 bg-green-500 text-white rounded-lg text-sm font-medium active:scale-95 transition-transform"},"  Gii quyt ",8,QS)])])}),128))])):W("",!0),r.value?(y(),b("div",JS,[m[25]||(m[25]=n("h2",{class:"text-lg font-bold text-gray-800 mb-4"}," i sot tin mt",-1)),S.value?(y(),b("div",ZS,[n("div",e4,[n("div",t4,[m[20]||(m[20]=n("span",{class:"text-sm text-gray-600"},"Tin mt d kin:",-1)),n("span",s4,h(v(g.value.expected_cash)),1)]),n("div",n4,[m[21]||(m[21]=n("span",{class:"text-sm text-gray-600"},"Tin mt thc t:",-1)),n("span",r4,h(v(g.value.actual_cash)),1)]),n("div",o4,[m[22]||(m[22]=n("span",{class:"text-sm font-medium text-gray-700"},"Chnh lch:",-1)),n("span",{class:he([j(g.value.difference),"font-bold text-lg"])},h(v(g.value.difference)),3)])]),g.value.notes?(y(),b("div",i4,[m[23]||(m[23]=n("span",{class:"font-medium"},"Ghi ch:",-1)),Pe(" "+h(g.value.notes),1)])):W("",!0),m[24]||(m[24]=n("div",{class:"mt-3 flex items-center gap-2 text-sm text-green-600"},[n("span",{class:"text-xl"},""),n("span",{class:"font-medium"}," i sot")],-1))])):(y(),b("div",XS,[n("div",null,[m[18]||(m[18]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tin mt thc t",-1)),ae(n("input",{"onUpdate:modelValue":m[2]||(m[2]=oe=>u.value.actualCash=oe),type:"number",step:"1000",class:"w-full border-2 border-gray-300 rounded-xl px-4 py-3 text-base focus:outline-none focus:border-yellow-500",placeholder:"Nhp s tin thc t"},null,512),[[fe,u.value.actualCash,void 0,{number:!0}]])]),n("div",null,[m[19]||(m[19]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ghi ch (ty chn)",-1)),ae(n("textarea",{"onUpdate:modelValue":m[3]||(m[3]=oe=>u.value.notes=oe),rows:"2",class:"w-full border-2 border-gray-300 rounded-xl px-4 py-3 text-base focus:outline-none focus:border-yellow-500",placeholder:"Ghi ch v i sot..."},null,512),[[fe,u.value.notes]])]),n("button",{onClick:O,disabled:!u.value.actualCash,class:"w-full py-4 bg-green-500 text-white rounded-xl font-bold text-base active:scale-95 transition-transform disabled:opacity-50 disabled:cursor-not-allowed"},"  Xc nhn i sot ",8,YS)]))])):W("",!0),n("div",a4,[n("div",l4,[m[26]||(m[26]=n("h2",{class:"text-lg font-bold text-gray-800"}," Danh sch thanh ton",-1)),n("span",u4,h(f.value.length)+" giao dch",1)]),f.value.length===0?(y(),b("div",c4,[...m[27]||(m[27]=[n("div",{class:"text-5xl mb-3"},"",-1),n("p",{class:"text-gray-500"},"Cha c thanh ton no",-1),n("p",{class:"text-sm text-gray-400 mt-1"},"Chn ca lm vic  xem",-1)])])):(y(),b("div",d4,[(y(!0),b(de,null,me(f.value,oe=>(y(),b("div",{key:oe.order_id,class:"bg-white rounded-xl p-4 shadow-sm active:scale-98 transition-transform"},[n("div",f4,[n("div",null,[n("h3",p4,h(oe.customer_name||"Khch l"),1),n("p",h4,h(A(oe.paid_at)),1)]),n("div",g4,[n("div",m4,h(v(oe.amount)),1),n("span",{class:he(P(oe.payment_method))},h(Y(oe.payment_method)),3)])]),n("div",y4,[n("span",{class:he(E(oe.status))},h(I(oe.status)),3)]),n("div",b4,[n("button",{onClick:xe=>F(oe),class:"flex-1 py-2 bg-orange-50 text-orange-600 rounded-lg text-sm font-medium active:scale-95 transition-transform border border-orange-200"},"  iu chnh ",8,x4),n("button",{onClick:xe=>N(oe),class:"flex-1 py-2 bg-yellow-50 text-yellow-600 rounded-lg text-sm font-medium active:scale-95 transition-transform border border-yellow-200"},"  Bo li ",8,v4),n("button",{onClick:xe=>R(oe.order_id),class:"px-4 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-medium active:scale-95 transition-transform border border-red-200"},"  ",8,w4)])]))),128))]))])]),ye(tS,{show:o.value,payment:l.value,onClose:m[4]||(m[4]=oe=>o.value=!1),onConfirm:L},null,8,["show","payment"]),ye(mS,{show:i.value,payment:l.value,onClose:m[5]||(m[5]=oe=>i.value=!1),onConfirm:V},null,8,["show","payment"]),ye(It)]))}},C4=je(_4,[["__scopeId","data-v-982bf7e3"]]);const S4={class:"min-h-screen bg-gray-50"},$4={class:"px-4 py-4 pb-24"},k4={key:0,class:"bg-red-50 border-2 border-red-200 rounded-2xl p-4 mb-4"},E4={class:"flex items-start justify-between"},T4={class:"flex items-start gap-3"},O4={class:"text-sm text-red-600"},R4={class:"space-y-3 mb-4"},A4={class:"bg-white rounded-2xl p-4 shadow-sm"},I4=["value"],N4=["disabled"],D4={class:"bg-white rounded-2xl p-4 shadow-sm"},P4=["disabled"],L4={class:"bg-white rounded-2xl p-4 shadow-sm"},M4=["disabled"],U4={key:1,class:"bg-white rounded-2xl p-4 shadow-sm mb-4"},F4={class:"flex justify-between items-center mb-4"},j4={class:"text-lg font-bold text-gray-800"},V4={id:"report-content",class:"space-y-4"},B4={class:"text-center border-b-2 border-gray-200 pb-4"},H4={class:"text-base font-medium text-gray-700"},q4={class:"text-xs text-gray-500 mt-1"},K4={class:"grid grid-cols-2 gap-3"},G4={class:"bg-blue-50 rounded-xl p-3 text-center"},W4={class:"text-2xl font-bold text-blue-600"},z4={class:"bg-green-50 rounded-xl p-3 text-center"},Q4={class:"text-lg font-bold text-green-600"},J4={class:"bg-yellow-50 rounded-xl p-3 text-center"},X4={class:"text-lg font-bold text-yellow-600"},Y4={class:"bg-purple-50 rounded-xl p-3 text-center"},Z4={class:"text-lg font-bold text-purple-600"},e$={class:"space-y-2"},t$={class:"space-y-2"},s$={class:"flex justify-between items-center bg-gray-50 rounded-lg p-3"},n$={class:"text-right"},r$={class:"font-bold text-gray-800"},o$={class:"text-xs text-gray-500"},i$={class:"flex justify-between items-center bg-gray-50 rounded-lg p-3"},a$={class:"text-right"},l$={class:"font-bold text-gray-800"},u$={class:"text-xs text-gray-500"},c$={class:"flex justify-between items-center bg-gray-50 rounded-lg p-3"},d$={class:"text-right"},f$={class:"font-bold text-gray-800"},p$={class:"text-xs text-gray-500"},h$={key:0,class:"bg-green-50 rounded-xl p-4"},g$={class:"space-y-2"},m$={class:"flex justify-between items-center"},y$={class:"font-medium text-gray-800"},b$={class:"flex justify-between items-center"},x$={class:"font-medium text-gray-800"},v$={class:"flex justify-between items-center pt-2 border-t border-green-200"},w$={key:0,class:"mt-3 text-xs text-gray-600 bg-white rounded-lg p-2"},_$={key:1,class:"space-y-2"},C$={class:"space-y-2"},S$={class:"flex justify-between items-start mb-2"},$$={class:"font-bold text-gray-800"},k$={class:"text-xs text-gray-600"},E$={key:0},T$={class:"text-gray-500 mt-1"},O$={class:"mb-4"},R$={key:0,class:"text-center py-12 bg-white rounded-2xl"},A$={key:1,class:"space-y-3"},I$=["onClick"],N$={class:"flex justify-between items-start mb-2"},D$={class:"font-bold text-gray-800"},P$={class:"text-xs text-gray-500"},L$={class:"flex justify-between items-center"},M$={class:"text-sm text-gray-600"},U$={class:"font-bold text-green-600"},F$={__name:"CashierReports",setup(e){const t=Eu(),s=Ks(),r=Z(""),o=Z(new Date().toISOString().split("T")[0]),i=Z(null),a=Z({toCashierID:"",notes:""}),l=J(()=>t.loading),u=J(()=>t.error),d=J(()=>t.reports),c=J(()=>s.shifts),f=async()=>{var _;try{const v=await t.generateShiftReport(r.value);i.value={...v,title:`Bo co ca ${((_=v.shift)==null?void 0:_.type)||"N/A"}`}}catch(v){console.error("Generate shift report failed:",v)}},w=async()=>{try{const _=await t.getDailyReport(o.value);i.value={..._,title:`Bo co ngy ${z(o.value)}`}}catch(_){console.error("Generate daily report failed:",_)}},g=async()=>{if(confirm("Bn c chc mun bn giao ca? Khng th hon tc!"))try{await t.handoverShift({from_cashier_id:"current_user",to_cashier_id:a.value.toCashierID,notes:a.value.notes}),a.value={toCashierID:"",notes:""},alert(" Bn giao ca thnh cng!")}catch(_){console.error("Handover failed:",_)}},S=_=>{i.value={..._,title:O(_)},window.scrollTo({top:0,behavior:"smooth"})},T=()=>{const _=document.getElementById("report-content"),v=window.open("","_blank");v.document.write(`
    <html>
      <head>
        <title>${i.value.title}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          .text-center { text-align: center; }
          .space-y-4 > * + * { margin-top: 1rem; }
          .grid { display: grid; gap: 0.75rem; }
          .grid-cols-2 { grid-template-columns: repeat(2, 1fr); }
          .p-3 { padding: 0.75rem; }
          .bg-gray-50 { background-color: #f9fafb; }
          .rounded-xl { border-radius: 0.75rem; }
          .font-bold { font-weight: bold; }
          .font-medium { font-weight: 500; }
          .text-xs { font-size: 0.75rem; }
          .text-sm { font-size: 0.875rem; }
          .text-base { font-size: 1rem; }
          .text-lg { font-size: 1.125rem; }
          .text-xl { font-size: 1.25rem; }
          .text-2xl { font-size: 1.5rem; }
          .border-b-2 { border-bottom: 2px solid #e5e7eb; }
          .pb-4 { padding-bottom: 1rem; }
          .mb-2 { margin-bottom: 0.5rem; }
          .mb-3 { margin-bottom: 0.75rem; }
          .mt-1 { margin-top: 0.25rem; }
          .mt-3 { margin-top: 0.75rem; }
        </style>
      </head>
      <body>
        ${_.innerHTML}
      </body>
    </html>
  `),v.document.close(),v.print()},k=()=>{t.clearError()},U=_=>!_&&_!==0?"0":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(_),z=_=>_?new Date(_).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",F=_=>_?new Date(_).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}):"N/A",N=_=>({MORNING:" Ca sng",AFTERNOON:" Ca chiu",EVENING:" Ca ti"})[_]||_,L=(_,v)=>!v||v===0?0:Math.round(_/v*100),V=_=>_>0?"text-green-600":_<0?"text-red-600":"text-gray-600",R=_=>({CANCEL:"px-2 py-1 text-xs rounded-full bg-red-100 text-red-700 font-medium",REFUND:"px-2 py-1 text-xs rounded-full bg-orange-100 text-orange-700 font-medium",OVERRIDE:"px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-700 font-medium",LOCK:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-700 font-medium"})[_]||"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-700 font-medium",B=_=>({CANCEL:" Hy",REFUND:" Hon tin",OVERRIDE:" iu chnh",LOCK:" Kha"})[_]||_,O=_=>_.shift?`Bo co ca ${_.shift.type}`:"Bo co tng hp";return Ge(async()=>{await s.fetchAllShifts()}),(_,v)=>(y(),b("div",S4,[v[28]||(v[28]=No('<div class="sticky top-0 z-40 bg-white shadow-sm" data-v-338bde84><div class="px-4 py-4" data-v-338bde84><div class="flex items-center justify-between" data-v-338bde84><div data-v-338bde84><h1 class="text-2xl font-bold text-gray-800" data-v-338bde84> Bo co</h1><p class="text-sm text-gray-600" data-v-338bde84>Thu ngn &amp; doanh thu</p></div></div></div></div>',1)),n("div",$4,[u.value?(y(),b("div",k4,[n("div",E4,[n("div",T4,[v[5]||(v[5]=n("span",{class:"text-2xl"},"",-1)),n("div",null,[v[4]||(v[4]=n("p",{class:"font-medium text-red-800"},"Li",-1)),n("p",O4,h(u.value),1)])]),n("button",{onClick:k,class:"text-red-600 text-xl font-bold"},"")])])):W("",!0),n("div",R4,[n("div",A4,[v[7]||(v[7]=n("h3",{class:"font-bold text-gray-800 mb-3"}," Bo co ca",-1)),ae(n("select",{"onUpdate:modelValue":v[0]||(v[0]=p=>r.value=p),class:"w-full border-2 border-gray-300 rounded-xl px-4 py-3 text-base mb-3 focus:outline-none focus:border-blue-500"},[v[6]||(v[6]=n("option",{value:""},"-- Chn ca --",-1)),(y(!0),b(de,null,me(c.value,p=>(y(),b("option",{key:p.id,value:p.id},h(N(p.type))+" - "+h(z(p.started_at))+" - "+h(p.user_name),9,I4))),128))],512),[[lt,r.value]]),n("button",{onClick:f,disabled:!r.value||l.value,class:"w-full py-3 bg-blue-500 text-white rounded-xl font-medium active:scale-95 transition-transform disabled:opacity-50 disabled:cursor-not-allowed"},h(l.value?" ang to...":" To bo co ca"),9,N4)]),n("div",D4,[v[8]||(v[8]=n("h3",{class:"font-bold text-gray-800 mb-3"}," Bo co ngy",-1)),ae(n("input",{"onUpdate:modelValue":v[1]||(v[1]=p=>o.value=p),type:"date",class:"w-full border-2 border-gray-300 rounded-xl px-4 py-3 text-base mb-3 focus:outline-none focus:border-green-500"},null,512),[[fe,o.value]]),n("button",{onClick:w,disabled:!o.value||l.value,class:"w-full py-3 bg-green-500 text-white rounded-xl font-medium active:scale-95 transition-transform disabled:opacity-50 disabled:cursor-not-allowed"},h(l.value?" ang to...":" To bo co ngy"),9,P4)]),n("div",L4,[v[9]||(v[9]=n("h3",{class:"font-bold text-gray-800 mb-3"}," Bn giao ca",-1)),ae(n("input",{"onUpdate:modelValue":v[2]||(v[2]=p=>a.value.toCashierID=p),type:"text",placeholder:"ID thu ngn tip nhn",class:"w-full border-2 border-gray-300 rounded-xl px-4 py-3 text-base mb-3 focus:outline-none focus:border-orange-500"},null,512),[[fe,a.value.toCashierID]]),ae(n("textarea",{"onUpdate:modelValue":v[3]||(v[3]=p=>a.value.notes=p),placeholder:"Ghi ch bn giao (ty chn)",rows:"2",class:"w-full border-2 border-gray-300 rounded-xl px-4 py-3 text-base mb-3 focus:outline-none focus:border-orange-500 resize-none"},null,512),[[fe,a.value.notes]]),n("button",{onClick:g,disabled:!a.value.toCashierID||l.value,class:"w-full py-3 bg-orange-500 text-white rounded-xl font-medium active:scale-95 transition-transform disabled:opacity-50 disabled:cursor-not-allowed"},h(l.value?" ang x l...":" Xc nhn bn giao"),9,M4)])]),i.value?(y(),b("div",U4,[n("div",F4,[n("h2",j4,h(i.value.title),1),n("button",{onClick:T,class:"p-2 bg-gray-100 text-gray-700 rounded-lg active:scale-95 transition-transform"},"  ")]),n("div",V4,[n("div",B4,[v[10]||(v[10]=n("h1",{class:"text-xl font-bold text-gray-800"},"QUN CAF",-1)),n("h2",H4,h(i.value.title),1),n("p",q4,h(F(i.value.generated_at)),1)]),n("div",K4,[n("div",G4,[n("div",W4,h(i.value.total_orders),1),v[11]||(v[11]=n("div",{class:"text-xs text-gray-600"},"Tng n",-1))]),n("div",z4,[n("div",Q4,h(U(i.value.total_revenue)),1),v[12]||(v[12]=n("div",{class:"text-xs text-gray-600"},"Doanh thu",-1))]),n("div",J4,[n("div",X4,h(U(i.value.cash_revenue)),1),v[13]||(v[13]=n("div",{class:"text-xs text-gray-600"}," Tin mt",-1))]),n("div",Y4,[n("div",Z4,h(U(i.value.transfer_revenue+i.value.qr_revenue)),1),v[14]||(v[14]=n("div",{class:"text-xs text-gray-600"}," Chuyn khon",-1))])]),n("div",e$,[v[18]||(v[18]=n("h3",{class:"font-bold text-gray-800 text-sm"},"Chi tit thanh ton",-1)),n("div",t$,[n("div",s$,[v[15]||(v[15]=n("span",{class:"text-sm text-gray-700"}," Tin mt",-1)),n("div",n$,[n("div",r$,h(U(i.value.cash_revenue)),1),n("div",o$,h(L(i.value.cash_revenue,i.value.total_revenue))+"%",1)])]),n("div",i$,[v[16]||(v[16]=n("span",{class:"text-sm text-gray-700"}," Chuyn khon",-1)),n("div",a$,[n("div",l$,h(U(i.value.transfer_revenue)),1),n("div",u$,h(L(i.value.transfer_revenue,i.value.total_revenue))+"%",1)])]),n("div",c$,[v[17]||(v[17]=n("span",{class:"text-sm text-gray-700"}," QR Code",-1)),n("div",d$,[n("div",f$,h(U(i.value.qr_revenue)),1),n("div",p$,h(L(i.value.qr_revenue,i.value.total_revenue))+"%",1)])])])]),i.value.reconciliation?(y(),b("div",h$,[v[23]||(v[23]=n("h3",{class:"font-bold text-gray-800 text-sm mb-3"}," i sot tin mt",-1)),n("div",g$,[n("div",m$,[v[19]||(v[19]=n("span",{class:"text-sm text-gray-600"},"D kin:",-1)),n("span",y$,h(U(i.value.reconciliation.expected_cash)),1)]),n("div",b$,[v[20]||(v[20]=n("span",{class:"text-sm text-gray-600"},"Thc t:",-1)),n("span",x$,h(U(i.value.reconciliation.actual_cash)),1)]),n("div",v$,[v[21]||(v[21]=n("span",{class:"text-sm font-medium text-gray-700"},"Chnh lch:",-1)),n("span",{class:he([V(i.value.reconciliation.difference),"font-bold"])},h(U(i.value.reconciliation.difference)),3)])]),i.value.reconciliation.notes?(y(),b("div",w$,[v[22]||(v[22]=n("span",{class:"font-medium"},"Ghi ch:",-1)),Pe(" "+h(i.value.reconciliation.notes),1)])):W("",!0)])):W("",!0),i.value.audits&&i.value.audits.length>0?(y(),b("div",_$,[v[24]||(v[24]=n("h3",{class:"font-bold text-gray-800 text-sm"}," Nht k kim ton",-1)),n("div",C$,[(y(!0),b(de,null,me(i.value.audits,p=>{var A;return y(),b("div",{key:p.id,class:"bg-gray-50 rounded-lg p-3"},[n("div",S$,[n("span",{class:he(R(p.action))},h(B(p.action)),3),n("span",$$,h(U(p.amount)),1)]),n("div",k$,[n("div",null,"Order: #"+h((A=p.order_id)==null?void 0:A.slice(-6)),1),p.reason?(y(),b("div",E$,"L do: "+h(p.reason),1)):W("",!0),n("div",T$,h(F(p.audited_at)),1)])])}),128))])])):W("",!0)])])):W("",!0),n("div",O$,[v[27]||(v[27]=n("h2",{class:"text-lg font-bold text-gray-800 mb-3"}," Lch s bo co",-1)),d.value.length===0?(y(),b("div",R$,[...v[25]||(v[25]=[n("div",{class:"text-5xl mb-3"},"",-1),n("p",{class:"text-gray-500"},"Cha c bo co no",-1),n("p",{class:"text-sm text-gray-400 mt-1"},"To bo co mi  trn",-1)])])):(y(),b("div",A$,[(y(!0),b(de,null,me(d.value,p=>(y(),b("div",{key:p.generated_at,onClick:A=>S(p),class:"bg-white rounded-xl p-4 shadow-sm active:scale-98 transition-transform"},[n("div",N$,[n("div",null,[n("h3",D$,h(O(p)),1),n("p",P$,h(F(p.generated_at)),1)]),v[26]||(v[26]=n("span",{class:"text-sm text-blue-500 font-medium"},"Xem ",-1))]),n("div",L$,[n("span",M$,h(p.total_orders)+" n hng",1),n("span",U$,h(U(p.total_revenue)),1)])],8,I$))),128))]))])]),ye(It)]))}},j$=je(F$,[["__scopeId","data-v-338bde84"]]);const V$={class:"min-h-screen bg-gray-50"},B$={class:"px-4 py-4 pb-24"},H$={key:0,class:"text-center py-12"},q$={key:1,class:"bg-red-50 border-2 border-red-200 rounded-2xl p-4 mb-4"},K$={class:"flex items-start gap-3"},G$={class:"text-sm text-red-600"},W$={key:2,class:"space-y-4"},z$={class:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-2xl p-6 shadow-lg"},Q$={class:"grid grid-cols-2 gap-3"},J$={class:"bg-white/20 rounded-xl p-3 backdrop-blur-sm"},X$={class:"text-sm font-bold"},Y$={class:"bg-white/20 rounded-xl p-3 backdrop-blur-sm"},Z$={class:"text-sm font-bold"},ek={class:"bg-white/20 rounded-xl p-3 backdrop-blur-sm"},tk={class:"text-sm font-bold"},sk={class:"bg-white/20 rounded-xl p-3 backdrop-blur-sm"},nk={class:"text-sm font-bold"},rk={key:0,class:"bg-white rounded-2xl p-6 shadow-sm"},ok=["disabled"],ik={key:1,class:"bg-white rounded-2xl p-6 shadow-sm"},ak={class:"mb-4"},lk=["disabled"],uk={key:2,class:"bg-white rounded-2xl p-6 shadow-sm"},ck={class:"bg-yellow-50 border-2 border-yellow-300 rounded-xl p-4 mb-4"},dk={class:"flex items-center justify-between"},fk={class:"space-y-4"},pk={class:"text-xs text-gray-500 mt-1"},hk=["disabled"],gk={key:3,class:"bg-white rounded-2xl p-6 shadow-sm"},mk=["disabled"],yk={key:4,class:"bg-white rounded-2xl p-6 shadow-sm"},bk={key:0,class:"bg-red-50 border-2 border-red-300 rounded-xl p-4 mb-4"},xk={class:"flex items-start gap-3 mb-3"},vk={class:"text-sm text-red-700 mb-2"},wk={class:"text-sm text-red-700 list-disc list-inside"},_k=["disabled"],Ck={key:5,class:"bg-white rounded-2xl p-6 shadow-sm text-center"},Sk={class:"text-sm text-gray-600 mb-4"},$k={__name:"CashierShiftClosure",setup(e){const t=ps(),s=Jl(),r=Z(null),o=Z(!0),i=Z(null),a=Z(!1),l=Z(null),u=Z(null),d=Z(""),c=Z(""),f=J(()=>!r.value||r.value.status!=="CLOSURE_INITIATED"||!r.value.actual_cash||r.value.confirmation?!1:r.value.variance&&r.value.variance.amount!==0?r.value.variance.reason!==null:!0),w=J(()=>!r.value||r.value.status!=="CLOSURE_INITIATED"?!1:r.value.confirmation!==null),g=async()=>{var O,_;o.value=!0,i.value=null;try{const v=s.params.id,p=await pt.getCashierShift(v);r.value=p}catch(v){i.value=((_=(O=v.response)==null?void 0:O.data)==null?void 0:_.error)||"Khng th ti thng tin ca lm"}finally{o.value=!1}},S=async()=>{var O,_;a.value=!0,i.value=null;try{await pt.initiateClosure(r.value.id),await g()}catch(v){i.value=((_=(O=v.response)==null?void 0:O.data)==null?void 0:_.error)||"Khng th bt u ng ca"}finally{a.value=!1}},T=async()=>{var O,_;a.value=!0,i.value=null;try{await pt.recordActualCash(r.value.id,u.value),await g()}catch(v){i.value=((_=(O=v.response)==null?void 0:O.data)==null?void 0:_.error)||"Khng th ghi nhn tin mt"}finally{a.value=!1}},k=async()=>{var O,_;a.value=!0,i.value=null;try{await pt.documentVariance(r.value.id,{reason:d.value,notes:c.value}),await g()}catch(v){i.value=((_=(O=v.response)==null?void 0:O.data)==null?void 0:_.error)||"Khng th ghi nhn gii trnh"}finally{a.value=!1}},U=async()=>{var O,_;a.value=!0,i.value=null;try{await pt.confirmResponsibility(r.value.id),await g()}catch(v){i.value=((_=(O=v.response)==null?void 0:O.data)==null?void 0:_.error)||"Khng th xc nhn trch nhim"}finally{a.value=!1}},z=async()=>{var O,_;try{const v=await pt.checkWaiterShifts();if(l.value=v,!v.can_close){const p=v.open_shifts.map(I=>`- ${I.user_name} (${I.role_type})`).join(`
`),A=`Khng th ng ca thu ngn!

Cn ${v.open_count} ca waiter ang m:
${p}

Vui lng ng tt c ca waiter trc.`;alert(A);return}}catch{i.value="Khng th kim tra trng thi ca waiter";return}if(confirm("Bn c chc mun ng ca? Khng th hon tc sau khi ng.")){a.value=!0,i.value=null;try{await pt.closeShift(r.value.id),await g()}catch(v){i.value=((_=(O=v.response)==null?void 0:O.data)==null?void 0:_.error)||"Khng th ng ca"}finally{a.value=!1}}},F=()=>{t.push("/cashier")},N=O=>!O&&O!==0?"0":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(O),L=O=>O?new Date(O).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",V=O=>({OPEN:" ang m",CLOSURE_INITIATED:" ang ng",CLOSED:"  ng"})[O]||O,R=O=>O>0?"text-green-600":O<0?"text-red-600":"text-gray-600";Ge(()=>{g(),B()});const B=async()=>{try{const O=await pt.checkWaiterShifts();l.value=O}catch(O){console.error("Failed to check waiter shifts:",O)}};return(O,_)=>(y(),b("div",V$,[n("div",{class:"sticky top-0 z-40 bg-white shadow-sm"},[n("div",{class:"px-4 py-4"},[n("div",{class:"flex items-center gap-3"},[n("button",{onClick:F,class:"p-2 text-gray-600 active:scale-95 transition-transform"},"  Quay li "),_[3]||(_[3]=n("div",null,[n("h1",{class:"text-2xl font-bold text-gray-800"}," ng ca thu ngn"),n("p",{class:"text-sm text-gray-600"},"Quy trnh ng ca")],-1))])])]),n("div",B$,[o.value?(y(),b("div",H$,[..._[4]||(_[4]=[n("div",{class:"animate-spin text-5xl mb-3"},"",-1),n("p",{class:"text-gray-600"},"ang ti...",-1)])])):i.value?(y(),b("div",q$,[n("div",K$,[_[6]||(_[6]=n("span",{class:"text-2xl"},"",-1)),n("div",null,[_[5]||(_[5]=n("p",{class:"font-medium text-red-800"},"Li",-1)),n("p",G$,h(i.value),1)])])])):r.value?(y(),b("div",W$,[n("div",z$,[_[11]||(_[11]=n("h2",{class:"text-lg font-bold mb-4"}," Thng tin ca lm",-1)),n("div",Q$,[n("div",J$,[_[7]||(_[7]=n("p",{class:"text-xs opacity-90"},"Thu ngn",-1)),n("p",X$,h(r.value.cashier_name),1)]),n("div",Y$,[_[8]||(_[8]=n("p",{class:"text-xs opacity-90"},"Trng thi",-1)),n("p",Z$,h(V(r.value.status)),1)]),n("div",ek,[_[9]||(_[9]=n("p",{class:"text-xs opacity-90"},"Tin u ca",-1)),n("p",tk,h(N(r.value.starting_float)),1)]),n("div",sk,[_[10]||(_[10]=n("p",{class:"text-xs opacity-90"},"Tin h thng",-1)),n("p",nk,h(N(r.value.system_cash)),1)])])]),r.value.status==="OPEN"?(y(),b("div",rk,[_[12]||(_[12]=n("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"Bc 1: Bt u ng ca",-1)),_[13]||(_[13]=n("p",{class:"text-sm text-gray-600 mb-4"}," Xc nhn bt u quy trnh ng ca. Sau khi bt u, bn cn hon thnh tt c cc bc. ",-1)),n("button",{onClick:S,disabled:a.value,class:"w-full py-4 bg-yellow-500 text-white rounded-xl font-bold active:scale-95 transition-transform disabled:opacity-50"},h(a.value?"ang x l...":" Bt u ng ca"),9,ok)])):W("",!0),r.value.status==="CLOSURE_INITIATED"&&!r.value.actual_cash?(y(),b("div",ik,[_[15]||(_[15]=n("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"Bc 2: Nhp tin thc t",-1)),_[16]||(_[16]=n("p",{class:"text-sm text-gray-600 mb-4"}," m tin mt trong kt v nhp s tin thc t. ",-1)),n("div",ak,[_[14]||(_[14]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[Pe(" Tin mt thc t (VN) "),n("span",{class:"text-red-500"},"*")],-1)),ae(n("input",{"onUpdate:modelValue":_[0]||(_[0]=v=>u.value=v),type:"number",step:"1000",min:"0",class:"w-full border-2 border-gray-300 rounded-xl px-4 py-3 text-base focus:outline-none focus:border-yellow-500",placeholder:"Nhp s tin thc t"},null,512),[[fe,u.value,void 0,{number:!0}]])]),n("button",{onClick:T,disabled:!u.value||a.value,class:"w-full py-4 bg-green-500 text-white rounded-xl font-bold active:scale-95 transition-transform disabled:opacity-50"},h(a.value?"ang x l...":" Xc nhn tin mt"),9,lk)])):W("",!0),r.value.variance&&r.value.variance.amount!==0&&!r.value.variance.reason?(y(),b("div",uk,[_[21]||(_[21]=n("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"Bc 3: Gii trnh chnh lch",-1)),n("div",ck,[n("div",dk,[_[17]||(_[17]=n("span",{class:"text-sm font-medium text-yellow-800"},"Chnh lch:",-1)),n("span",{class:he([R(r.value.variance.amount),"text-lg font-bold"])},h(N(r.value.variance.amount)),3)])]),n("div",fk,[n("div",null,[_[19]||(_[19]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[Pe(" L do "),n("span",{class:"text-red-500"},"*")],-1)),ae(n("select",{"onUpdate:modelValue":_[1]||(_[1]=v=>d.value=v),class:"w-full border-2 border-gray-300 rounded-xl px-4 py-3 text-base focus:outline-none focus:border-yellow-500"},[..._[18]||(_[18]=[No('<option value="" data-v-10bfc18a>-- Chn l do --</option><option value="COUNTING_ERROR" data-v-10bfc18a>Li m tin</option><option value="UNRECORDED_SALE" data-v-10bfc18a>Bn hng cha ghi nhn</option><option value="THEFT" data-v-10bfc18a>Mt cp</option><option value="CHANGE_ERROR" data-v-10bfc18a>Li tr tin tha</option><option value="SYSTEM_ERROR" data-v-10bfc18a>Li h thng</option><option value="OTHER" data-v-10bfc18a>Khc</option>',7)])],512),[[lt,d.value]])]),n("div",null,[_[20]||(_[20]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[Pe(" Ghi ch chi tit "),n("span",{class:"text-red-500"},"*")],-1)),ae(n("textarea",{"onUpdate:modelValue":_[2]||(_[2]=v=>c.value=v),rows:"4",class:"w-full border-2 border-gray-300 rounded-xl px-4 py-3 text-base focus:outline-none focus:border-yellow-500",placeholder:"M t chi tit v chnh lch (ti thiu 10 k t)"},null,512),[[fe,c.value]]),n("p",pk,h(c.value.length)+" / 10 k t",1)]),n("button",{onClick:k,disabled:!d.value||c.value.length<10||a.value,class:"w-full py-4 bg-orange-500 text-white rounded-xl font-bold active:scale-95 transition-transform disabled:opacity-50"},h(a.value?"ang x l...":" Ghi nhn gii trnh"),9,hk)])])):W("",!0),f.value?(y(),b("div",gk,[_[22]||(_[22]=n("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"Bc 4: Xc nhn trch nhim",-1)),_[23]||(_[23]=n("div",{class:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 mb-4"},[n("p",{class:"text-sm text-blue-800"}," Ti xc nhn rng ti  kim tra k lng v chu trch nhim v s liu ti chnh trong ca lm vic ny. ")],-1)),n("button",{onClick:U,disabled:a.value,class:"w-full py-4 bg-blue-500 text-white rounded-xl font-bold active:scale-95 transition-transform disabled:opacity-50"},h(a.value?"ang x l...":" Ti xc nhn"),9,mk)])):W("",!0),w.value?(y(),b("div",yk,[_[27]||(_[27]=n("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"Bc 5: Hon tt ng ca",-1)),l.value&&!l.value.can_close?(y(),b("div",bk,[n("div",xk,[_[25]||(_[25]=n("span",{class:"text-2xl"},"",-1)),n("div",null,[_[24]||(_[24]=n("p",{class:"font-bold text-red-800 mb-2"},"Khng th ng ca!",-1)),n("p",vk," Cn "+h(l.value.open_count)+" ca waiter ang m: ",1),n("ul",wk,[(y(!0),b(de,null,me(l.value.open_shifts,v=>(y(),b("li",{key:v.id},h(v.user_name)+" ("+h(v.role_type)+") ",1))),128))])])]),_[26]||(_[26]=n("p",{class:"text-xs text-red-600"}," Vui lng ng tt c ca waiter trc khi ng ca thu ngn. ",-1))])):W("",!0),_[28]||(_[28]=n("div",{class:"bg-green-50 border-2 border-green-200 rounded-xl p-4 mb-4"},[n("p",{class:"text-sm text-green-800 mb-2"},"  Tt c cc bc  hon thnh. Bn c th ng ca ngay by gi. "),n("p",{class:"text-xs text-green-700"}," Lu : Sau khi ng ca, bn khng th thay i thng tin. ")],-1)),n("button",{onClick:z,disabled:a.value,class:"w-full py-4 bg-red-500 text-white rounded-xl font-bold active:scale-95 transition-transform disabled:opacity-50"},h(a.value?"ang x l...":" ng ca"),9,_k)])):W("",!0),r.value.status==="CLOSED"?(y(),b("div",Ck,[_[29]||(_[29]=n("div",{class:"text-6xl mb-4"},"",-1)),_[30]||(_[30]=n("h3",{class:"text-xl font-bold text-gray-800 mb-2"},"Ca lm  ng",-1)),n("p",Sk," Ca lm vic  c ng thnh cng vo "+h(L(r.value.end_time)),1),n("button",{onClick:F,class:"px-6 py-3 bg-yellow-500 text-white rounded-xl font-bold active:scale-95 transition-transform"}," Quay li Dashboard ")])):W("",!0)])):W("",!0)])]))}},kk=je($k,[["__scopeId","data-v-10bfc18a"]]),Mt={async createUser(e){return(await H.post("/manager/users",e)).data},async getAllUsers(){return(await H.get("/manager/users")).data},async getUser(e){return(await H.get(`/manager/users/${e}`)).data},async updateUser(e,t){return(await H.put(`/manager/users/${e}`,t)).data},async resetPassword(e,t){return(await H.post(`/manager/users/${e}/reset-password`,{new_password:t})).data},async toggleUserStatus(e){return(await H.post(`/manager/users/${e}/toggle-status`)).data},async deleteUser(e){return(await H.delete(`/manager/users/${e}`)).data},async getUsersByRole(e){return(await H.get(`/manager/users/by-role?role=${e}`)).data},async getActiveUsers(){return(await H.get("/manager/users/active")).data},async getCurrentUser(){return(await H.get("/profile")).data},async changePassword(e,t){return(await H.post("/change-password",{current_password:e,new_password:t})).data}},Tu=Rt("user",{state:()=>({users:[],currentUser:null,loading:!1,error:null}),actions:{async fetchUsers(){var e,t;this.loading=!0,this.error=null;try{this.users=await Mt.getAllUsers()||[]}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti danh sch user",this.users=[]}finally{this.loading=!1}},async createUser(e){var t,s;this.error=null;try{const r=await Mt.createUser(e);return this.users.unshift(r),r}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li to user",r}},async updateUser(e,t){var s,r;this.error=null;try{const o=await Mt.updateUser(e,t);return this.updateUserInList(o),o}catch(o){throw this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li cp nht user",o}},async resetPassword(e,t){var s,r;this.error=null;try{return await Mt.resetPassword(e,t),!0}catch(o){throw this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li reset password",o}},async toggleUserStatus(e){var t,s;this.error=null;try{const r=await Mt.toggleUserStatus(e);return this.updateUserInList(r),r}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li thay i trng thi user",r}},async deleteUser(e){var t,s;this.error=null;try{return await Mt.deleteUser(e),this.users=this.users.filter(r=>r.id!==e),!0}catch(r){throw this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li xa user",r}},async fetchUsersByRole(e){var t,s;this.loading=!0,this.error=null;try{this.users=await Mt.getUsersByRole(e)||[]}catch(r){this.error=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.error)||"Li ti users theo role",this.users=[]}finally{this.loading=!1}},async fetchActiveUsers(){var e,t;this.loading=!0,this.error=null;try{this.users=await Mt.getActiveUsers()||[]}catch(s){this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti active users",this.users=[]}finally{this.loading=!1}},async fetchCurrentUser(){var e,t;this.error=null;try{return this.currentUser=await Mt.getCurrentUser(),this.currentUser}catch(s){throw this.error=((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.error)||"Li ti thng tin user",s}},async changePassword(e,t){var s,r;this.error=null;try{return await Mt.changePassword(e,t),!0}catch(o){throw this.error=((r=(s=o.response)==null?void 0:s.data)==null?void 0:r.error)||"Li i mt khu",o}},updateUserInList(e){const t=this.users.findIndex(s=>s.id===e.id);t!==-1&&(this.users[t]=e)},setCurrentUser(e){this.currentUser=e},clearError(){this.error=null}},getters:{usersByRole:e=>t=>e.users.filter(s=>s.role===t),activeUsers:e=>e.users.filter(t=>t.active),inactiveUsers:e=>e.users.filter(t=>!t.active),managers:e=>e.users.filter(t=>t.role==="manager"),cashiers:e=>e.users.filter(t=>t.role==="cashier"),waiters:e=>e.users.filter(t=>t.role==="waiter")}});const Ek={class:"min-h-screen bg-gray-100"},Tk={class:"p-4"},Ok={class:"flex justify-between items-center mb-6"},Rk={class:"flex gap-2 mb-4 overflow-x-auto"},Ak=["onClick"],Ik={key:0,class:"text-center py-10"},Nk={key:1,class:"text-center py-10 text-gray-500"},Dk={key:2,class:"grid gap-4"},Pk={class:"flex justify-between items-start mb-3"},Lk={class:"flex-1"},Mk={class:"flex items-center gap-3 mb-2"},Uk={class:"font-bold text-lg"},Fk={class:"text-sm text-gray-600 mb-1"},jk={class:"text-sm text-gray-500"},Vk={key:0,class:"text-sm text-gray-500"},Bk={class:"flex gap-2"},Hk=["onClick"],qk=["onClick"],Kk=["onClick"],Gk=["onClick"],Wk={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},zk={class:"bg-white rounded-xl p-6 w-full max-w-md"},Qk={class:"flex items-center"},Jk={class:"flex gap-2"},Xk={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Yk={class:"bg-white rounded-xl p-6 w-full max-w-md"},Zk=["value"],eE={class:"flex items-center"},tE={class:"flex gap-2"},sE={key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},nE={class:"bg-white rounded-xl p-6 w-full max-w-md"},rE={class:"text-gray-600 mb-4"},oE={class:"flex gap-2"},iE={key:6,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},aE={class:"bg-white rounded-xl p-6 w-full max-w-md"},lE={class:"text-gray-600 mb-4"},uE={class:"flex gap-2"},cE={__name:"UserManagementView",setup(e){const t=Tu(),s=Z(!1),r=Z(!1),o=Z(!1),i=Z(!1),a=Z(null),l=Z("ALL"),u=Z({username:"",password:"",name:"",role:"",active:!0}),d=Z({id:"",username:"",name:"",role:"",active:!0}),c=Z({newPassword:""}),f=[{value:"ALL",label:"Tt c"},{value:"ACTIVE",label:"Hot ng"},{value:"INACTIVE",label:"Tm kha"},{value:"MANAGER",label:"Manager"},{value:"CASHIER",label:"Cashier"},{value:"WAITER",label:"Waiter"}],w=J(()=>t.loading),g=J(()=>t.users),S=J(()=>{switch(l.value){case"ACTIVE":return g.value.filter(v=>v.active);case"INACTIVE":return g.value.filter(v=>!v.active);case"MANAGER":return g.value.filter(v=>v.role==="manager");case"CASHIER":return g.value.filter(v=>v.role==="cashier");case"WAITER":return g.value.filter(v=>v.role==="waiter");default:return g.value}});Ge(async()=>{await t.fetchUsers()});const T=async()=>{var v,p;try{await t.createUser(u.value),s.value=!1,u.value={username:"",password:"",name:"",role:"",active:!0},alert("To user thnh cng!")}catch(A){alert("Li: "+(((p=(v=A.response)==null?void 0:v.data)==null?void 0:p.error)||A.message))}},k=v=>{a.value=v,d.value={id:v.id,username:v.username,name:v.name,role:v.role,active:v.active},r.value=!0},U=async()=>{try{await t.updateUser(d.value.id,{name:d.value.name,role:d.value.role,active:d.value.active}),r.value=!1,a.value=null,alert("Cp nht user thnh cng!")}catch(v){alert("Li: "+v.message)}},z=v=>{a.value=v,c.value.newPassword="",o.value=!0},F=async()=>{try{await t.resetPassword(a.value.id,c.value.newPassword),o.value=!1,a.value=null,c.value.newPassword="",alert("Reset password thnh cng!")}catch(v){alert("Li: "+v.message)}},N=async v=>{try{await t.toggleUserStatus(v.id),alert(`${v.active?"Kha":"M kha"} user thnh cng!`)}catch(p){alert("Li: "+p.message)}},L=v=>{a.value=v,i.value=!0},V=async()=>{try{await t.deleteUser(a.value.id),i.value=!1,a.value=null,alert("Xa user thnh cng!")}catch(v){alert("Li: "+v.message)}},R=v=>{switch(v){case"ACTIVE":return g.value.filter(p=>p.active).length;case"INACTIVE":return g.value.filter(p=>!p.active).length;case"MANAGER":return g.value.filter(p=>p.role==="manager").length;case"CASHIER":return g.value.filter(p=>p.role==="cashier").length;case"WAITER":return g.value.filter(p=>p.role==="waiter").length;default:return g.value.length}},B=v=>({manager:"bg-purple-100 text-purple-800",cashier:"bg-blue-100 text-blue-800",waiter:"bg-green-100 text-green-800"})[v]||"bg-gray-100 text-gray-800",O=v=>({manager:"Manager",cashier:"Cashier",waiter:"Waiter"})[v]||v,_=v=>new Date(v).toLocaleString("vi-VN");return(v,p)=>{var A,I;return y(),b("div",Ek,[ye(Cu),n("div",Tk,[n("div",Ok,[p[14]||(p[14]=n("h2",{class:"text-2xl font-bold text-gray-800"}," Qun l User",-1)),n("button",{onClick:p[0]||(p[0]=P=>s.value=!0),class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium"}," + Thm User ")]),n("div",Rk,[(y(),b(de,null,me(f,P=>n("button",{key:P.value,onClick:Y=>l.value=P.value,class:he([l.value===P.value?"bg-blue-500 text-white":"bg-white text-gray-700","px-4 py-2 rounded-lg font-medium whitespace-nowrap border"])},h(P.label)+" ("+h(R(P.value))+") ",11,Ak)),64))]),w.value?(y(),b("div",Ik,"ang ti...")):S.value.length===0?(y(),b("div",Nk,"Khng c user no")):(y(),b("div",Dk,[(y(!0),b(de,null,me(S.value,P=>(y(),b("div",{key:P.id,class:"bg-white rounded-xl p-4 shadow-sm"},[n("div",Pk,[n("div",Lk,[n("div",Mk,[n("h3",Uk,h(P.name),1),n("span",{class:he([B(P.role),"px-2 py-1 rounded-full text-xs font-medium"])},h(O(P.role)),3),n("span",{class:he([P.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800","px-2 py-1 rounded-full text-xs font-medium"])},h(P.active?"Hot ng":"Tm kha"),3)]),n("p",Fk,"Username: "+h(P.username),1),n("p",jk,"To: "+h(_(P.created_at)),1),P.last_login?(y(),b("p",Vk,"ng nhp cui: "+h(_(P.last_login)),1)):W("",!0)]),n("div",Bk,[n("button",{onClick:Y=>k(P),class:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm"},"  Sa ",8,Hk),n("button",{onClick:Y=>z(P),class:"bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded text-sm"},"  Reset PW ",8,qk),n("button",{onClick:Y=>N(P),class:he([P.active?"bg-orange-500 hover:bg-orange-600":"bg-green-500 hover:bg-green-600","text-white px-3 py-1 rounded text-sm"])},h(P.active?" Kha":" M"),11,Kk),n("button",{onClick:Y=>L(P),class:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm"},"  Xa ",8,Gk)])])]))),128))])),s.value?(y(),b("div",Wk,[n("div",zk,[p[22]||(p[22]=n("h3",{class:"text-xl font-bold mb-4"},"Thm User Mi",-1)),n("form",{onSubmit:ze(T,["prevent"]),class:"space-y-4"},[n("div",null,[p[15]||(p[15]=n("label",{class:"block text-sm font-medium mb-2"},"Username *",-1)),ae(n("input",{"onUpdate:modelValue":p[1]||(p[1]=P=>u.value.username=P),type:"text",required:"",minlength:"3",maxlength:"50",class:"w-full p-3 border rounded-lg",placeholder:"Nhp username"},null,512),[[fe,u.value.username]])]),n("div",null,[p[16]||(p[16]=n("label",{class:"block text-sm font-medium mb-2"},"Mt khu *",-1)),ae(n("input",{"onUpdate:modelValue":p[2]||(p[2]=P=>u.value.password=P),type:"password",required:"",minlength:"6",class:"w-full p-3 border rounded-lg",placeholder:"Nhp mt khu"},null,512),[[fe,u.value.password]])]),n("div",null,[p[17]||(p[17]=n("label",{class:"block text-sm font-medium mb-2"},"Tn hin th *",-1)),ae(n("input",{"onUpdate:modelValue":p[3]||(p[3]=P=>u.value.name=P),type:"text",required:"",minlength:"2",maxlength:"100",class:"w-full p-3 border rounded-lg",placeholder:"Nhp tn hin th"},null,512),[[fe,u.value.name]])]),n("div",null,[p[19]||(p[19]=n("label",{class:"block text-sm font-medium mb-2"},"Vai tr *",-1)),ae(n("select",{"onUpdate:modelValue":p[4]||(p[4]=P=>u.value.role=P),required:"",class:"w-full p-3 border rounded-lg"},[...p[18]||(p[18]=[n("option",{value:""},"-- Chn vai tr --",-1),n("option",{value:"manager"},"Manager",-1),n("option",{value:"cashier"},"Cashier",-1),n("option",{value:"waiter"},"Waiter",-1)])],512),[[lt,u.value.role]])]),n("div",Qk,[ae(n("input",{"onUpdate:modelValue":p[5]||(p[5]=P=>u.value.active=P),type:"checkbox",id:"active",class:"mr-2"},null,512),[[Di,u.value.active]]),p[20]||(p[20]=n("label",{for:"active",class:"text-sm"},"Kch hot ngay",-1))]),n("div",Jk,[n("button",{type:"button",onClick:p[6]||(p[6]=P=>s.value=!1),class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"}," Hy "),p[21]||(p[21]=n("button",{type:"submit",class:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg"}," To User ",-1))])],32)])])):W("",!0),r.value?(y(),b("div",Xk,[n("div",Yk,[p[29]||(p[29]=n("h3",{class:"text-xl font-bold mb-4"},"Chnh sa User",-1)),n("form",{onSubmit:ze(U,["prevent"]),class:"space-y-4"},[n("div",null,[p[23]||(p[23]=n("label",{class:"block text-sm font-medium mb-2"},"Username",-1)),n("input",{value:d.value.username,disabled:"",class:"w-full p-3 border rounded-lg bg-gray-100"},null,8,Zk)]),n("div",null,[p[24]||(p[24]=n("label",{class:"block text-sm font-medium mb-2"},"Tn hin th *",-1)),ae(n("input",{"onUpdate:modelValue":p[7]||(p[7]=P=>d.value.name=P),type:"text",required:"",minlength:"2",maxlength:"100",class:"w-full p-3 border rounded-lg",placeholder:"Nhp tn hin th"},null,512),[[fe,d.value.name]])]),n("div",null,[p[26]||(p[26]=n("label",{class:"block text-sm font-medium mb-2"},"Vai tr *",-1)),ae(n("select",{"onUpdate:modelValue":p[8]||(p[8]=P=>d.value.role=P),required:"",class:"w-full p-3 border rounded-lg"},[...p[25]||(p[25]=[n("option",{value:"manager"},"Manager",-1),n("option",{value:"cashier"},"Cashier",-1),n("option",{value:"waiter"},"Waiter",-1)])],512),[[lt,d.value.role]])]),n("div",eE,[ae(n("input",{"onUpdate:modelValue":p[9]||(p[9]=P=>d.value.active=P),type:"checkbox",id:"editActive",class:"mr-2"},null,512),[[Di,d.value.active]]),p[27]||(p[27]=n("label",{for:"editActive",class:"text-sm"},"Kch hot",-1))]),n("div",tE,[n("button",{type:"button",onClick:p[10]||(p[10]=P=>r.value=!1),class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"}," Hy "),p[28]||(p[28]=n("button",{type:"submit",class:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg"}," Cp nht ",-1))])],32)])])):W("",!0),o.value?(y(),b("div",sE,[n("div",nE,[p[33]||(p[33]=n("h3",{class:"text-xl font-bold mb-4"},"Reset Mt khu",-1)),n("p",rE,[p[30]||(p[30]=Pe("Reset mt khu cho: ",-1)),n("strong",null,h((A=a.value)==null?void 0:A.name),1)]),n("form",{onSubmit:ze(F,["prevent"]),class:"space-y-4"},[n("div",null,[p[31]||(p[31]=n("label",{class:"block text-sm font-medium mb-2"},"Mt khu mi *",-1)),ae(n("input",{"onUpdate:modelValue":p[11]||(p[11]=P=>c.value.newPassword=P),type:"password",required:"",minlength:"6",class:"w-full p-3 border rounded-lg",placeholder:"Nhp mt khu mi"},null,512),[[fe,c.value.newPassword]])]),n("div",oE,[n("button",{type:"button",onClick:p[12]||(p[12]=P=>o.value=!1),class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"}," Hy "),p[32]||(p[32]=n("button",{type:"submit",class:"flex-1 bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg"}," Reset Password ",-1))])],32)])])):W("",!0),i.value?(y(),b("div",iE,[n("div",aE,[p[36]||(p[36]=n("h3",{class:"text-xl font-bold mb-4 text-red-600"},"Xc nhn xa",-1)),n("p",lE,[p[34]||(p[34]=Pe("Bn c chc chn mun xa user: ",-1)),n("strong",null,h((I=a.value)==null?void 0:I.name),1),p[35]||(p[35]=Pe("?",-1))]),p[37]||(p[37]=n("p",{class:"text-sm text-red-500 mb-4"}," Hnh ng ny khng th hon tc!",-1)),n("div",uE,[n("button",{onClick:p[13]||(p[13]=P=>i.value=!1),class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"}," Hy "),n("button",{onClick:V,class:"flex-1 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg"}," Xa User ")])])])):W("",!0)])])}}},dE=je(cE,[["__scopeId","data-v-65d02e1c"]]);const fE={class:"min-h-screen bg-gray-50"},pE={class:"px-4 py-4 pb-24"},hE={key:0,class:"text-center py-10"},gE={key:1,class:"space-y-4"},mE={class:"bg-gradient-to-br from-blue-500 to-purple-500 rounded-2xl p-6 text-white shadow-lg"},yE={class:"text-center mb-4"},bE={class:"text-2xl font-bold"},xE={class:"text-blue-100"},vE={class:"flex justify-center gap-2"},wE={class:"bg-white rounded-2xl p-6 shadow-sm"},_E={class:"space-y-3"},CE={class:"flex items-center justify-between p-3 bg-gray-50 rounded-xl"},SE={class:"font-medium"},$E={class:"flex items-center justify-between p-3 bg-gray-50 rounded-xl"},kE={class:"font-medium"},EE={class:"flex items-center justify-between p-3 bg-gray-50 rounded-xl"},TE={class:"font-medium"},OE={class:"flex items-center justify-between p-3 bg-gray-50 rounded-xl"},RE={class:"font-medium"},AE={class:"bg-white rounded-2xl p-6 shadow-sm"},IE={key:0,class:"text-red-500 text-sm mt-1"},NE={class:"flex gap-2"},DE=["disabled"],PE={__name:"ProfileView",setup(e){const t=Tu(),s=Es(),r=ps(),o=Z(!1),i=Z({currentPassword:"",newPassword:"",confirmPassword:""}),a=J(()=>t.loading),l=J(()=>t.currentUser),u=J(()=>i.value.currentPassword&&i.value.newPassword&&i.value.confirmPassword&&i.value.newPassword===i.value.confirmPassword&&i.value.newPassword.length>=6);Ge(async()=>{try{await t.fetchCurrentUser()}catch(T){console.error("Error loading profile:",T)}});const d=async()=>{if(!u.value){alert("Vui lng kim tra li thng tin mt khu");return}try{await t.changePassword(i.value.currentPassword,i.value.newPassword),alert(" i mt khu thnh cng!"),c(),o.value=!1}catch(T){alert(" Li: "+T.message)}},c=()=>{i.value={currentPassword:"",newPassword:"",confirmPassword:""}},f=async()=>{confirm("Bn c chc mun ng xut?")&&(await s.logout(),r.push("/login"))},w=T=>({manager:"bg-purple-100 text-purple-800",cashier:"bg-blue-100 text-blue-800",waiter:"bg-green-100 text-green-800"})[T]||"bg-gray-100 text-gray-800",g=T=>({manager:"Manager",cashier:"Cashier",waiter:"Waiter"})[T]||T,S=T=>new Date(T).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return(T,k)=>(y(),b("div",fE,[k[20]||(k[20]=n("div",{class:"sticky top-0 z-40 bg-white shadow-sm"},[n("div",{class:"px-4 py-3"},[n("h1",{class:"text-xl font-bold text-gray-800"}," C nhn")])],-1)),n("div",pE,[a.value?(y(),b("div",hE,[...k[4]||(k[4]=[n("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},null,-1)])])):l.value?(y(),b("div",gE,[n("div",mE,[n("div",yE,[k[5]||(k[5]=n("div",{class:"w-20 h-20 bg-white rounded-full mx-auto mb-3 flex items-center justify-center text-4xl"},"  ",-1)),n("h2",bE,h(l.value.name),1),n("p",xE,"@"+h(l.value.username),1)]),n("div",vE,[n("span",{class:he([w(l.value.role),"px-4 py-2 rounded-full text-sm font-medium"])},h(g(l.value.role)),3),n("span",{class:he([l.value.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800","px-4 py-2 rounded-full text-sm font-medium"])},h(l.value.active?"Hot ng":"Tm kha"),3)])]),n("div",wE,[k[14]||(k[14]=n("h3",{class:"text-lg font-bold mb-4"},"Thng tin ti khon",-1)),n("div",_E,[n("div",CE,[n("div",null,[k[6]||(k[6]=n("p",{class:"text-xs text-gray-500"},"Username",-1)),n("p",SE,h(l.value.username),1)]),k[7]||(k[7]=n("span",{class:"text-2xl"},"",-1))]),n("div",$E,[n("div",null,[k[8]||(k[8]=n("p",{class:"text-xs text-gray-500"},"Tn hin th",-1)),n("p",kE,h(l.value.name),1)]),k[9]||(k[9]=n("span",{class:"text-2xl"},"",-1))]),n("div",EE,[n("div",null,[k[10]||(k[10]=n("p",{class:"text-xs text-gray-500"},"Ngy to",-1)),n("p",TE,h(S(l.value.created_at)),1)]),k[11]||(k[11]=n("span",{class:"text-2xl"},"",-1))]),n("div",OE,[n("div",null,[k[12]||(k[12]=n("p",{class:"text-xs text-gray-500"},"ng nhp cui",-1)),n("p",RE,h(l.value.last_login?S(l.value.last_login):"Cha c"),1)]),k[13]||(k[13]=n("span",{class:"text-2xl"},"",-1))])])]),k[19]||(k[19]=No('<div class="bg-white rounded-2xl p-6 shadow-sm" data-v-1eb27aec><h3 class="text-lg font-bold mb-4" data-v-1eb27aec>Thng k hot ng</h3><div class="grid grid-cols-3 gap-3" data-v-1eb27aec><div class="text-center p-4 bg-blue-50 rounded-xl" data-v-1eb27aec><div class="text-2xl mb-1" data-v-1eb27aec></div><div class="text-xl font-bold text-blue-600" data-v-1eb27aec>--</div><div class="text-xs text-gray-600" data-v-1eb27aec>Orders</div></div><div class="text-center p-4 bg-green-50 rounded-xl" data-v-1eb27aec><div class="text-2xl mb-1" data-v-1eb27aec></div><div class="text-xl font-bold text-green-600" data-v-1eb27aec>--</div><div class="text-xs text-gray-600" data-v-1eb27aec>Ca lm</div></div><div class="text-center p-4 bg-purple-50 rounded-xl" data-v-1eb27aec><div class="text-2xl mb-1" data-v-1eb27aec></div><div class="text-xl font-bold text-purple-600" data-v-1eb27aec>--</div><div class="text-xs text-gray-600" data-v-1eb27aec>Doanh thu</div></div></div><p class="text-xs text-gray-500 text-center mt-3" data-v-1eb27aec> * Thng k chi tit s c cp nht </p></div>',1)),n("div",AE,[k[18]||(k[18]=n("h3",{class:"text-lg font-bold mb-4"}," i mt khu",-1)),n("button",{onClick:k[0]||(k[0]=U=>o.value=!o.value),class:"w-full bg-blue-500 text-white py-3 rounded-xl font-medium active:scale-95 transition-transform"},h(o.value?"n form":"i mt khu"),1),o.value?(y(),b("form",{key:0,onSubmit:ze(d,["prevent"]),class:"space-y-4 mt-4"},[n("div",null,[k[15]||(k[15]=n("label",{class:"block text-sm font-medium mb-2"},"Mt khu hin ti *",-1)),ae(n("input",{"onUpdate:modelValue":k[1]||(k[1]=U=>i.value.currentPassword=U),type:"password",required:"",class:"w-full p-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nhp mt khu hin ti"},null,512),[[fe,i.value.currentPassword]])]),n("div",null,[k[16]||(k[16]=n("label",{class:"block text-sm font-medium mb-2"},"Mt khu mi *",-1)),ae(n("input",{"onUpdate:modelValue":k[2]||(k[2]=U=>i.value.newPassword=U),type:"password",required:"",minlength:"6",class:"w-full p-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ti thiu 6 k t"},null,512),[[fe,i.value.newPassword]])]),n("div",null,[k[17]||(k[17]=n("label",{class:"block text-sm font-medium mb-2"},"Xc nhn mt khu *",-1)),ae(n("input",{"onUpdate:modelValue":k[3]||(k[3]=U=>i.value.confirmPassword=U),type:"password",required:"",class:"w-full p-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nhp li mt khu mi"},null,512),[[fe,i.value.confirmPassword]]),i.value.newPassword&&i.value.confirmPassword&&i.value.newPassword!==i.value.confirmPassword?(y(),b("div",IE,"  Mt khu xc nhn khng khp ")):W("",!0)]),n("div",NE,[n("button",{type:"button",onClick:c,class:"flex-1 bg-gray-200 text-gray-700 px-4 py-3 rounded-xl font-medium"}," Hy "),n("button",{type:"submit",disabled:!u.value,class:"flex-1 bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed"}," Xc nhn ",8,DE)])],32)):W("",!0)]),n("button",{onClick:f,class:"w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-xl font-bold active:scale-95 transition-transform"},"  ng xut ")])):W("",!0)]),ye(It)]))}},LE=je(PE,[["__scopeId","data-v-1eb27aec"]]),ME=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:cg,meta:{requiresGuest:!0}},{path:"/dashboard",name:"Dashboard",component:i0,meta:{requiresAuth:!0}},{path:"/menu",name:"Menu",component:oy,meta:{requiresAuth:!0,requiresManager:!0}},{path:"/ingredients",name:"Ingredients",component:Xb,meta:{requiresAuth:!0,requiresManager:!0}},{path:"/facilities",name:"Facilities",component:Iv,meta:{requiresAuth:!0,requiresManager:!0}},{path:"/expenses",name:"Expenses",component:M1,meta:{requiresAuth:!0,requiresManager:!0}},{path:"/orders",name:"Orders",component:h_,meta:{requiresAuth:!0,requiresNotBarista:!0}},{path:"/barista",name:"Barista",component:m2,meta:{requiresAuth:!0,requiresBarista:!0}},{path:"/shifts",name:"Shifts",component:s3,meta:{requiresAuth:!0}},{path:"/manager/shifts",name:"ManagerShifts",component:g5,meta:{requiresAuth:!0,requiresManager:!0}},{path:"/users",name:"UserManagement",component:dE,meta:{requiresAuth:!0,requiresManager:!0}},{path:"/profile",name:"Profile",component:LE,meta:{requiresAuth:!0}},{path:"/cashier",name:"CashierDashboard",component:C4,meta:{requiresAuth:!0,requiresCashier:!0}},{path:"/cashier/reports",name:"CashierReports",component:j$,meta:{requiresAuth:!0,requiresCashier:!0}},{path:"/cashier/shift-closure/:id",name:"CashierShiftClosure",component:kk,meta:{requiresAuth:!0,requiresCashier:!0}}],Ou=wp({history:Zf(),routes:ME});Ou.beforeEach((e,t,s)=>{var o,i,a,l;const r=Es();e.meta.requiresAuth&&!r.isAuthenticated?s("/login"):e.meta.requiresGuest&&r.isAuthenticated||e.meta.requiresManager&&((o=r.user)==null?void 0:o.role)!=="manager"||e.meta.requiresCashier&&!["cashier","manager"].includes((i=r.user)==null?void 0:i.role)||e.meta.requiresBarista&&((a=r.user)==null?void 0:a.role)!=="barista"||e.meta.requiresNotBarista&&((l=r.user)==null?void 0:l.role)==="barista"?s("/dashboard"):s()});const Wo=sf(gf),UE=af();Wo.use(UE);Wo.use(Ou);Wo.mount("#app");
